var Lb=Object.create;var Bl=Object.defineProperty,Vb=Object.defineProperties,jb=Object.getOwnPropertyDescriptor,Bb=Object.getOwnPropertyDescriptors,Ub=Object.getOwnPropertyNames,wp=Object.getOwnPropertySymbols,$b=Object.getPrototypeOf,xp=Object.prototype.hasOwnProperty,Hb=Object.prototype.propertyIsEnumerable;var Cp=(t,n,e)=>n in t?Bl(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e,A=(t,n)=>{for(var e in n||={})xp.call(n,e)&&Cp(t,e,n[e]);if(wp)for(var e of wp(n))Hb.call(n,e)&&Cp(t,e,n[e]);return t},fe=(t,n)=>Vb(t,Bb(n));var Dp=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(n,e)=>(typeof require<"u"?require:n)[e]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var Ep=(t,n)=>()=>(n||t((n={exports:{}}).exports,n),n.exports);var zb=(t,n,e,i)=>{if(n&&typeof n=="object"||typeof n=="function")for(let r of Ub(n))!xp.call(t,r)&&r!==e&&Bl(t,r,{get:()=>n[r],enumerable:!(i=jb(n,r))||i.enumerable});return t};var Gb=(t,n,e)=>(e=t!=null?Lb($b(t)):{},zb(n||!t||!t.__esModule?Bl(e,"default",{value:t,enumerable:!0}):e,t));var We=(t,n,e)=>new Promise((i,r)=>{var o=c=>{try{a(e.next(c))}catch(h){r(h)}},s=c=>{try{a(e.throw(c))}catch(h){r(h)}},a=c=>c.done?i(c.value):Promise.resolve(c.value).then(o,s);a((e=e.apply(t,n)).next())});var Cb=Ep(()=>{"use strict"});var xb=Ep((MU,gp)=>{"use strict";var mp;(function(){"use strict";mp=function(t,n,e,i){i=i||{},this.dictionary=null,this.rules={},this.dictionaryTable={},this.compoundRules=[],this.compoundRuleCodes={},this.replacementTable=[],this.flags=i.flags||{},this.memoized={},this.loaded=!1;var r=this,o,s,a,c,h;if(t)if(r.dictionary=t,n&&e)x();else if(typeof window<"u"&&(window.chrome&&window.chrome.runtime||window.browser&&window.browser.runtime)){var f=window.chrome&&window.chrome.runtime?window.chrome.runtime:window.browser.runtime;i.dictionaryPath?o=i.dictionaryPath:o="typo/dictionaries",n||p(f.getURL(o+"/"+t+"/"+t+".aff"),y),e||p(f.getURL(o+"/"+t+"/"+t+".dic"),v)}else i.dictionaryPath?o=i.dictionaryPath:typeof __dirname<"u"?o=__dirname+"/dictionaries":o="./dictionaries",n||p(o+"/"+t+"/"+t+".aff",y),e||p(o+"/"+t+"/"+t+".dic",v);function p(E,O){var R=r._readFile(E,null,i?.asyncLoad);i?.asyncLoad?R.then(function(j){O(j)}):O(R)}function y(E){n=E,e&&x()}function v(E){e=E,n&&x()}function x(){for(r.rules=r._parseAFF(n),r.compoundRuleCodes={},s=0,c=r.compoundRules.length;s<c;s++){var E=r.compoundRules[s];for(a=0,h=E.length;a<h;a++)r.compoundRuleCodes[E[a]]=[]}"ONLYINCOMPOUND"in r.flags&&(r.compoundRuleCodes[r.flags.ONLYINCOMPOUND]=[]),r.dictionaryTable=r._parseDIC(e);for(s in r.compoundRuleCodes)r.compoundRuleCodes[s].length===0&&delete r.compoundRuleCodes[s];for(s=0,c=r.compoundRules.length;s<c;s++){var O=r.compoundRules[s],R="";for(a=0,h=O.length;a<h;a++){var j=O[a];j in r.compoundRuleCodes?R+="("+r.compoundRuleCodes[j].join("|")+")":R+=j}r.compoundRules[s]=new RegExp("^"+R+"$","i")}r.loaded=!0,i?.asyncLoad&&i?.loadedCallback&&i.loadedCallback(r)}return this},mp.prototype={load:function(t){for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n]);return this},_readFile:function(t,n,e){var i;if(n=n||"utf8",typeof XMLHttpRequest<"u"){var r=new XMLHttpRequest;if(r.open("GET",t,!!e),(i=r.overrideMimeType)===null||i===void 0||i.call(r,"text/plain; charset="+n),e){var o=new Promise(function(a,c){r.onload=function(){r.status===200?a(r.responseText):c(r.statusText)},r.onerror=function(){c(r.statusText)}});return r.send(null),o}else return r.send(null),r.responseText}else if(typeof Dp<"u"){var s=Cb();try{if(s.existsSync(t))return s.readFileSync(t,n);console.log("Path "+t+" does not exist.")}catch(a){console.log(a)}return""}return""},_parseAFF:function(t){var n={},e,i,r,o,s,a,c,h,f=t.split(/\r?\n/);for(s=0,c=f.length;s<c;s++)if(e=this._removeAffixComments(f[s]),e=e.trim(),!!e){var p=e.split(/\s+/),y=p[0];if(y==="PFX"||y==="SFX"){var v=p[1],x=p[2];r=parseInt(p[3],10);var E=[];for(a=s+1,h=s+1+r;a<h;a++){i=f[a],o=i.split(/\s+/);var O=o[2],R=o[3].split("/"),j=R[0];j==="0"&&(j="");var $=this.parseRuleCodes(R[1]),F=o[4],ve={add:j};$.length>0&&(ve.continuationClasses=$),F!=="."&&(y==="SFX"?ve.match=new RegExp(F+"$"):ve.match=new RegExp("^"+F)),O!="0"&&(y==="SFX"?ve.remove=new RegExp(O+"$"):ve.remove=O),E.push(ve)}n[v]={type:y,combineable:x==="Y",entries:E},s+=r}else if(y==="COMPOUNDRULE"){for(r=parseInt(p[1],10),a=s+1,h=s+1+r;a<h;a++)e=f[a],o=e.split(/\s+/),this.compoundRules.push(o[1]);s+=r}else y==="REP"?(o=e.split(/\s+/),o.length===3&&this.replacementTable.push([o[1],o[2]])):this.flags[y]=p[1]}return n},_removeAffixComments:function(t){return t.match(/^\s*#/)?"":t},_parseDIC:function(t){t=this._removeDicComments(t);var n=t.split(/\r?\n/),e={};function i(ln,ao){e.hasOwnProperty(ln)||(e[ln]=null),ao.length>0&&(e[ln]===null&&(e[ln]=[]),e[ln].push(ao))}for(var r=1,o=n.length;r<o;r++){var s=n[r];if(s){var a=s.replace(/\s.*$/,""),c=a.split("/",2),h=c[0];if(c.length>1){var f=this.parseRuleCodes(c[1]);(!("NEEDAFFIX"in this.flags)||f.indexOf(this.flags.NEEDAFFIX)===-1)&&i(h,f);for(var p=0,y=f.length;p<y;p++){var v=f[p],x=this.rules[v];if(x)for(var E=this._applyRule(h,x),O=0,R=E.length;O<R;O++){var j=E[O];if(i(j,[]),x.combineable)for(var $=p+1;$<y;$++){var F=f[$],ve=this.rules[F];if(ve&&ve.combineable&&x.type!=ve.type)for(var we=this._applyRule(j,ve),ie=0,Ot=we.length;ie<Ot;ie++){var lt=we[ie];i(lt,[])}}}v in this.compoundRuleCodes&&this.compoundRuleCodes[v].push(h)}}else i(h.trim(),[])}}return e},_removeDicComments:function(t){return t=t.replace(/^\t.*$/mg,""),t},parseRuleCodes:function(t){if(t)if("FLAG"in this.flags)if(this.flags.FLAG==="long"){for(var n=[],e=0,i=t.length;e<i;e+=2)n.push(t.substr(e,2));return n}else return this.flags.FLAG==="num"?t.split(","):this.flags.FLAG==="UTF-8"?Array.from(t):t.split("");else return t.split("");else return[]},_applyRule:function(t,n){for(var e=n.entries,i=[],r=0,o=e.length;r<o;r++){var s=e[r];if(!s.match||t.match(s.match)){var a=t;if(s.remove&&(a=a.replace(s.remove,"")),n.type==="SFX"?a=a+s.add:a=s.add+a,i.push(a),"continuationClasses"in s)for(var c=0,h=s.continuationClasses.length;c<h;c++){var f=this.rules[s.continuationClasses[c]];f&&(i=i.concat(this._applyRule(a,f)))}}}return i},check:function(t){if(!this.loaded)throw"Dictionary not loaded.";if(!t)return!1;var n=t.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(this.checkExact(n))return!0;if(n.toUpperCase()===n){var e=n[0]+n.substring(1).toLowerCase();if(this.hasFlag(e,"KEEPCASE"))return!1;if(this.checkExact(e)||this.checkExact(n.toLowerCase()))return!0}var i=n[0].toLowerCase()+n.substring(1);if(i!==n){if(this.hasFlag(i,"KEEPCASE"))return!1;if(this.checkExact(i))return!0}return!1},checkExact:function(t){if(!this.loaded)throw"Dictionary not loaded.";var n=this.dictionaryTable[t],e,i;if(typeof n>"u"){if("COMPOUNDMIN"in this.flags&&t.length>=this.flags.COMPOUNDMIN){for(e=0,i=this.compoundRules.length;e<i;e++)if(t.match(this.compoundRules[e]))return!0}}else{if(n===null)return!0;if(typeof n=="object"){for(e=0,i=n.length;e<i;e++)if(!this.hasFlag(t,"ONLYINCOMPOUND",n[e]))return!0}}return!1},hasFlag:function(t,n,e){if(!this.loaded)throw"Dictionary not loaded.";return!!(n in this.flags&&(typeof e>"u"&&(e=Array.prototype.concat.apply([],this.dictionaryTable[t])),e&&e.indexOf(this.flags[n])!==-1))},alphabet:"",suggest:function(t,n){if(!this.loaded)throw"Dictionary not loaded.";if(n=n||5,this.memoized.hasOwnProperty(t)){var e=this.memoized[t].limit;if(n<=e||this.memoized[t].suggestions.length<e)return this.memoized[t].suggestions.slice(0,n)}if(this.check(t))return[];for(var i=0,r=this.replacementTable.length;i<r;i++){var o=this.replacementTable[i];if(t.indexOf(o[0])!==-1){var s=t.replace(o[0],o[1]);if(this.check(s))return[s]}}if(!this.alphabet){this.alphabet="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ","TRY"in this.flags&&(this.alphabet+=this.flags.TRY),"WORDCHARS"in this.flags&&(this.alphabet+=this.flags.WORDCHARS);var a=this.alphabet.split("");a.sort();for(var c={},i=0;i<a.length;i++)c[a[i]]=!0;this.alphabet="";for(var i in c)this.alphabet+=i}var h=this;function f(y,v){var x={},E,O,R,j,$,F,ve=h.alphabet.length;for(var we in y)for(E=0,j=we.length+1;E<j;E++){var ie=[we.substring(0,E),we.substring(E)];if(ie[1]&&(F=ie[0]+ie[1].substring(1),(!v||h.check(F))&&(F in x?x[F]+=1:x[F]=1)),ie[1].length>1&&ie[1][1]!==ie[1][0]&&(F=ie[0]+ie[1][1]+ie[1][0]+ie[1].substring(2),(!v||h.check(F))&&(F in x?x[F]+=1:x[F]=1)),ie[1]){var Ot=ie[1].substring(0,1).toUpperCase()===ie[1].substring(0,1)?"uppercase":"lowercase";for(O=0;O<ve;O++){var lt=h.alphabet[O];Ot==="uppercase"&&(lt=lt.toUpperCase()),lt!=ie[1].substring(0,1)&&(F=ie[0]+lt+ie[1].substring(1),(!v||h.check(F))&&(F in x?x[F]+=1:x[F]=1))}}if(ie[1])for(O=0;O<ve;O++){var Ot=ie[0].substring(-1).toUpperCase()===ie[0].substring(-1)&&ie[1].substring(0,1).toUpperCase()===ie[1].substring(0,1)?"uppercase":"lowercase",lt=h.alphabet[O];Ot==="uppercase"&&(lt=lt.toUpperCase()),F=ie[0]+lt+ie[1],(!v||h.check(F))&&(F in x?x[F]+=1:x[F]=1)}}return x}function p(y){var v,x=f((v={},v[y]=!0,v)),E=f(x,!0),O=E;for(var R in x)h.check(R)&&(R in O?O[R]+=x[R]:O[R]=x[R]);var j,$,F=[];for(j in O)O.hasOwnProperty(j)&&(h.hasFlag(j,"PRIORITYSUGGEST")&&(O[j]+=1e3),F.push([j,O[j]]));function ve(lt,ln){var ao=lt[1],bp=ln[1];return ao<bp?-1:ao>bp?1:ln[0].localeCompare(lt[0])}F.sort(ve).reverse();var we=[],ie="lowercase";y.toUpperCase()===y?ie="uppercase":y.substr(0,1).toUpperCase()+y.substr(1).toLowerCase()===y&&(ie="capitalized");var Ot=n;for(j=0;j<Math.min(Ot,F.length);j++)ie==="uppercase"?F[j][0]=F[j][0].toUpperCase():ie==="capitalized"&&(F[j][0]=F[j][0].substr(0,1).toUpperCase()+F[j][0].substr(1)),!h.hasFlag(F[j][0],"NOSUGGEST")&&we.indexOf(F[j][0])===-1?we.push(F[j][0]):Ot++;return we}return this.memoized[t]={suggestions:p(t),limit:n},this.memoized[t].suggestions}}})();typeof gp<"u"&&(gp.exports=mp)});var Ip=null;var Ul=1,$l=Symbol("SIGNAL");function ue(t){let n=Ip;return Ip=t,n}var Sp={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Wb(t){if(!(Gl(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Ul)){if(!t.producerMustRecompute(t)&&!Hl(t)){t.dirty=!1,t.lastCleanEpoch=Ul;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Ul}}function Mp(t){return t&&(t.nextProducerIndex=0),ue(t)}function Tp(t,n){if(ue(n),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Gl(t))for(let e=t.nextProducerIndex;e<t.producerNode.length;e++)zl(t.producerNode[e],t.producerIndexOfThis[e]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Hl(t){Fs(t);for(let n=0;n<t.producerNode.length;n++){let e=t.producerNode[n],i=t.producerLastReadVersion[n];if(i!==e.version||(Wb(e),i!==e.version))return!0}return!1}function Ap(t){if(Fs(t),Gl(t))for(let n=0;n<t.producerNode.length;n++)zl(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function zl(t,n){if(qb(t),Fs(t),t.liveConsumerNode.length===1)for(let i=0;i<t.producerNode.length;i++)zl(t.producerNode[i],t.producerIndexOfThis[i]);let e=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[e],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[e],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){let i=t.liveConsumerIndexOfThis[n],r=t.liveConsumerNode[n];Fs(r),r.producerIndexOfThis[i]=n}}function Gl(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Fs(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function qb(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Yb(){throw new Error}var Qb=Yb;function Op(t){Qb=t}function U(t){return typeof t=="function"}function tr(t){let e=t(i=>{Error.call(i),i.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var Ls=tr(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function wi(t,n){if(t){let e=t.indexOf(n);0<=e&&t.splice(e,1)}}var Ie=class t{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let o of e)o.remove(this);else e.remove(this);let{initialTeardown:i}=this;if(U(i))try{i()}catch(o){n=o instanceof Ls?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{kp(o)}catch(s){n=n??[],s instanceof Ls?n=[...n,...s.errors]:n.push(s)}}if(n)throw new Ls(n)}}add(n){var e;if(n&&n!==this)if(this.closed)kp(n);else{if(n instanceof t){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(n)}}_hasParent(n){let{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){let{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&wi(e,n)}remove(n){let{_finalizers:e}=this;e&&wi(e,n),n instanceof t&&n._removeParent(this)}};Ie.EMPTY=(()=>{let t=new Ie;return t.closed=!0,t})();var Wl=Ie.EMPTY;function Vs(t){return t instanceof Ie||t&&"closed"in t&&U(t.remove)&&U(t.add)&&U(t.unsubscribe)}function kp(t){U(t)?t():t.unsubscribe()}var Gt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var nr={setTimeout(t,n,...e){let{delegate:i}=nr;return i?.setTimeout?i.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){let{delegate:n}=nr;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function js(t){nr.setTimeout(()=>{let{onUnhandledError:n}=Gt;if(n)n(t);else throw t})}function co(){}var Pp=ql("C",void 0,void 0);function Rp(t){return ql("E",void 0,t)}function Np(t){return ql("N",t,void 0)}function ql(t,n,e){return{kind:t,value:n,error:e}}var Ci=null;function ir(t){if(Gt.useDeprecatedSynchronousErrorHandling){let n=!Ci;if(n&&(Ci={errorThrown:!1,error:null}),t(),n){let{errorThrown:e,error:i}=Ci;if(Ci=null,e)throw i}}else t()}function Fp(t){Gt.useDeprecatedSynchronousErrorHandling&&Ci&&(Ci.errorThrown=!0,Ci.error=t)}var xi=class extends Ie{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Vs(n)&&n.add(this)):this.destination=Xb}static create(n,e,i){return new rr(n,e,i)}next(n){this.isStopped?Ql(Np(n),this):this._next(n)}error(n){this.isStopped?Ql(Rp(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Ql(Pp,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Zb=Function.prototype.bind;function Yl(t,n){return Zb.call(t,n)}var Zl=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(i){Bs(i)}}error(n){let{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(i){Bs(i)}else Bs(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){Bs(e)}}},rr=class extends xi{constructor(n,e,i){super();let r;if(U(n)||!n)r={next:n??void 0,error:e??void 0,complete:i??void 0};else{let o;this&&Gt.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),r={next:n.next&&Yl(n.next,o),error:n.error&&Yl(n.error,o),complete:n.complete&&Yl(n.complete,o)}):r=n}this.destination=new Zl(r)}};function Bs(t){Gt.useDeprecatedSynchronousErrorHandling?Fp(t):js(t)}function Kb(t){throw t}function Ql(t,n){let{onStoppedNotification:e}=Gt;e&&nr.setTimeout(()=>e(t,n))}var Xb={closed:!0,next:co,error:Kb,complete:co};var or=typeof Symbol=="function"&&Symbol.observable||"@@observable";function dt(t){return t}function Kl(...t){return Xl(t)}function Xl(t){return t.length===0?dt:t.length===1?t[0]:function(e){return t.reduce((i,r)=>r(i),e)}}var J=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){let i=new t;return i.source=this,i.operator=e,i}subscribe(e,i,r){let o=ew(e)?e:new rr(e,i,r);return ir(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return i=Lp(i),new i((r,o)=>{let s=new rr({next:a=>{try{e(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(e){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(e)}[or](){return this}pipe(...e){return Xl(e)(this)}toPromise(e){return e=Lp(e),new e((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return t.create=n=>new t(n),t})();function Lp(t){var n;return(n=t??Gt.Promise)!==null&&n!==void 0?n:Promise}function Jb(t){return t&&U(t.next)&&U(t.error)&&U(t.complete)}function ew(t){return t&&t instanceof xi||Jb(t)&&Vs(t)}function Jl(t){return U(t?.lift)}function ne(t){return n=>{if(Jl(n))return n.lift(function(e){try{return t(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Z(t,n,e,i,r){return new ed(t,n,e,i,r)}var ed=class extends xi{constructor(n,e,i,r,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(c){n.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){n.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function sr(){return ne((t,n)=>{let e=null;t._refCount++;let i=Z(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){e=null;return}let r=t._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),n.unsubscribe()});t.subscribe(i),i.closed||(e=t.connect())})}var ar=class extends J{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Jl(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Ie;let e=this.getSubject();n.add(this.source.subscribe(Z(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Ie.EMPTY)}return n}refCount(){return sr()(this)}};var Vp=tr(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var H=(()=>{class t extends J{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let i=new Us(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new Vp}next(e){ir(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(e)}})}error(e){ir(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){ir(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:i,isStopped:r,observers:o}=this;return i||r?Wl:(this.currentObservers=null,o.push(e),new Ie(()=>{this.currentObservers=null,wi(o,e)}))}_checkFinalizedStatuses(e){let{hasError:i,thrownError:r,isStopped:o}=this;i?e.error(r):o&&e.complete()}asObservable(){let e=new J;return e.source=this,e}}return t.create=(n,e)=>new Us(n,e),t})(),Us=class extends H{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.next)===null||i===void 0||i.call(e,n)}error(n){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.error)===null||i===void 0||i.call(e,n)}complete(){var n,e;(e=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||e===void 0||e.call(n)}_subscribe(n){var e,i;return(i=(e=this.source)===null||e===void 0?void 0:e.subscribe(n))!==null&&i!==void 0?i:Wl}};var Oe=class extends H{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){let{hasError:n,thrownError:e,_value:i}=this;if(n)throw e;return this._throwIfClosed(),i}next(n){super.next(this._value=n)}};var td={now(){return(td.delegate||Date).now()},delegate:void 0};var $s=class extends Ie{constructor(n,e){super()}schedule(n,e=0){return this}};var lo={setInterval(t,n,...e){let{delegate:i}=lo;return i?.setInterval?i.setInterval(t,n,...e):setInterval(t,n,...e)},clearInterval(t){let{delegate:n}=lo;return(n?.clearInterval||clearInterval)(t)},delegate:void 0};var Hs=class extends $s{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){var i;if(this.closed)return this;this.state=n;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,e),this}requestAsyncId(n,e,i=0){return lo.setInterval(n.flush.bind(n,this),i)}recycleAsyncId(n,e,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return e;e!=null&&lo.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(n,e);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let i=!1,r;try{this.work(n)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:n,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,wi(i,this),n!=null&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}};var cr=class t{constructor(n,e=t.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,i){return new this.schedulerActionCtor(this,n).schedule(i,e)}};cr.now=td.now;var zs=class extends cr{constructor(n,e=cr.now){super(n,e),this.actions=[],this._active=!1}flush(n){let{actions:e}=this;if(this._active){e.push(n);return}let i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=e.shift());if(this._active=!1,i){for(;n=e.shift();)n.unsubscribe();throw i}}};var uo=new zs(Hs),jp=uo;var ut=new J(t=>t.complete());function Gs(t){return t&&U(t.schedule)}function nd(t){return t[t.length-1]}function Ws(t){return U(nd(t))?t.pop():void 0}function dn(t){return Gs(nd(t))?t.pop():void 0}function Bp(t,n){return typeof nd(t)=="number"?t.pop():n}function $p(t,n,e,i){function r(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(f){try{h(i.next(f))}catch(p){s(p)}}function c(f){try{h(i.throw(f))}catch(p){s(p)}}function h(f){f.done?o(f.value):r(f.value).then(a,c)}h((i=i.apply(t,n||[])).next())})}function Up(t){var n=typeof Symbol=="function"&&Symbol.iterator,e=n&&t[n],i=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Di(t){return this instanceof Di?(this.v=t,this):new Di(t)}function Hp(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=e.apply(t,n||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(v){return function(x){return Promise.resolve(x).then(v,p)}}function a(v,x){i[v]&&(r[v]=function(E){return new Promise(function(O,R){o.push([v,E,O,R])>1||c(v,E)})},x&&(r[v]=x(r[v])))}function c(v,x){try{h(i[v](x))}catch(E){y(o[0][3],E)}}function h(v){v.value instanceof Di?Promise.resolve(v.value.v).then(f,p):y(o[0][2],v)}function f(v){c("next",v)}function p(v){c("throw",v)}function y(v,x){v(x),o.shift(),o.length&&c(o[0][0],o[0][1])}}function zp(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t[Symbol.asyncIterator],e;return n?n.call(t):(t=typeof Up=="function"?Up(t):t[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(o){e[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),r(a,c,s.done,s.value)})}}function r(o,s,a,c){Promise.resolve(c).then(function(h){o({value:h,done:a})},s)}}var lr=t=>t&&typeof t.length=="number"&&typeof t!="function";function qs(t){return U(t?.then)}function Ys(t){return U(t[or])}function Qs(t){return Symbol.asyncIterator&&U(t?.[Symbol.asyncIterator])}function Zs(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function tw(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ks=tw();function Xs(t){return U(t?.[Ks])}function Js(t){return Hp(this,arguments,function*(){let e=t.getReader();try{for(;;){let{value:i,done:r}=yield Di(e.read());if(r)return yield Di(void 0);yield yield Di(i)}}finally{e.releaseLock()}})}function ea(t){return U(t?.getReader)}function Se(t){if(t instanceof J)return t;if(t!=null){if(Ys(t))return nw(t);if(lr(t))return iw(t);if(qs(t))return rw(t);if(Qs(t))return Gp(t);if(Xs(t))return ow(t);if(ea(t))return sw(t)}throw Zs(t)}function nw(t){return new J(n=>{let e=t[or]();if(U(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function iw(t){return new J(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}function rw(t){return new J(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,js)})}function ow(t){return new J(n=>{for(let e of t)if(n.next(e),n.closed)return;n.complete()})}function Gp(t){return new J(n=>{aw(t,n).catch(e=>n.error(e))})}function sw(t){return Gp(Js(t))}function aw(t,n){var e,i,r,o;return $p(this,void 0,void 0,function*(){try{for(e=zp(t);i=yield e.next(),!i.done;){let s=i.value;if(n.next(s),n.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}n.complete()})}function _t(t,n,e,i=0,r=!1){let o=n.schedule(function(){e(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(o),!r)return o}function ta(t,n=0){return ne((e,i)=>{e.subscribe(Z(i,r=>_t(i,t,()=>i.next(r),n),()=>_t(i,t,()=>i.complete(),n),r=>_t(i,t,()=>i.error(r),n)))})}function na(t,n=0){return ne((e,i)=>{i.add(t.schedule(()=>e.subscribe(i),n))})}function Wp(t,n){return Se(t).pipe(na(n),ta(n))}function qp(t,n){return Se(t).pipe(na(n),ta(n))}function Yp(t,n){return new J(e=>{let i=0;return n.schedule(function(){i===t.length?e.complete():(e.next(t[i++]),e.closed||this.schedule())})})}function Qp(t,n){return new J(e=>{let i;return _t(e,n,()=>{i=t[Ks](),_t(e,n,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){e.error(s);return}o?e.complete():e.next(r)},0,!0)}),()=>U(i?.return)&&i.return()})}function ia(t,n){if(!t)throw new Error("Iterable cannot be null");return new J(e=>{_t(e,n,()=>{let i=t[Symbol.asyncIterator]();_t(e,n,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function Zp(t,n){return ia(Js(t),n)}function Kp(t,n){if(t!=null){if(Ys(t))return Wp(t,n);if(lr(t))return Yp(t,n);if(qs(t))return qp(t,n);if(Qs(t))return ia(t,n);if(Xs(t))return Qp(t,n);if(ea(t))return Zp(t,n)}throw Zs(t)}function be(t,n){return n?Kp(t,n):Se(t)}function L(...t){let n=dn(t);return be(t,n)}function un(t,n){let e=U(t)?t:()=>t,i=r=>r.error(e());return new J(n?r=>n.schedule(i,0,r):i)}function ra(t){return!!t&&(t instanceof J||U(t.lift)&&U(t.subscribe))}var Wt=tr(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function id(t,n){let e=typeof n=="object";return new Promise((i,r)=>{let o=!1,s;t.subscribe({next:a=>{s=a,o=!0},error:r,complete:()=>{o?i(s):e?i(n.defaultValue):r(new Wt)}})})}function Xp(t){return t instanceof Date&&!isNaN(t)}function z(t,n){return ne((e,i)=>{let r=0;e.subscribe(Z(i,o=>{i.next(t.call(n,o,r++))}))})}var{isArray:cw}=Array;function lw(t,n){return cw(n)?t(...n):t(n)}function dr(t){return z(n=>lw(t,n))}var{isArray:dw}=Array,{getPrototypeOf:uw,prototype:hw,keys:fw}=Object;function oa(t){if(t.length===1){let n=t[0];if(dw(n))return{args:n,keys:null};if(pw(n)){let e=fw(n);return{args:e.map(i=>n[i]),keys:e}}}return{args:t,keys:null}}function pw(t){return t&&typeof t=="object"&&uw(t)===hw}function sa(t,n){return t.reduce((e,i,r)=>(e[i]=n[r],e),{})}function Ei(...t){let n=dn(t),e=Ws(t),{args:i,keys:r}=oa(t);if(i.length===0)return be([],n);let o=new J(mw(i,n,r?s=>sa(r,s):dt));return e?o.pipe(dr(e)):o}function mw(t,n,e=dt){return i=>{Jp(n,()=>{let{length:r}=t,o=new Array(r),s=r,a=r;for(let c=0;c<r;c++)Jp(n,()=>{let h=be(t[c],n),f=!1;h.subscribe(Z(i,p=>{o[c]=p,f||(f=!0,a--),a||i.next(e(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function Jp(t,n,e){t?_t(e,t,n):n()}function em(t,n,e,i,r,o,s,a){let c=[],h=0,f=0,p=!1,y=()=>{p&&!c.length&&!h&&n.complete()},v=E=>h<i?x(E):c.push(E),x=E=>{o&&n.next(E),h++;let O=!1;Se(e(E,f++)).subscribe(Z(n,R=>{r?.(R),o?v(R):n.next(R)},()=>{O=!0},void 0,()=>{if(O)try{for(h--;c.length&&h<i;){let R=c.shift();s?_t(n,s,()=>x(R)):x(R)}y()}catch(R){n.error(R)}}))};return t.subscribe(Z(n,v,()=>{p=!0,y()})),()=>{a?.()}}function Re(t,n,e=1/0){return U(n)?Re((i,r)=>z((o,s)=>n(i,o,r,s))(Se(t(i,r))),e):(typeof n=="number"&&(e=n),ne((i,r)=>em(i,r,t,e)))}function hn(t=1/0){return Re(dt,t)}function tm(){return hn(1)}function qn(...t){return tm()(be(t,dn(t)))}function Yn(t){return new J(n=>{Se(t()).subscribe(n)})}function rd(...t){let n=Ws(t),{args:e,keys:i}=oa(t),r=new J(o=>{let{length:s}=e;if(!s){o.complete();return}let a=new Array(s),c=s,h=s;for(let f=0;f<s;f++){let p=!1;Se(e[f]).subscribe(Z(o,y=>{p||(p=!0,h--),a[f]=y},()=>c--,void 0,()=>{(!c||!p)&&(h||o.next(i?sa(i,a):a),o.complete())}))}});return n?r.pipe(dr(n)):r}var gw=["addListener","removeListener"],_w=["addEventListener","removeEventListener"],vw=["on","off"];function ho(t,n,e,i){if(U(e)&&(i=e,e=void 0),i)return ho(t,n,e).pipe(dr(i));let[r,o]=ww(t)?_w.map(s=>a=>t[s](n,a,e)):yw(t)?gw.map(nm(t,n)):bw(t)?vw.map(nm(t,n)):[];if(!r&&lr(t))return Re(s=>ho(s,n,e))(Se(t));if(!r)throw new TypeError("Invalid event target");return new J(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return r(a),()=>o(a)})}function nm(t,n){return e=>i=>t[e](n,i)}function yw(t){return U(t.addListener)&&U(t.removeListener)}function bw(t){return U(t.on)&&U(t.off)}function ww(t){return U(t.addEventListener)&&U(t.removeEventListener)}function im(t=0,n,e=jp){let i=-1;return n!=null&&(Gs(n)?e=n:i=n),new J(r=>{let o=Xp(t)?+t-e.now():t;o<0&&(o=0);let s=0;return e.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function fo(...t){let n=dn(t),e=Bp(t,1/0),i=t;return i.length?i.length===1?Se(i[0]):hn(e)(be(i,n)):ut}function Me(t,n){return ne((e,i)=>{let r=0;e.subscribe(Z(i,o=>t.call(n,o,r++)&&i.next(o)))})}function rm(t){return ne((n,e)=>{let i=!1,r=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;let h=r;r=null,e.next(h)}s&&e.complete()},c=()=>{o=null,s&&e.complete()};n.subscribe(Z(e,h=>{i=!0,r=h,o||Se(t(h)).subscribe(o=Z(e,a,c))},()=>{s=!0,(!i||!o||o.closed)&&e.complete()}))})}function aa(t,n=uo){return rm(()=>im(t,n))}function nt(t){return ne((n,e)=>{let i=null,r=!1,o;i=n.subscribe(Z(e,void 0,void 0,s=>{o=Se(t(s,nt(t)(n))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function om(t,n,e,i,r){return(o,s)=>{let a=e,c=n,h=0;o.subscribe(Z(s,f=>{let p=h++;c=a?t(c,f,p):(a=!0,f),i&&s.next(c)},r&&(()=>{a&&s.next(c),s.complete()})))}}function In(t,n){return U(n)?Re(t,n,1):Re(t,1)}function Qn(t,n=uo){return ne((e,i)=>{let r=null,o=null,s=null,a=()=>{if(r){r.unsubscribe(),r=null;let h=o;o=null,i.next(h)}};function c(){let h=s+t,f=n.now();if(f<h){r=this.schedule(void 0,h-f),i.add(r);return}a()}e.subscribe(Z(i,h=>{o=h,s=n.now(),r||(r=n.schedule(c,t),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}function Zn(t){return ne((n,e)=>{let i=!1;n.subscribe(Z(e,r=>{i=!0,e.next(r)},()=>{i||e.next(t),e.complete()}))})}function qe(t){return t<=0?()=>ut:ne((n,e)=>{let i=0;n.subscribe(Z(e,r=>{++i<=t&&(e.next(r),t<=i&&e.complete())}))})}function od(t){return z(()=>t)}function Kn(t,n=dt){return t=t??Cw,ne((e,i)=>{let r,o=!0;e.subscribe(Z(i,s=>{let a=n(s);(o||!t(r,a))&&(o=!1,r=a,i.next(s))}))})}function Cw(t,n){return t===n}function ca(t=xw){return ne((n,e)=>{let i=!1;n.subscribe(Z(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(t())))})}function xw(){return new Wt}function ht(t){return ne((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}function fn(t,n){let e=arguments.length>=2;return i=>i.pipe(t?Me((r,o)=>t(r,o,i)):dt,qe(1),e?Zn(n):ca(()=>new Wt))}function ur(t){return t<=0?()=>ut:ne((n,e)=>{let i=[];n.subscribe(Z(e,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(let r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function sd(t,n){let e=arguments.length>=2;return i=>i.pipe(t?Me((r,o)=>t(r,o,i)):dt,ur(1),e?Zn(n):ca(()=>new Wt))}function ad(t,n){return ne(om(t,n,arguments.length>=2,!0))}function po(t){return Me((n,e)=>t<=e)}function pn(...t){let n=dn(t);return ne((e,i)=>{(n?qn(t,e,n):qn(t,e)).subscribe(i)})}function Qe(t,n){return ne((e,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();e.subscribe(Z(i,c=>{r?.unsubscribe();let h=0,f=o++;Se(t(c,f)).subscribe(r=Z(i,p=>i.next(n?n(c,p,f,h++):p),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function ft(t){return ne((n,e)=>{Se(t).subscribe(Z(e,()=>e.complete(),co)),!e.closed&&n.subscribe(e)})}function ke(t,n,e){let i=U(t)||n||e?{next:t,error:n,complete:e}:t;return i?ne((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(Z(o,c=>{var h;(h=i.next)===null||h===void 0||h.call(i,c),o.next(c)},()=>{var c;a=!1,(c=i.complete)===null||c===void 0||c.call(i),o.complete()},c=>{var h;a=!1,(h=i.error)===null||h===void 0||h.call(i,c),o.error(c)},()=>{var c,h;a&&((c=i.unsubscribe)===null||c===void 0||c.call(i)),(h=i.finalize)===null||h===void 0||h.call(i)}))}):dt}var Wm="https://g.co/ng/security#xss",N=class extends Error{constructor(n,e){super(qa(n,e)),this.code=n}};function qa(t,n){return`${`NG0${Math.abs(t)}`}${n?": "+n:""}`}function Mo(t){return{toString:t}.toString()}var la="__parameters__";function Dw(t){return function(...e){if(t){let i=t(...e);for(let r in i)this[r]=i[r]}}}function qm(t,n,e){return Mo(()=>{let i=Dw(n);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(c,h,f){let p=c.hasOwnProperty(la)?c[la]:Object.defineProperty(c,la,{value:[]})[la];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(s),c}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var Ve=globalThis;function Ce(t){for(let n in t)if(t[n]===Ce)return n;throw Error("Could not find renamed property on target object.")}function Ew(t,n){for(let e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function mt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(mt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let n=t.toString();if(n==null)return""+n;let e=n.indexOf(`
`);return e===-1?n:n.substring(0,e)}function xd(t,n){return t==null||t===""?n===null?"":n:n==null||n===""?t:t+" "+n}var Iw=Ce({__forward_ref__:Ce});function yn(t){return t.__forward_ref__=yn,t.toString=function(){return mt(this())},t}function pt(t){return Ym(t)?t():t}function Ym(t){return typeof t=="function"&&t.hasOwnProperty(Iw)&&t.__forward_ref__===yn}function M(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function q(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ya(t){return sm(t,Zm)||sm(t,Km)}function Qm(t){return Ya(t)!==null}function sm(t,n){return t.hasOwnProperty(n)?t[n]:null}function Sw(t){let n=t&&(t[Zm]||t[Km]);return n||null}function am(t){return t&&(t.hasOwnProperty(cm)||t.hasOwnProperty(Mw))?t[cm]:null}var Zm=Ce({\u0275prov:Ce}),cm=Ce({\u0275inj:Ce}),Km=Ce({ngInjectableDef:Ce}),Mw=Ce({ngInjectorDef:Ce}),k=class{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=M({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Xm(t){return t&&!!t.\u0275providers}var Tw=Ce({\u0275cmp:Ce}),Aw=Ce({\u0275dir:Ce}),Ow=Ce({\u0275pipe:Ce}),kw=Ce({\u0275mod:Ce}),Ca=Ce({\u0275fac:Ce}),mo=Ce({__NG_ELEMENT_ID__:Ce}),lm=Ce({__NG_ENV_ID__:Ce});function Jn(t){return typeof t=="string"?t:t==null?"":String(t)}function Pw(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Jn(t)}function Rw(t,n){let e=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new N(-200,t)}function bu(t,n){throw new N(-201,!1)}var oe=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(oe||{}),Dd;function Jm(){return Dd}function vt(t){let n=Dd;return Dd=t,n}function eg(t,n,e){let i=Ya(t);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(e&oe.Optional)return null;if(n!==void 0)return n;bu(t,"Injector")}var Nw={},_o=Nw,Ed="__NG_DI_FLAG__",xa="ngTempTokenPath",Fw="ngTokenPath",Lw=/\n/gm,Vw="\u0275",dm="__source",gr;function jw(){return gr}function Xn(t){let n=gr;return gr=t,n}function Bw(t,n=oe.Default){if(gr===void 0)throw new N(-203,!1);return gr===null?eg(t,void 0,n):gr.get(t,n&oe.Optional?null:void 0,n)}function b(t,n=oe.Default){return(Jm()||Bw)(pt(t),n)}function T(t,n=oe.Default){return b(t,Qa(n))}function Qa(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Id(t){let n=[];for(let e=0;e<t.length;e++){let i=pt(t[e]);if(Array.isArray(i)){if(i.length===0)throw new N(900,!1);let r,o=oe.Default;for(let s=0;s<i.length;s++){let a=i[s],c=Uw(a);typeof c=="number"?c===-1?r=a.token:o|=c:r=a}n.push(b(r,o))}else n.push(b(i))}return n}function tg(t,n){return t[Ed]=n,t.prototype[Ed]=n,t}function Uw(t){return t[Ed]}function $w(t,n,e,i){let r=t[xa];throw n[dm]&&r.unshift(n[dm]),t.message=Hw(`
`+t.message,r,e,i),t[Fw]=r,t[xa]=null,t}function Hw(t,n,e,i=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==Vw?t.slice(2):t;let r=mt(n);if(Array.isArray(n))r=n.map(mt).join(" -> ");else if(typeof n=="object"){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):mt(a)))}r=`{${o.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${t.replace(Lw,`
  `)}`}var Za=tg(qm("Optional"),8);var wu=tg(qm("SkipSelf"),4);function Ti(t,n){let e=t.hasOwnProperty(Ca);return e?t[Ca]:null}function zw(t,n,e){if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],o=n[i];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}function Gw(t){return t.flat(Number.POSITIVE_INFINITY)}function Cu(t,n){t.forEach(e=>Array.isArray(e)?Cu(e,n):n(e))}function ng(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function Da(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Ww(t,n){let e=[];for(let i=0;i<t;i++)e.push(n);return e}function qw(t,n,e,i){let r=t.length;if(r==n)t.push(e,i);else if(r===1)t.push(i,t[0]),t[0]=e;else{for(r--,t.push(t[r-1],t[r]);r>n;){let o=r-2;t[r]=t[o],r--}t[n]=e,t[n+1]=i}}function xu(t,n,e){let i=To(t,n);return i>=0?t[i|1]=e:(i=~i,qw(t,i,n,e)),i}function cd(t,n){let e=To(t,n);if(e>=0)return t[e|1]}function To(t,n){return Yw(t,n,1)}function Yw(t,n,e){let i=0,r=t.length>>e;for(;r!==i;){let o=i+(r-i>>1),s=t[o<<e];if(n===s)return o<<e;s>n?r=o:i=o+1}return~(r<<e)}var vr={},yt=[],yr=new k(""),ig=new k("",-1),rg=new k(""),Ea=class{get(n,e=_o){if(e===_o){let i=new Error(`NullInjectorError: No provider for ${mt(n)}!`);throw i.name="NullInjectorError",i}return e}},og=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(og||{}),_n=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(_n||{}),W=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(W||{});function Qw(t,n,e){let i=t.length;for(;;){let r=t.indexOf(n,e);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let o=n.length;if(r+o===i||t.charCodeAt(r+o)<=32)return r}e=r+1}}function Sd(t,n,e){let i=0;for(;i<e.length;){let r=e[i];if(typeof r=="number"){if(r!==0)break;i++;let o=e[i++],s=e[i++],a=e[i++];t.setAttribute(n,s,a,o)}else{let o=r,s=e[++i];Zw(o)?t.setProperty(n,o,s):t.setAttribute(n,o,s),i++}}return i}function sg(t){return t===3||t===4||t===6}function Zw(t){return t.charCodeAt(0)===64}function vo(t,n){if(!(n===null||n.length===0))if(t===null||t.length===0)t=n.slice();else{let e=-1;for(let i=0;i<n.length;i++){let r=n[i];typeof r=="number"?e=r:e===0||(e===-1||e===2?um(t,e,r,null,n[++i]):um(t,e,r,null,null))}}return t}function um(t,n,e,i,r){let o=0,s=t.length;if(n===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===n){s=-1;break}else if(a>n){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===e){if(i===null){r!==null&&(t[o+1]=r);return}else if(i===t[o+1]){t[o+2]=r;return}}o++,i!==null&&o++,r!==null&&o++}s!==-1&&(t.splice(s,0,n),o=s+1),t.splice(o++,0,e),i!==null&&t.splice(o++,0,i),r!==null&&t.splice(o++,0,r)}var ag="ng-template";function Kw(t,n,e,i){let r=0;if(i){for(;r<n.length&&typeof n[r]=="string";r+=2)if(n[r]==="class"&&Qw(n[r+1].toLowerCase(),e,0)!==-1)return!0}else if(Du(t))return!1;if(r=n.indexOf(1,r),r>-1){let o;for(;++r<n.length&&typeof(o=n[r])=="string";)if(o.toLowerCase()===e)return!0}return!1}function Du(t){return t.type===4&&t.value!==ag}function Xw(t,n,e){let i=t.type===4&&!e?ag:t.value;return n===i}function Jw(t,n,e){let i=4,r=t.attrs,o=r!==null?nC(r):0,s=!1;for(let a=0;a<n.length;a++){let c=n[a];if(typeof c=="number"){if(!s&&!qt(i)&&!qt(c))return!1;if(s&&qt(c))continue;s=!1,i=c|i&1;continue}if(!s)if(i&4){if(i=2|i&1,c!==""&&!Xw(t,c,e)||c===""&&n.length===1){if(qt(i))return!1;s=!0}}else if(i&8){if(r===null||!Kw(t,r,c,e)){if(qt(i))return!1;s=!0}}else{let h=n[++a],f=eC(c,r,Du(t),e);if(f===-1){if(qt(i))return!1;s=!0;continue}if(h!==""){let p;if(f>o?p="":p=r[f+1].toLowerCase(),i&2&&h!==p){if(qt(i))return!1;s=!0}}}}return qt(i)||s}function qt(t){return(t&1)===0}function eC(t,n,e,i){if(n===null)return-1;let r=0;if(i||!e){let o=!1;for(;r<n.length;){let s=n[r];if(s===t)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=n[++r];for(;typeof a=="string";)a=n[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return iC(n,t)}function cg(t,n,e=!1){for(let i=0;i<n.length;i++)if(Jw(t,n[i],e))return!0;return!1}function tC(t){let n=t.attrs;if(n!=null){let e=n.indexOf(5);if(!(e&1))return n[e+1]}return null}function nC(t){for(let n=0;n<t.length;n++){let e=t[n];if(sg(e))return n}return t.length}function iC(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){let i=t[e];if(typeof i=="number")return-1;if(i===n)return e;e++}return-1}function rC(t,n){e:for(let e=0;e<n.length;e++){let i=n[e];if(t.length===i.length){for(let r=0;r<t.length;r++)if(t[r]!==i[r])continue e;return!0}}return!1}function hm(t,n){return t?":not("+n.trim()+")":n}function oC(t){let n=t[0],e=1,i=2,r="",o=!1;for(;e<t.length;){let s=t[e];if(typeof s=="string")if(i&2){let a=t[++e];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!qt(s)&&(n+=hm(o,r),r=""),i=s,o=o||!qt(i);e++}return r!==""&&(n+=hm(o,r)),n}function sC(t){return t.map(oC).join(",")}function aC(t){let n=[],e=[],i=1,r=2;for(;i<t.length;){let o=t[i];if(typeof o=="string")r===2?o!==""&&n.push(o,t[++i]):r===8&&e.push(o);else{if(!qt(r))break;r=o}i++}return{attrs:n,classes:e}}function me(t){return Mo(()=>{let n=fg(t),e=fe(A({},n),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===og.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||_n.Emulated,styles:t.styles||yt,_:null,schemas:t.schemas||null,tView:null,id:""});pg(e);let i=t.dependencies;return e.directiveDefs=pm(i,!1),e.pipeDefs=pm(i,!0),e.id=dC(e),e})}function cC(t){return ti(t)||lg(t)}function lC(t){return t!==null}function Y(t){return Mo(()=>({type:t.type,bootstrap:t.bootstrap||yt,declarations:t.declarations||yt,imports:t.imports||yt,exports:t.exports||yt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function fm(t,n){if(t==null)return vr;let e={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i],o,s,a=W.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),n?(e[o]=a!==W.None?[i,a]:i,n[o]=s):e[o]=i}return e}function pe(t){return Mo(()=>{let n=fg(t);return pg(n),n})}function Ka(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function ti(t){return t[Tw]||null}function lg(t){return t[Aw]||null}function dg(t){return t[Ow]||null}function ug(t){let n=ti(t)||lg(t)||dg(t);return n!==null?n.standalone:!1}function hg(t,n){let e=t[kw]||null;if(!e&&n===!0)throw new Error(`Type ${mt(t)} does not have '\u0275mod' property.`);return e}function fg(t){let n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||vr,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||yt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:fm(t.inputs,n),outputs:fm(t.outputs),debugInfo:null}}function pg(t){t.features?.forEach(n=>n(t))}function pm(t,n){if(!t)return null;let e=n?dg:cC;return()=>(typeof t=="function"?t():t).map(i=>e(i)).filter(lC)}function dC(t){let n=0,e=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let r of e)n=Math.imul(31,n)+r.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function Xa(t){return{\u0275providers:t}}function uC(...t){return{\u0275providers:mg(!0,t),\u0275fromNgModule:!0}}function mg(t,...n){let e=[],i=new Set,r,o=s=>{e.push(s)};return Cu(n,s=>{let a=s;Md(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&gg(r,o),e}function gg(t,n){for(let e=0;e<t.length;e++){let{ngModule:i,providers:r}=t[e];Eu(r,o=>{n(o,i)})}}function Md(t,n,e,i){if(t=pt(t),!t)return!1;let r=null,o=am(t),s=!o&&ti(t);if(!o&&!s){let c=t.ngModule;if(o=am(c),o)r=c;else return!1}else{if(s&&!s.standalone)return!1;r=t}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let h of c)Md(h,n,e,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let h;try{Cu(o.imports,f=>{Md(f,n,e,i)&&(h||=[],h.push(f))})}finally{}h!==void 0&&gg(h,n)}if(!a){let h=Ti(r)||(()=>new r);n({provide:r,useFactory:h,deps:yt},r),n({provide:rg,useValue:r,multi:!0},r),n({provide:yr,useValue:()=>b(r),multi:!0},r)}let c=o.providers;if(c!=null&&!a){let h=t;Eu(c,f=>{n(f,h)})}}else return!1;return r!==t&&t.providers!==void 0}function Eu(t,n){for(let e of t)Xm(e)&&(e=e.\u0275providers),Array.isArray(e)?Eu(e,n):n(e)}var hC=Ce({provide:String,useValue:Ce});function _g(t){return t!==null&&typeof t=="object"&&hC in t}function fC(t){return!!(t&&t.useExisting)}function pC(t){return!!(t&&t.useFactory)}function br(t){return typeof t=="function"}function mC(t){return!!t.useClass}var Ja=new k(""),ga={},gC={},ld;function Iu(){return ld===void 0&&(ld=new Ea),ld}var it=class{},yo=class extends it{get destroyed(){return this._destroyed}constructor(n,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ad(n,s=>this.processProvider(s)),this.records.set(ig,hr(void 0,this)),r.has("environment")&&this.records.set(it,hr(void 0,this));let o=this.records.get(Ja);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(rg,yt,oe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let n=ue(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of e)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ue(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();let e=Xn(this),i=vt(void 0),r;try{return n()}finally{Xn(e),vt(i)}}get(n,e=_o,i=oe.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(lm))return n[lm](this);i=Qa(i);let r,o=Xn(this),s=vt(void 0);try{if(!(i&oe.SkipSelf)){let c=this.records.get(n);if(c===void 0){let h=wC(n)&&Ya(n);h&&this.injectableDefInScope(h)?c=hr(Td(n),ga):c=null,this.records.set(n,c)}if(c!=null)return this.hydrate(n,c)}let a=i&oe.Self?Iu():this.parent;return e=i&oe.Optional&&e===_o?null:e,a.get(n,e)}catch(a){if(a.name==="NullInjectorError"){if((a[xa]=a[xa]||[]).unshift(mt(n)),o)throw a;return $w(a,n,"R3InjectorError",this.source)}else throw a}finally{vt(s),Xn(o)}}resolveInjectorInitializers(){let n=ue(null),e=Xn(this),i=vt(void 0),r;try{let o=this.get(yr,yt,oe.Self);for(let s of o)s()}finally{Xn(e),vt(i),ue(n)}}toString(){let n=[],e=this.records;for(let i of e.keys())n.push(mt(i));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new N(205,!1)}processProvider(n){n=pt(n);let e=br(n)?n:pt(n&&n.provide),i=vC(n);if(!br(n)&&n.multi===!0){let r=this.records.get(e);r||(r=hr(void 0,ga,!0),r.factory=()=>Id(r.multi),this.records.set(e,r)),e=n,r.multi.push(n)}this.records.set(e,i)}hydrate(n,e){let i=ue(null);try{return e.value===ga&&(e.value=gC,e.value=e.factory()),typeof e.value=="object"&&e.value&&bC(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{ue(i)}}injectableDefInScope(n){if(!n.providedIn)return!1;let e=pt(n.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(n){let e=this._onDestroyHooks.indexOf(n);e!==-1&&this._onDestroyHooks.splice(e,1)}};function Td(t){let n=Ya(t),e=n!==null?n.factory:Ti(t);if(e!==null)return e;if(t instanceof k)throw new N(204,!1);if(t instanceof Function)return _C(t);throw new N(204,!1)}function _C(t){if(t.length>0)throw new N(204,!1);let e=Sw(t);return e!==null?()=>e.factory(t):()=>new t}function vC(t){if(_g(t))return hr(void 0,t.useValue);{let n=vg(t);return hr(n,ga)}}function vg(t,n,e){let i;if(br(t)){let r=pt(t);return Ti(r)||Td(r)}else if(_g(t))i=()=>pt(t.useValue);else if(pC(t))i=()=>t.useFactory(...Id(t.deps||[]));else if(fC(t))i=()=>b(pt(t.useExisting));else{let r=pt(t&&(t.useClass||t.provide));if(yC(t))i=()=>new r(...Id(t.deps));else return Ti(r)||Td(r)}return i}function hr(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function yC(t){return!!t.deps}function bC(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function wC(t){return typeof t=="function"||typeof t=="object"&&t instanceof k}function Ad(t,n){for(let e of t)Array.isArray(e)?Ad(e,n):e&&Xm(e)?Ad(e.\u0275providers,n):n(e)}function Jt(t,n){t instanceof yo&&t.assertNotDestroyed();let e,i=Xn(t),r=vt(void 0);try{return n()}finally{Xn(i),vt(r)}}function yg(){return Jm()!==void 0||jw()!=null}function CC(t){if(!yg())throw new N(-203,!1)}function xC(t){let n=Ve.ng;if(n&&n.\u0275compilerFacade)return n.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function DC(t){return typeof t=="function"}var Tn=0,K=1,G=2,Je=3,Qt=4,xt=5,bo=6,wo=7,kt=8,wr=9,Zt=10,Pe=11,Co=12,mm=13,Ir=14,Kt=15,Ao=16,fr=17,Sn=18,ec=19,bg=20,ei=21,dd=22,Ai=23,rt=25,wg=1;var Oi=7,Ia=8,Cr=9,bt=10,Su=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Su||{});function Si(t){return Array.isArray(t)&&typeof t[wg]=="object"}function An(t){return Array.isArray(t)&&t[wg]===!0}function Mu(t){return(t.flags&4)!==0}function tc(t){return t.componentOffset>-1}function nc(t){return(t.flags&1)===1}function ni(t){return!!t.template}function EC(t){return(t[G]&512)!==0}var Od=class{constructor(n,e,i){this.previousValue=n,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}};function Cg(t,n,e,i){n!==null?n.applyValueToInputSignal(n,i):t[e]=i}function ot(){return xg}function xg(t){return t.type.prototype.ngOnChanges&&(t.setInput=SC),IC}ot.ngInherit=!0;function IC(){let t=Eg(this),n=t?.current;if(n){let e=t.previous;if(e===vr)t.previous=n;else for(let i in n)e[i]=n[i];t.current=null,this.ngOnChanges(n)}}function SC(t,n,e,i,r){let o=this.declaredInputs[i],s=Eg(t)||MC(t,{previous:vr,current:null}),a=s.current||(s.current={}),c=s.previous,h=c[o];a[o]=new Od(h&&h.currentValue,e,c===vr),Cg(t,n,r,e)}var Dg="__ngSimpleChanges__";function Eg(t){return t[Dg]||null}function MC(t,n){return t[Dg]=n}var gm=null;var mn=function(t,n,e){gm?.(t,n,e)},Ig="svg",TC="math",AC=!1;function OC(){return AC}function vn(t){for(;Array.isArray(t);)t=t[Tn];return t}function Sg(t,n){return vn(n[t])}function Rt(t,n){return vn(n[t.index])}function Tu(t,n){return t.data[n]}function Au(t,n){return t[n]}function oi(t,n){let e=n[t];return Si(e)?e:e[Tn]}function kC(t){return(t[G]&4)===4}function Ou(t){return(t[G]&128)===128}function PC(t){return An(t[Je])}function xr(t,n){return n==null?null:t[n]}function Mg(t){t[fr]=0}function RC(t){t[G]&1024||(t[G]|=1024,Ou(t)&&xo(t))}function NC(t,n){for(;t>0;)n=n[Ir],t--;return n}function ku(t){return!!(t[G]&9216||t[Ai]?.dirty)}function kd(t){t[Zt].changeDetectionScheduler?.notify(1),ku(t)?xo(t):t[G]&64&&(OC()?(t[G]|=1024,xo(t)):t[Zt].changeDetectionScheduler?.notify())}function xo(t){t[Zt].changeDetectionScheduler?.notify();let n=Do(t);for(;n!==null&&!(n[G]&8192||(n[G]|=8192,!Ou(n)));)n=Do(n)}function Tg(t,n){if((t[G]&256)===256)throw new N(911,!1);t[ei]===null&&(t[ei]=[]),t[ei].push(n)}function FC(t,n){if(t[ei]===null)return;let e=t[ei].indexOf(n);e!==-1&&t[ei].splice(e,1)}function Do(t){let n=t[Je];return An(n)?n[Je]:n}var X={lFrame:Lg(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function LC(){return X.lFrame.elementDepthCount}function VC(){X.lFrame.elementDepthCount++}function jC(){X.lFrame.elementDepthCount--}function Ag(){return X.bindingsEnabled}function Og(){return X.skipHydrationRootTNode!==null}function BC(t){return X.skipHydrationRootTNode===t}function UC(){X.skipHydrationRootTNode=null}function re(){return X.lFrame.lView}function Ne(){return X.lFrame.tView}function I(t){return X.lFrame.contextLView=t,t[kt]}function S(t){return X.lFrame.contextLView=null,t}function st(){let t=kg();for(;t!==null&&t.type===64;)t=t.parent;return t}function kg(){return X.lFrame.currentTNode}function $C(){let t=X.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}function Li(t,n){let e=X.lFrame;e.currentTNode=t,e.isParent=n}function Pu(){return X.lFrame.isParent}function Ru(){X.lFrame.isParent=!1}function HC(){return X.lFrame.contextLView}function Pg(){let t=X.lFrame,n=t.bindingRootIndex;return n===-1&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function zC(){return X.lFrame.bindingIndex}function GC(t){return X.lFrame.bindingIndex=t}function Sr(){return X.lFrame.bindingIndex++}function Nu(t){let n=X.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function WC(){return X.lFrame.inI18n}function qC(t,n){let e=X.lFrame;e.bindingIndex=e.bindingRootIndex=t,Pd(n)}function YC(){return X.lFrame.currentDirectiveIndex}function Pd(t){X.lFrame.currentDirectiveIndex=t}function QC(t){let n=X.lFrame.currentDirectiveIndex;return n===-1?null:t[n]}function Rg(){return X.lFrame.currentQueryIndex}function Fu(t){X.lFrame.currentQueryIndex=t}function ZC(t){let n=t[K];return n.type===2?n.declTNode:n.type===1?t[xt]:null}function Ng(t,n,e){if(e&oe.SkipSelf){let r=n,o=t;for(;r=r.parent,r===null&&!(e&oe.Host);)if(r=ZC(o),r===null||(o=o[Ir],r.type&10))break;if(r===null)return!1;n=r,t=o}let i=X.lFrame=Fg();return i.currentTNode=n,i.lView=t,!0}function Lu(t){let n=Fg(),e=t[K];X.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function Fg(){let t=X.lFrame,n=t===null?null:t.child;return n===null?Lg(t):n}function Lg(t){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=n),n}function Vg(){let t=X.lFrame;return X.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var jg=Vg;function Vu(){let t=Vg();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function KC(t){return(X.lFrame.contextLView=NC(t,X.lFrame.contextLView))[kt]}function si(){return X.lFrame.selectedIndex}function ki(t){X.lFrame.selectedIndex=t}function ic(){let t=X.lFrame;return Tu(t.tView,t.selectedIndex)}function rc(){X.lFrame.currentNamespace=Ig}function Bg(){XC()}function XC(){X.lFrame.currentNamespace=null}function JC(){return X.lFrame.currentNamespace}var Ug=!0;function oc(){return Ug}function sc(t){Ug=t}function ex(t,n,e){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=n.type.prototype;if(i){let s=xg(n);(e.preOrderHooks??=[]).push(t,s),(e.preOrderCheckHooks??=[]).push(t,s)}r&&(e.preOrderHooks??=[]).push(0-t,r),o&&((e.preOrderHooks??=[]).push(t,o),(e.preOrderCheckHooks??=[]).push(t,o))}function ac(t,n){for(let e=n.directiveStart,i=n.directiveEnd;e<i;e++){let o=t.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:h,ngOnDestroy:f}=o;s&&(t.contentHooks??=[]).push(-e,s),a&&((t.contentHooks??=[]).push(e,a),(t.contentCheckHooks??=[]).push(e,a)),c&&(t.viewHooks??=[]).push(-e,c),h&&((t.viewHooks??=[]).push(e,h),(t.viewCheckHooks??=[]).push(e,h)),f!=null&&(t.destroyHooks??=[]).push(e,f)}}function _a(t,n,e){$g(t,n,3,e)}function va(t,n,e,i){(t[G]&3)===e&&$g(t,n,e,i)}function ud(t,n){let e=t[G];(e&3)===n&&(e&=16383,e+=1,t[G]=e)}function $g(t,n,e,i){let r=i!==void 0?t[fr]&65535:0,o=i??-1,s=n.length-1,a=0;for(let c=r;c<s;c++)if(typeof n[c+1]=="number"){if(a=n[c],i!=null&&a>=i)break}else n[c]<0&&(t[fr]+=65536),(a<o||o==-1)&&(tx(t,e,n,c),t[fr]=(t[fr]&4294901760)+c+2),c++}function _m(t,n){mn(4,t,n);let e=ue(null);try{n.call(t)}finally{ue(e),mn(5,t,n)}}function tx(t,n,e,i){let r=e[i]<0,o=e[i+1],s=r?-e[i]:e[i],a=t[s];r?t[G]>>14<t[fr]>>16&&(t[G]&3)===n&&(t[G]+=16384,_m(a,o)):_m(a,o)}var _r=-1,Pi=class{constructor(n,e,i){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}};function nx(t){return t instanceof Pi}function ix(t){return(t.flags&8)!==0}function rx(t){return(t.flags&16)!==0}function Hg(t){return t!==_r}function Sa(t){return t&32767}function ox(t){return t>>16}function Ma(t,n){let e=ox(t),i=n;for(;e>0;)i=i[Ir],e--;return i}var Rd=!0;function Ta(t){let n=Rd;return Rd=t,n}var sx=256,zg=sx-1,Gg=5,ax=0,gn={};function cx(t,n,e){let i;typeof e=="string"?i=e.charCodeAt(0)||0:e.hasOwnProperty(mo)&&(i=e[mo]),i==null&&(i=e[mo]=ax++);let r=i&zg,o=1<<r;n.data[t+(r>>Gg)]|=o}function Aa(t,n){let e=Wg(t,n);if(e!==-1)return e;let i=n[K];i.firstCreatePass&&(t.injectorIndex=n.length,hd(i.data,t),hd(n,null),hd(i.blueprint,null));let r=ju(t,n),o=t.injectorIndex;if(Hg(r)){let s=Sa(r),a=Ma(r,n),c=a[K].data;for(let h=0;h<8;h++)n[o+h]=a[s+h]|c[s+h]}return n[o+8]=r,o}function hd(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Wg(t,n){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||n[t.injectorIndex+8]===null?-1:t.injectorIndex}function ju(t,n){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let e=0,i=null,r=n;for(;r!==null;){if(i=Kg(r),i===null)return _r;if(e++,r=r[Ir],i.injectorIndex!==-1)return i.injectorIndex|e<<16}return _r}function Nd(t,n,e){cx(t,n,e)}function lx(t,n){if(n==="class")return t.classes;if(n==="style")return t.styles;let e=t.attrs;if(e){let i=e.length,r=0;for(;r<i;){let o=e[r];if(sg(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof e[r]=="string";)r++;else{if(o===n)return e[r+1];r=r+2}}}return null}function qg(t,n,e){if(e&oe.Optional||t!==void 0)return t;bu(n,"NodeInjector")}function Yg(t,n,e,i){if(e&oe.Optional&&i===void 0&&(i=null),!(e&(oe.Self|oe.Host))){let r=t[wr],o=vt(void 0);try{return r?r.get(n,i,e&oe.Optional):eg(n,i,e&oe.Optional)}finally{vt(o)}}return qg(i,n,e)}function Qg(t,n,e,i=oe.Default,r){if(t!==null){if(n[G]&2048&&!(i&oe.Self)){let s=fx(t,n,e,i,gn);if(s!==gn)return s}let o=Zg(t,n,e,i,gn);if(o!==gn)return o}return Yg(n,e,i,r)}function Zg(t,n,e,i,r){let o=ux(e);if(typeof o=="function"){if(!Ng(n,t,i))return i&oe.Host?qg(r,e,i):Yg(n,e,i,r);try{let s;if(s=o(i),s==null&&!(i&oe.Optional))bu(e);else return s}finally{jg()}}else if(typeof o=="number"){let s=null,a=Wg(t,n),c=_r,h=i&oe.Host?n[Kt][xt]:null;for((a===-1||i&oe.SkipSelf)&&(c=a===-1?ju(t,n):n[a+8],c===_r||!ym(i,!1)?a=-1:(s=n[K],a=Sa(c),n=Ma(c,n)));a!==-1;){let f=n[K];if(vm(o,a,f.data)){let p=dx(a,n,e,s,i,h);if(p!==gn)return p}c=n[a+8],c!==_r&&ym(i,n[K].data[a+8]===h)&&vm(o,a,n)?(s=f,a=Sa(c),n=Ma(c,n)):a=-1}}return r}function dx(t,n,e,i,r,o){let s=n[K],a=s.data[t+8],c=i==null?tc(a)&&Rd:i!=s&&(a.type&3)!==0,h=r&oe.Host&&o===a,f=ya(a,s,e,c,h);return f!==null?Ri(n,s,f,a):gn}function ya(t,n,e,i,r){let o=t.providerIndexes,s=n.data,a=o&1048575,c=t.directiveStart,h=t.directiveEnd,f=o>>20,p=i?a:a+f,y=r?a+f:h;for(let v=p;v<y;v++){let x=s[v];if(v<c&&e===x||v>=c&&x.type===e)return v}if(r){let v=s[c];if(v&&ni(v)&&v.type===e)return c}return null}function Ri(t,n,e,i){let r=t[e],o=n.data;if(nx(r)){let s=r;s.resolving&&Rw(Pw(o[e]));let a=Ta(s.canSeeViewProviders);s.resolving=!0;let c,h=s.injectImpl?vt(s.injectImpl):null,f=Ng(t,i,oe.Default);try{r=t[e]=s.factory(void 0,o,t,i),n.firstCreatePass&&e>=i.directiveStart&&ex(e,o[e],n)}finally{h!==null&&vt(h),Ta(a),s.resolving=!1,jg()}}return r}function ux(t){if(typeof t=="string")return t.charCodeAt(0)||0;let n=t.hasOwnProperty(mo)?t[mo]:void 0;return typeof n=="number"?n>=0?n&zg:hx:n}function vm(t,n,e){let i=1<<t;return!!(e[n+(t>>Gg)]&i)}function ym(t,n){return!(t&oe.Self)&&!(t&oe.Host&&n)}var Mi=class{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,i){return Qg(this._tNode,this._lView,n,Qa(i),e)}};function hx(){return new Mi(st(),re())}function On(t){return Mo(()=>{let n=t.prototype.constructor,e=n[Ca]||Fd(n),i=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){let o=r[Ca]||Fd(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Fd(t){return Ym(t)?()=>{let n=Fd(pt(t));return n&&n()}:Ti(t)}function fx(t,n,e,i,r){let o=t,s=n;for(;o!==null&&s!==null&&s[G]&2048&&!(s[G]&512);){let a=Zg(o,s,e,i|oe.Self,gn);if(a!==gn)return a;let c=o.parent;if(!c){let h=s[bg];if(h){let f=h.get(e,gn,i);if(f!==gn)return f}c=Kg(s),s=s[Ir]}o=c}return r}function Kg(t){let n=t[K],e=n.type;return e===2?n.declTNode:e===1?t[xt]:null}function Mr(t){return lx(st(),t)}function bm(t,n=null,e=null,i){let r=Xg(t,n,e,i);return r.resolveInjectorInitializers(),r}function Xg(t,n=null,e=null,i,r=new Set){let o=[e||yt,uC(t)];return i=i||(typeof t=="object"?void 0:mt(t)),new yo(o,n||Iu(),i||null,r)}var Fe=(()=>{class t{static{this.THROW_IF_NOT_FOUND=_o}static{this.NULL=new Ea}static create(e,i){if(Array.isArray(e))return bm({name:""},i,e,"");{let r=e.name??"";return bm({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=M({token:t,providedIn:"any",factory:()=>b(ig)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();var px="ngOriginalError";function fd(t){return t[px]}var Xt=class{constructor(){this._console=console}handleError(n){let e=this._findOriginalError(n);this._console.error("ERROR",n),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&fd(n);for(;e&&fd(e);)e=fd(e);return e||null}},Jg=new k("",{providedIn:"root",factory:()=>T(Xt).handleError.bind(void 0)}),Bu=(()=>{class t{static{this.__NG_ELEMENT_ID__=mx}static{this.__NG_ENV_ID__=e=>e}}return t})(),Ld=class extends Bu{constructor(n){super(),this._lView=n}onDestroy(n){return Tg(this._lView,n),()=>FC(this._lView,n)}};function mx(){return new Ld(re())}function gx(){return Tr(st(),re())}function Tr(t,n){return new le(Rt(t,n))}var le=(()=>{class t{constructor(e){this.nativeElement=e}static{this.__NG_ELEMENT_ID__=gx}}return t})();function _x(t){return t instanceof le?t.nativeElement:t}var Vd=class extends H{constructor(n=!1){super(),this.destroyRef=void 0,this.__isAsync=n,yg()&&(this.destroyRef=T(Bu,{optional:!0})??void 0)}emit(n){let e=ue(null);try{super.next(n)}finally{ue(e)}}subscribe(n,e,i){let r=n,o=e||(()=>null),s=i;if(n&&typeof n=="object"){let c=n;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=pd(o),r&&(r=pd(r)),s&&(s=pd(s)));let a=super.subscribe({next:r,error:o,complete:s});return n instanceof Ie&&n.add(a),a}};function pd(t){return n=>{setTimeout(t,void 0,n)}}var se=Vd;function vx(){return this._results[Symbol.iterator]()}var Oa=class t{get changes(){return this._changes??=new se}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let e=t.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=vx)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){this.dirty=!1;let i=Gw(n);(this._changesDetected=!zw(this._results,i,e))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function e0(t){return(t.flags&128)===128}var t0=new Map,yx=0;function bx(){return yx++}function wx(t){t0.set(t[ec],t)}function Cx(t){t0.delete(t[ec])}var wm="__ngContext__";function ii(t,n){Si(n)?(t[wm]=n[ec],wx(n)):t[wm]=n}function n0(t){return r0(t[Co])}function i0(t){return r0(t[Qt])}function r0(t){for(;t!==null&&!An(t);)t=t[Qt];return t}var jd;function o0(t){jd=t}function s0(){if(jd!==void 0)return jd;if(typeof document<"u")return document;throw new N(210,!1)}var Oo=new k("",{providedIn:"root",factory:()=>xx}),xx="ng",Uu=new k(""),Ze=new k("",{providedIn:"platform",factory:()=>"unknown"});var kn=new k(""),ko=new k("",{providedIn:"root",factory:()=>s0().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Dx="h",Ex="b";var Ix=()=>null;function $u(t,n,e=!1){return Ix(t,n,e)}var a0=!1,Sx=new k("",{providedIn:"root",factory:()=>a0});var da;function Mx(){if(da===void 0&&(da=null,Ve.trustedTypes))try{da=Ve.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return da}function cc(t){return Mx()?.createHTML(t)||t}var ua;function c0(){if(ua===void 0&&(ua=null,Ve.trustedTypes))try{ua=Ve.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ua}function Cm(t){return c0()?.createHTML(t)||t}function xm(t){return c0()?.createScriptURL(t)||t}var ka=class{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Wm})`}};function Vi(t){return t instanceof ka?t.changingThisBreaksApplicationSecurity:t}function lc(t,n){let e=Tx(t);if(e!=null&&e!==n){if(e==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${e} (see ${Wm})`)}return e===n}function Tx(t){return t instanceof ka&&t.getTypeName()||null}function Ax(t){let n=new Ud(t);return Ox()?new Bd(n):n}var Bd=class{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{let e=new window.DOMParser().parseFromString(cc(n),"text/html").body;return e===null?this.inertDocumentHelper.getInertBodyElement(n):(e.removeChild(e.firstChild),e)}catch{return null}}},Ud=class{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){let e=this.inertDocument.createElement("template");return e.innerHTML=cc(n),e}};function Ox(){try{return!!new window.DOMParser().parseFromString(cc(""),"text/html")}catch{return!1}}var kx=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Hu(t){return t=String(t),t.match(kx)?t:"unsafe:"+t}function Pn(t){let n={};for(let e of t.split(","))n[e]=!0;return n}function Po(...t){let n={};for(let e of t)for(let i in e)e.hasOwnProperty(i)&&(n[i]=!0);return n}var l0=Pn("area,br,col,hr,img,wbr"),d0=Pn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),u0=Pn("rp,rt"),Px=Po(u0,d0),Rx=Po(d0,Pn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Nx=Po(u0,Pn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Dm=Po(l0,Rx,Nx,Px),h0=Pn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Fx=Pn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Lx=Pn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),Vx=Po(h0,Fx,Lx),jx=Pn("script,style,template"),$d=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let e=n.firstChild,i=!0,r=[];for(;e;){if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild){r.push(e),e=$x(e);continue}for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let o=Ux(e);if(o){e=o;break}e=r.pop()}}return this.buf.join("")}startElement(n){let e=Em(n).toLowerCase();if(!Dm.hasOwnProperty(e))return this.sanitizedSomething=!0,!jx.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);let i=n.attributes;for(let r=0;r<i.length;r++){let o=i.item(r),s=o.name,a=s.toLowerCase();if(!Vx.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;h0[a]&&(c=Hu(c)),this.buf.push(" ",s,'="',Im(c),'"')}return this.buf.push(">"),!0}endElement(n){let e=Em(n).toLowerCase();Dm.hasOwnProperty(e)&&!l0.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(n){this.buf.push(Im(n))}};function Bx(t,n){return(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function Ux(t){let n=t.nextSibling;if(n&&t!==n.previousSibling)throw f0(n);return n}function $x(t){let n=t.firstChild;if(n&&Bx(t,n))throw f0(n);return n}function Em(t){let n=t.nodeName;return typeof n=="string"?n:"FORM"}function f0(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var Hx=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,zx=/([^\#-~ |!])/g;function Im(t){return t.replace(/&/g,"&amp;").replace(Hx,function(n){let e=n.charCodeAt(0),i=n.charCodeAt(1);return"&#"+((e-55296)*1024+(i-56320)+65536)+";"}).replace(zx,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var ha;function p0(t,n){let e=null;try{ha=ha||Ax(t);let i=n?String(n):"";e=ha.getInertBodyElement(i);let r=5,o=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=e.innerHTML,e=ha.getInertBodyElement(i)}while(i!==o);let a=new $d().sanitizeChildren(Sm(e)||e);return cc(a)}finally{if(e){let i=Sm(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function Sm(t){return"content"in t&&Gx(t)?t.content:null}function Gx(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var Ro=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Ro||{});function m0(t){let n=zu();return n?Cm(n.sanitize(Ro.HTML,t)||""):lc(t,"HTML")?Cm(Vi(t)):p0(s0(),Jn(t))}function ee(t){let n=zu();return n?n.sanitize(Ro.URL,t)||"":lc(t,"URL")?Vi(t):Hu(Jn(t))}function Wx(t){let n=zu();if(n)return xm(n.sanitize(Ro.RESOURCE_URL,t)||"");if(lc(t,"ResourceURL"))return xm(Vi(t));throw new N(904,!1)}function qx(t,n){return n==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||n==="href"&&(t==="base"||t==="link")?Wx:ee}function g0(t,n,e){return qx(n,e)(t)}function zu(){let t=re();return t&&t[Zt].sanitizer}var Yx=/^>|^->|<!--|-->|--!>|<!-$/g,Qx=/(<|>)/g,Zx="\u200B$1\u200B";function Kx(t){return t.replace(Yx,n=>n.replace(Qx,Zx))}function Ar(t){return t.ownerDocument}function _0(t){return t instanceof Function?t():t}function Xx(t){return(t??T(Fe)).get(Ze)==="browser"}var Mn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Mn||{}),Jx;function Gu(t,n){return Jx(t,n)}function pr(t,n,e,i,r){if(i!=null){let o,s=!1;An(i)?o=i:Si(i)&&(s=!0,i=i[Tn]);let a=vn(i);t===0&&e!==null?r==null?C0(n,e,a):Ra(n,e,a,r||null,!0):t===1&&e!==null?Ra(n,e,a,r||null,!0):t===2?mD(n,a,s):t===3&&n.destroyNode(a),o!=null&&_D(n,t,o,e,r)}}function eD(t,n){return t.createText(n)}function tD(t,n,e){t.setValue(n,e)}function nD(t,n){return t.createComment(Kx(n))}function v0(t,n,e){return t.createElement(n,e)}function iD(t,n){y0(t,n),n[Tn]=null,n[xt]=null}function rD(t,n,e,i,r,o){i[Tn]=r,i[xt]=n,uc(t,i,e,1,r,o)}function y0(t,n){n[Zt].changeDetectionScheduler?.notify(1),uc(t,n,n[Pe],2,null,null)}function oD(t){let n=t[Co];if(!n)return md(t[K],t);for(;n;){let e=null;if(Si(n))e=n[Co];else{let i=n[bt];i&&(e=i)}if(!e){for(;n&&!n[Qt]&&n!==t;)Si(n)&&md(n[K],n),n=n[Je];n===null&&(n=t),Si(n)&&md(n[K],n),e=n&&n[Qt]}n=e}}function sD(t,n,e,i){let r=bt+i,o=e.length;i>0&&(e[r-1][Qt]=n),i<o-bt?(n[Qt]=e[r],ng(e,bt+i,n)):(e.push(n),n[Qt]=null),n[Je]=e;let s=n[Ao];s!==null&&e!==s&&aD(s,n);let a=n[Sn];a!==null&&a.insertView(t),kd(n),n[G]|=128}function aD(t,n){let e=t[Cr],r=n[Je][Je][Kt];n[Kt]!==r&&(t[G]|=Su.HasTransplantedViews),e===null?t[Cr]=[n]:e.push(n)}function b0(t,n){let e=t[Cr],i=e.indexOf(n);e.splice(i,1)}function Pa(t,n){if(t.length<=bt)return;let e=bt+n,i=t[e];if(i){let r=i[Ao];r!==null&&r!==t&&b0(r,i),n>0&&(t[e-1][Qt]=i[Qt]);let o=Da(t,bt+n);iD(i[K],i);let s=o[Sn];s!==null&&s.detachView(o[K]),i[Je]=null,i[Qt]=null,i[G]&=-129}return i}function Wu(t,n){if(!(n[G]&256)){let e=n[Pe];e.destroyNode&&uc(t,n,e,3,null,null),oD(n)}}function md(t,n){if(n[G]&256)return;let e=ue(null);try{n[G]&=-129,n[G]|=256,n[Ai]&&Ap(n[Ai]),lD(t,n),cD(t,n),n[K].type===1&&n[Pe].destroy();let i=n[Ao];if(i!==null&&An(n[Je])){i!==n[Je]&&b0(i,n);let r=n[Sn];r!==null&&r.detachView(t)}Cx(n)}finally{ue(e)}}function cD(t,n){let e=t.cleanup,i=n[wo];if(e!==null)for(let o=0;o<e.length-1;o+=2)if(typeof e[o]=="string"){let s=e[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else{let s=i[e[o+1]];e[o].call(s)}i!==null&&(n[wo]=null);let r=n[ei];if(r!==null){n[ei]=null;for(let o=0;o<r.length;o++){let s=r[o];s()}}}function lD(t,n){let e;if(t!=null&&(e=t.destroyHooks)!=null)for(let i=0;i<e.length;i+=2){let r=n[e[i]];if(!(r instanceof Pi)){let o=e[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],c=o[s+1];mn(4,a,c);try{c.call(a)}finally{mn(5,a,c)}}else{mn(4,r,o);try{o.call(r)}finally{mn(5,r,o)}}}}}function w0(t,n,e){return dD(t,n.parent,e)}function dD(t,n,e){let i=n;for(;i!==null&&i.type&40;)n=i,i=n.parent;if(i===null)return e[Tn];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:o}=t.data[i.directiveStart+r];if(o===_n.None||o===_n.Emulated)return null}return Rt(i,e)}}function Ra(t,n,e,i,r){t.insertBefore(n,e,i,r)}function C0(t,n,e){t.appendChild(n,e)}function Mm(t,n,e,i,r){i!==null?Ra(t,n,e,i,r):C0(t,n,e)}function uD(t,n,e,i){t.removeChild(n,e,i)}function qu(t,n){return t.parentNode(n)}function hD(t,n){return t.nextSibling(n)}function x0(t,n,e){return pD(t,n,e)}function fD(t,n,e){return t.type&40?Rt(t,e):null}var pD=fD,Tm;function dc(t,n,e,i){let r=w0(t,i,n),o=n[Pe],s=i.parent||n[xt],a=x0(s,i,n);if(r!=null)if(Array.isArray(e))for(let c=0;c<e.length;c++)Mm(o,r,e[c],a,!1);else Mm(o,r,e,a,!1);Tm!==void 0&&Tm(o,i,n,e,r)}function ba(t,n){if(n!==null){let e=n.type;if(e&3)return Rt(n,t);if(e&4)return Hd(-1,t[n.index]);if(e&8){let i=n.child;if(i!==null)return ba(t,i);{let r=t[n.index];return An(r)?Hd(-1,r):vn(r)}}else{if(e&32)return Gu(n,t)()||vn(t[n.index]);{let i=D0(t,n);if(i!==null){if(Array.isArray(i))return i[0];let r=Do(t[Kt]);return ba(r,i)}else return ba(t,n.next)}}}return null}function D0(t,n){if(n!==null){let i=t[Kt][xt],r=n.projection;return i.projection[r]}return null}function Hd(t,n){let e=bt+t+1;if(e<n.length){let i=n[e],r=i[K].firstChild;if(r!==null)return ba(i,r)}return n[Oi]}function mD(t,n,e){let i=qu(t,n);i&&uD(t,i,n,e)}function Yu(t,n,e,i,r,o,s){for(;e!=null;){let a=i[e.index],c=e.type;if(s&&n===0&&(a&&ii(vn(a),i),e.flags|=2),(e.flags&32)!==32)if(c&8)Yu(t,n,e.child,i,r,o,!1),pr(n,t,r,a,o);else if(c&32){let h=Gu(e,i),f;for(;f=h();)pr(n,t,r,f,o);pr(n,t,r,a,o)}else c&16?E0(t,n,i,e,r,o):pr(n,t,r,a,o);e=s?e.projectionNext:e.next}}function uc(t,n,e,i,r,o){Yu(e,i,t.firstChild,n,r,o,!1)}function gD(t,n,e){let i=n[Pe],r=w0(t,e,n),o=e.parent||n[xt],s=x0(o,e,n);E0(i,0,n,e,r,s)}function E0(t,n,e,i,r,o){let s=e[Kt],c=s[xt].projection[i.projection];if(Array.isArray(c))for(let h=0;h<c.length;h++){let f=c[h];pr(n,t,r,f,o)}else{let h=c,f=s[Je];e0(i)&&(h.flags|=128),Yu(t,n,h,f,r,o,!0)}}function _D(t,n,e,i,r){let o=e[Oi],s=vn(e);o!==s&&pr(n,t,i,o,r);for(let a=bt;a<e.length;a++){let c=e[a];uc(c[K],c,t,n,i,o)}}function vD(t,n,e,i,r){if(n)r?t.addClass(e,i):t.removeClass(e,i);else{let o=i.indexOf("-")===-1?void 0:Mn.DashCase;r==null?t.removeStyle(e,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Mn.Important),t.setStyle(e,i,r,o))}}function yD(t,n,e){t.setAttribute(n,"style",e)}function I0(t,n,e){e===""?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function S0(t,n,e){let{mergedAttrs:i,classes:r,styles:o}=e;i!==null&&Sd(t,n,i),r!==null&&I0(t,n,r),o!==null&&yD(t,n,o)}var en={};function m(t=1){M0(Ne(),re(),si()+t,!1)}function M0(t,n,e,i){if(!i)if((n[G]&3)===3){let o=t.preOrderCheckHooks;o!==null&&_a(n,o,e)}else{let o=t.preOrderHooks;o!==null&&va(n,o,0,e)}ki(e)}function C(t,n=oe.Default){let e=re();if(e===null)return b(t,n);let i=st();return Qg(i,e,pt(t),n)}function T0(){let t="invalid";throw new Error(t)}function A0(t,n,e,i,r,o){let s=ue(null);try{let a=null;r&W.SignalBased&&(a=n[i][$l]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),r&W.HasDecoratorInputTransform&&(o=t.inputTransforms[i].call(n,o)),t.setInput!==null?t.setInput(n,a,o,e,i):Cg(n,a,i,o)}finally{ue(s)}}function bD(t,n){let e=t.hostBindingOpCodes;if(e!==null)try{for(let i=0;i<e.length;i++){let r=e[i];if(r<0)ki(~r);else{let o=r,s=e[++i],a=e[++i];qC(s,o);let c=n[o];a(2,c)}}}finally{ki(-1)}}function hc(t,n,e,i,r,o,s,a,c,h,f){let p=n.blueprint.slice();return p[Tn]=r,p[G]=i|4|128|8|64,(h!==null||t&&t[G]&2048)&&(p[G]|=2048),Mg(p),p[Je]=p[Ir]=t,p[kt]=e,p[Zt]=s||t&&t[Zt],p[Pe]=a||t&&t[Pe],p[wr]=c||t&&t[wr]||null,p[xt]=o,p[ec]=bx(),p[bo]=f,p[bg]=h,p[Kt]=n.type==2?t[Kt]:p,p}function Or(t,n,e,i,r){let o=t.data[n];if(o===null)o=wD(t,n,e,i,r),WC()&&(o.flags|=32);else if(o.type&64){o.type=e,o.value=i,o.attrs=r;let s=$C();o.injectorIndex=s===null?-1:s.injectorIndex}return Li(o,!0),o}function wD(t,n,e,i,r){let o=kg(),s=Pu(),a=s?o:o&&o.parent,c=t.data[n]=SD(t,a,e,n,i,r);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function O0(t,n,e,i){if(e===0)return-1;let r=n.length;for(let o=0;o<e;o++)n.push(i),t.blueprint.push(i),t.data.push(null);return r}function k0(t,n,e,i,r){let o=si(),s=i&2;try{ki(-1),s&&n.length>rt&&M0(t,n,rt,!1),mn(s?2:0,r),e(i,r)}finally{ki(o),mn(s?3:1,r)}}function Qu(t,n,e){if(Mu(n)){let i=ue(null);try{let r=n.directiveStart,o=n.directiveEnd;for(let s=r;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=e[s];a.contentQueries(1,c,s)}}}finally{ue(i)}}}function Zu(t,n,e){Ag()&&(PD(t,n,e,Rt(e,n)),(e.flags&64)===64&&N0(t,n,e))}function Ku(t,n,e=Rt){let i=n.localNames;if(i!==null){let r=n.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?e(n,t):t[s];t[r++]=a}}}function P0(t){let n=t.tView;return n===null||n.incompleteFirstPass?t.tView=Xu(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Xu(t,n,e,i,r,o,s,a,c,h,f){let p=rt+i,y=p+r,v=CD(p,y),x=typeof h=="function"?h():h;return v[K]={type:t,blueprint:v,template:e,queries:null,viewQuery:a,declTNode:n,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:x,incompleteFirstPass:!1,ssrId:f}}function CD(t,n){let e=[];for(let i=0;i<n;i++)e.push(i<t?null:en);return e}function xD(t,n,e,i){let o=i.get(Sx,a0)||e===_n.ShadowDom,s=t.selectRootElement(n,o);return DD(s),s}function DD(t){ED(t)}var ED=()=>null;function ID(t,n,e,i){let r=V0(n);r.push(e),t.firstCreatePass&&j0(t).push(i,r.length-1)}function SD(t,n,e,i,r,o){let s=n?n.injectorIndex:-1,a=0;return Og()&&(a|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Am(t,n,e,i,r){for(let o in n){if(!n.hasOwnProperty(o))continue;let s=n[o];if(s===void 0)continue;i??={};let a,c=W.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let h=o;if(r!==null){if(!r.hasOwnProperty(o))continue;h=r[o]}t===0?Om(i,e,h,a,c):Om(i,e,h,a)}return i}function Om(t,n,e,i,r){let o;t.hasOwnProperty(e)?(o=t[e]).push(n,i):o=t[e]=[n,i],r!==void 0&&o.push(r)}function MD(t,n,e){let i=n.directiveStart,r=n.directiveEnd,o=t.data,s=n.attrs,a=[],c=null,h=null;for(let f=i;f<r;f++){let p=o[f],y=e?e.get(p):null,v=y?y.inputs:null,x=y?y.outputs:null;c=Am(0,p.inputs,f,c,v),h=Am(1,p.outputs,f,h,x);let E=c!==null&&s!==null&&!Du(n)?zD(c,f,s):null;a.push(E)}c!==null&&(c.hasOwnProperty("class")&&(n.flags|=8),c.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=a,n.inputs=c,n.outputs=h}function TD(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Ju(t,n,e,i,r,o,s,a){let c=Rt(n,e),h=n.inputs,f;!a&&h!=null&&(f=h[i])?(th(t,e,f,i,r),tc(n)&&AD(e,n.index)):n.type&3?(i=TD(i),r=s!=null?s(r,n.value||"",i):r,o.setProperty(c,i,r)):n.type&12}function AD(t,n){let e=oi(n,t);e[G]&16||(e[G]|=64)}function eh(t,n,e,i){if(Ag()){let r=i===null?null:{"":-1},o=ND(t,e),s,a;o===null?s=a=null:[s,a]=o,s!==null&&R0(t,n,e,s,r,a),r&&FD(e,i,r)}e.mergedAttrs=vo(e.mergedAttrs,e.attrs)}function R0(t,n,e,i,r,o){for(let h=0;h<i.length;h++)Nd(Aa(e,n),t,i[h].type);VD(e,t.data.length,i.length);for(let h=0;h<i.length;h++){let f=i[h];f.providersResolver&&f.providersResolver(f)}let s=!1,a=!1,c=O0(t,n,i.length,null);for(let h=0;h<i.length;h++){let f=i[h];e.mergedAttrs=vo(e.mergedAttrs,f.hostAttrs),jD(t,e,n,c,f),LD(c,f,r),f.contentQueries!==null&&(e.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(e.flags|=64);let p=f.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(e.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(e.index),a=!0),c++}MD(t,e,o)}function OD(t,n,e,i,r){let o=r.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~n.index;kD(s)!=a&&s.push(a),s.push(e,i,o)}}function kD(t){let n=t.length;for(;n>0;){let e=t[--n];if(typeof e=="number"&&e<0)return e}return 0}function PD(t,n,e,i){let r=e.directiveStart,o=e.directiveEnd;tc(e)&&BD(n,e,t.data[r+e.componentOffset]),t.firstCreatePass||Aa(e,n),ii(i,n);let s=e.initialInputs;for(let a=r;a<o;a++){let c=t.data[a],h=Ri(n,t,a,e);if(ii(h,n),s!==null&&HD(n,a-r,h,c,e,s),ni(c)){let f=oi(e.index,n);f[kt]=Ri(n,t,a,e)}}}function N0(t,n,e){let i=e.directiveStart,r=e.directiveEnd,o=e.index,s=YC();try{ki(o);for(let a=i;a<r;a++){let c=t.data[a],h=n[a];Pd(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&RD(c,h)}}finally{ki(-1),Pd(s)}}function RD(t,n){t.hostBindings!==null&&t.hostBindings(1,n)}function ND(t,n){let e=t.directiveRegistry,i=null,r=null;if(e)for(let o=0;o<e.length;o++){let s=e[o];if(cg(n,s.selectors,!1))if(i||(i=[]),ni(s))if(s.findHostDirectiveDefs!==null){let a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s);let c=a.length;zd(t,n,c)}else i.unshift(s),zd(t,n,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return i===null?null:[i,r]}function zd(t,n,e){n.componentOffset=e,(t.components??=[]).push(n.index)}function FD(t,n,e){if(n){let i=t.localNames=[];for(let r=0;r<n.length;r+=2){let o=e[n[r+1]];if(o==null)throw new N(-301,!1);i.push(n[r],o)}}}function LD(t,n,e){if(e){if(n.exportAs)for(let i=0;i<n.exportAs.length;i++)e[n.exportAs[i]]=t;ni(n)&&(e[""]=t)}}function VD(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}function jD(t,n,e,i,r){t.data[i]=r;let o=r.factory||(r.factory=Ti(r.type,!0)),s=new Pi(o,ni(r),C);t.blueprint[i]=s,e[i]=s,OD(t,n,i,O0(t,e,r.hostVars,en),r)}function BD(t,n,e){let i=Rt(n,t),r=P0(e),o=t[Zt].rendererFactory,s=16;e.signals?s=4096:e.onPush&&(s=64);let a=fc(t,hc(t,r,null,s,i,n,null,o.createRenderer(i,e),null,null,null));t[n.index]=a}function UD(t,n,e,i,r,o){let s=Rt(t,n);$D(n[Pe],s,o,t.value,e,i,r)}function $D(t,n,e,i,r,o,s){if(o==null)t.removeAttribute(n,r,e);else{let a=s==null?Jn(o):s(o,i||"",r);t.setAttribute(n,r,a,e)}}function HD(t,n,e,i,r,o){let s=o[n];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],h=s[a++],f=s[a++],p=s[a++];A0(i,e,c,h,f,p)}}function zD(t,n,e){let i=null,r=0;for(;r<e.length;){let o=e[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){i===null&&(i=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===n){i.push(o,s[a+1],s[a+2],e[r+1]);break}}r+=2}return i}function F0(t,n,e,i){return[t,!0,0,n,null,i,null,e,null,null]}function L0(t,n){let e=t.contentQueries;if(e!==null){let i=ue(null);try{for(let r=0;r<e.length;r+=2){let o=e[r],s=e[r+1];if(s!==-1){let a=t.data[s];Fu(o),a.contentQueries(2,n[s],s)}}}finally{ue(i)}}}function fc(t,n){return t[Co]?t[mm][Qt]=n:t[Co]=n,t[mm]=n,n}function Gd(t,n,e){Fu(0);let i=ue(null);try{n(t,e)}finally{ue(i)}}function V0(t){return t[wo]||(t[wo]=[])}function j0(t){return t.cleanup||(t.cleanup=[])}function B0(t,n){let e=t[wr],i=e?e.get(Xt,null):null;i&&i.handleError(n)}function th(t,n,e,i,r){for(let o=0;o<e.length;){let s=e[o++],a=e[o++],c=e[o++],h=n[s],f=t.data[s];A0(f,h,i,a,c,r)}}function U0(t,n,e){let i=Sg(n,t);tD(t[Pe],i,e)}function GD(t,n){let e=oi(n,t),i=e[K];WD(i,e);let r=e[Tn];r!==null&&e[bo]===null&&(e[bo]=$u(r,e[wr])),nh(i,e,e[kt])}function WD(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])}function nh(t,n,e){Lu(n);try{let i=t.viewQuery;i!==null&&Gd(1,i,e);let r=t.template;r!==null&&k0(t,n,r,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),n[Sn]?.finishViewCreation(t),t.staticContentQueries&&L0(t,n),t.staticViewQueries&&Gd(2,t.viewQuery,e);let o=t.components;o!==null&&qD(n,o)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{n[G]&=-5,Vu()}}function qD(t,n){for(let e=0;e<n.length;e++)GD(t,n[e])}function $0(t,n,e,i){let r=ue(null);try{let o=n.tView,a=t[G]&4096?4096:16,c=hc(t,o,e,a,null,n,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),h=t[n.index];c[Ao]=h;let f=t[Sn];return f!==null&&(c[Sn]=f.createEmbeddedView(o)),nh(o,c,e),c}finally{ue(r)}}function YD(t,n){let e=bt+n;if(e<t.length)return t[e]}function Wd(t,n){return!n||n.firstChild===null||e0(t)}function H0(t,n,e,i=!0){let r=n[K];if(sD(r,n,t,e),i){let s=Hd(e,t),a=n[Pe],c=qu(a,t[Oi]);c!==null&&rD(r,t[xt],a,n,c,s)}let o=n[bo];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function QD(t,n){let e=Pa(t,n);return e!==void 0&&Wu(e[K],e),e}function Na(t,n,e,i,r=!1){for(;e!==null;){let o=n[e.index];o!==null&&i.push(vn(o)),An(o)&&ZD(o,i);let s=e.type;if(s&8)Na(t,n,e.child,i);else if(s&32){let a=Gu(e,n),c;for(;c=a();)i.push(c)}else if(s&16){let a=D0(n,e);if(Array.isArray(a))i.push(...a);else{let c=Do(n[Kt]);Na(c[K],c,a,i,!0)}}e=r?e.projectionNext:e.next}return i}function ZD(t,n){for(let e=bt;e<t.length;e++){let i=t[e],r=i[K].firstChild;r!==null&&Na(i[K],i,r,n)}t[Oi]!==t[Tn]&&n.push(t[Oi])}var z0=[];function KD(t){return t[Ai]??XD(t)}function XD(t){let n=z0.pop()??Object.create(eE);return n.lView=t,n}function JD(t){t.lView[Ai]!==t&&(t.lView=null,z0.push(t))}var eE=fe(A({},Sp),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{xo(t.lView)},consumerOnSignalRead(){this.lView[Ai]=this}}),G0=100;function W0(t,n=!0,e=0){let i=t[Zt],r=i.rendererFactory,o=!1;o||r.begin?.();try{tE(t,e)}catch(s){throw n&&B0(t,s),s}finally{o||(r.end?.(),i.inlineEffectRunner?.flush())}}function tE(t,n){qd(t,n);let e=0;for(;ku(t);){if(e===G0)throw new N(103,!1);e++,qd(t,1)}}function nE(t,n,e,i){let r=n[G];if((r&256)===256)return;let o=!1;!o&&n[Zt].inlineEffectRunner?.flush(),Lu(n);let s=null,a=null;!o&&iE(t)&&(a=KD(n),s=Mp(a));try{Mg(n),GC(t.bindingStartIndex),e!==null&&k0(t,n,e,2,i);let c=(r&3)===3;if(!o)if(c){let p=t.preOrderCheckHooks;p!==null&&_a(n,p,null)}else{let p=t.preOrderHooks;p!==null&&va(n,p,0,null),ud(n,0)}if(rE(n),q0(n,0),t.contentQueries!==null&&L0(t,n),!o)if(c){let p=t.contentCheckHooks;p!==null&&_a(n,p)}else{let p=t.contentHooks;p!==null&&va(n,p,1),ud(n,1)}bD(t,n);let h=t.components;h!==null&&Q0(n,h,0);let f=t.viewQuery;if(f!==null&&Gd(2,f,i),!o)if(c){let p=t.viewCheckHooks;p!==null&&_a(n,p)}else{let p=t.viewHooks;p!==null&&va(n,p,2),ud(n,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),n[dd]){for(let p of n[dd])p();n[dd]=null}o||(n[G]&=-73)}catch(c){throw xo(n),c}finally{a!==null&&(Tp(a,s),JD(a)),Vu()}}function iE(t){return t.type!==2}function q0(t,n){for(let e=n0(t);e!==null;e=i0(e))for(let i=bt;i<e.length;i++){let r=e[i];Y0(r,n)}}function rE(t){for(let n=n0(t);n!==null;n=i0(n)){if(!(n[G]&Su.HasTransplantedViews))continue;let e=n[Cr];for(let i=0;i<e.length;i++){let r=e[i],o=r[Je];RC(r)}}}function oE(t,n,e){let i=oi(n,t);Y0(i,e)}function Y0(t,n){Ou(t)&&qd(t,n)}function qd(t,n){let i=t[K],r=t[G],o=t[Ai],s=!!(n===0&&r&16);if(s||=!!(r&64&&n===0),s||=!!(r&1024),s||=!!(o?.dirty&&Hl(o)),o&&(o.dirty=!1),t[G]&=-9217,s)nE(i,t,i.template,t[kt]);else if(r&8192){q0(t,1);let a=i.components;a!==null&&Q0(t,a,1)}}function Q0(t,n,e){for(let i=0;i<n.length;i++)oE(t,n[i],e)}function ih(t){for(t[Zt].changeDetectionScheduler?.notify();t;){t[G]|=64;let n=Do(t);if(EC(t)&&!n)return t;t=n}return null}var Ni=class{get rootNodes(){let n=this._lView,e=n[K];return Na(e,n,e.firstChild,[])}constructor(n,e,i=!0){this._lView=n,this._cdRefInjectingView=e,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[kt]}set context(n){this._lView[kt]=n}get destroyed(){return(this._lView[G]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[Je];if(An(n)){let e=n[Ia],i=e?e.indexOf(this):-1;i>-1&&(Pa(n,i),Da(e,i))}this._attachedToViewContainer=!1}Wu(this._lView[K],this._lView)}onDestroy(n){Tg(this._lView,n)}markForCheck(){ih(this._cdRefInjectingView||this._lView)}detach(){this._lView[G]&=-129}reattach(){kd(this._lView),this._lView[G]|=128}detectChanges(){this._lView[G]|=1024,W0(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new N(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,y0(this._lView[K],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new N(902,!1);this._appRef=n,kd(this._lView)}},Ct=(()=>{class t{static{this.__NG_ELEMENT_ID__=cE}}return t})(),sE=Ct,aE=class extends sE{constructor(n,e,i){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,e){return this.createEmbeddedViewImpl(n,e)}createEmbeddedViewImpl(n,e,i){let r=$0(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:e,dehydratedView:i});return new Ni(r)}};function cE(){return pc(st(),re())}function pc(t,n){return t.type&4?new aE(n,t,Tr(t,n)):null}var _3=new RegExp(`^(\\d+)*(${Ex}|${Dx})*(.*)`);var lE=()=>null;function Yd(t,n){return lE(t,n)}var Fa=class{},Qd=class{},La=class{};function dE(t){let n=Error(`No component factory found for ${mt(t)}.`);return n[uE]=t,n}var uE="ngComponent";var Zd=class{resolveComponentFactory(n){throw dE(n)}},ai=(()=>{class t{static{this.NULL=new Zd}}return t})(),Eo=class{},ci=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>hE()}}return t})();function hE(){let t=re(),n=st(),e=oi(n.index,t);return(Si(e)?e:t)[Pe]}var fE=(()=>{class t{static{this.\u0275prov=M({token:t,providedIn:"root",factory:()=>null})}}return t})(),gd={};var km=new Set;function No(t){km.has(t)||(km.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Pm(...t){}function pE(){let t=typeof Ve.requestAnimationFrame=="function",n=Ve[t?"requestAnimationFrame":"setTimeout"],e=Ve[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&e){let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i);let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}var B=class t{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new se(!1),this.onMicrotaskEmpty=new se(!1),this.onStable=new se(!1),this.onError=new se(!1),typeof Zone>"u")throw new N(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=pE().nativeRequestAnimationFrame,_E(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new N(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new N(909,!1)}run(n,e,i){return this._inner.run(n,e,i)}runTask(n,e,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,n,mE,Pm,Pm);try{return o.runTask(s,e,i)}finally{o.cancelTask(s)}}runGuarded(n,e,i){return this._inner.runGuarded(n,e,i)}runOutsideAngular(n){return this._outer.run(n)}},mE={};function rh(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function gE(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ve,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Kd(t),t.isCheckStableRunning=!0,rh(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Kd(t))}function _E(t){let n=()=>{gE(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,o,s,a)=>{if(vE(a))return e.invokeTask(r,o,s,a);try{return Rm(t),e.invokeTask(r,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&n(),Nm(t)}},onInvoke:(e,i,r,o,s,a,c)=>{try{return Rm(t),e.invoke(r,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&n(),Nm(t)}},onHasTask:(e,i,r,o)=>{e.hasTask(r,o),i===r&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Kd(t),rh(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,i,r,o)=>(e.handleError(r,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Kd(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Rm(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Nm(t){t._nesting--,rh(t)}var Xd=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new se,this.onMicrotaskEmpty=new se,this.onStable=new se,this.onError=new se}run(n,e,i){return n.apply(e,i)}runGuarded(n,e,i){return n.apply(e,i)}runOutsideAngular(n){return n()}runTask(n,e,i,r){return n.apply(e,i)}};function vE(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function yE(t="zone.js",n){return t==="noop"?new Xd:t==="zone.js"?new B(n):t}var mr=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(mr||{}),bE={destroy(){}};function mc(t,n){!n&&CC(mc);let e=n?.injector??T(Fe);if(!Xx(e))return bE;No("NgAfterNextRender");let i=e.get(oh),r=i.handler??=new eu,o=n?.phase??mr.MixedReadWrite,s=()=>{r.unregister(c),a()},a=e.get(Bu).onDestroy(s),c=Jt(e,()=>new Jd(o,()=>{s(),t()}));return r.register(c),{destroy:s}}var Jd=class{constructor(n,e){this.phase=n,this.callbackFn=e,this.zone=T(B),this.errorHandler=T(Xt,{optional:!0}),T(Fa,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(n){this.errorHandler?.handleError(n)}}},eu=class{constructor(){this.executingCallbacks=!1,this.buckets={[mr.EarlyRead]:new Set,[mr.Write]:new Set,[mr.MixedReadWrite]:new Set,[mr.Read]:new Set},this.deferredCallbacks=new Set}register(n){(this.executingCallbacks?this.deferredCallbacks:this.buckets[n.phase]).add(n)}unregister(n){this.buckets[n.phase].delete(n),this.deferredCallbacks.delete(n)}execute(){this.executingCallbacks=!0;for(let n of Object.values(this.buckets))for(let e of n)e.invoke();this.executingCallbacks=!1;for(let n of this.deferredCallbacks)this.buckets[n.phase].add(n);this.deferredCallbacks.clear()}destroy(){for(let n of Object.values(this.buckets))n.clear();this.deferredCallbacks.clear()}},oh=(()=>{class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let e=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of e)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=M({token:t,providedIn:"root",factory:()=>new t})}}return t})();function Va(t,n,e){let i=e?t.styles:null,r=e?t.classes:null,o=0;if(n!==null)for(let s=0;s<n.length;s++){let a=n[s];if(typeof a=="number")o=a;else if(o==1)r=xd(r,a);else if(o==2){let c=a,h=n[++s];i=xd(i,c+": "+h+";")}}e?t.styles=i:t.stylesWithoutHost=i,e?t.classes=r:t.classesWithoutHost=r}var ja=class extends ai{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let e=ti(n);return new Dr(e,this.ngModule)}};function Fm(t){let n=[];for(let e in t){if(!t.hasOwnProperty(e))continue;let i=t[e];i!==void 0&&n.push({propName:Array.isArray(i)?i[0]:i,templateName:e})}return n}function wE(t){let n=t.toLowerCase();return n==="svg"?Ig:n==="math"?TC:null}var tu=class{constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,i){i=Qa(i);let r=this.injector.get(n,gd,i);return r!==gd||e===gd?r:this.parentInjector.get(n,e,i)}},Dr=class extends La{get inputs(){let n=this.componentDef,e=n.inputTransforms,i=Fm(n.inputs);if(e!==null)for(let r of i)e.hasOwnProperty(r.propName)&&(r.transform=e[r.propName]);return i}get outputs(){return Fm(this.componentDef.outputs)}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=sC(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}create(n,e,i,r){let o=ue(null);try{r=r||this.ngModule;let s=r instanceof it?r:r?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new tu(n,s):n,c=a.get(Eo,null);if(c===null)throw new N(407,!1);let h=a.get(fE,null),f=a.get(oh,null),p=a.get(Fa,null),y={rendererFactory:c,sanitizer:h,inlineEffectRunner:null,afterRenderEventManager:f,changeDetectionScheduler:p},v=c.createRenderer(null,this.componentDef),x=this.componentDef.selectors[0][0]||"div",E=i?xD(v,i,this.componentDef.encapsulation,a):v0(v,x,wE(x)),O=512;this.componentDef.signals?O|=4096:this.componentDef.onPush||(O|=16);let R=null;E!==null&&(R=$u(E,a,!0));let j=Xu(0,null,null,1,0,null,null,null,null,null,null),$=hc(null,j,null,O,null,null,y,v,a,null,R);Lu($);let F,ve;try{let we=this.componentDef,ie,Ot=null;we.findHostDirectiveDefs?(ie=[],Ot=new Map,we.findHostDirectiveDefs(we,ie,Ot),ie.push(we)):ie=[we];let lt=CE($,E),ln=xE(lt,E,we,ie,$,y,v);ve=Tu(j,rt),E&&IE(v,we,E,i),e!==void 0&&SE(ve,this.ngContentSelectors,e),F=EE(ln,we,ie,Ot,$,[ME]),nh(j,$,null)}finally{Vu()}return new nu(this.componentType,F,Tr(ve,$),$,ve)}finally{ue(o)}}},nu=class extends Qd{constructor(n,e,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new Ni(r,void 0,!1),this.componentType=n}setInput(n,e){let i=this._tNode.inputs,r;if(i!==null&&(r=i[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),e))return;let o=this._rootLView;th(o[K],o,r,n,e),this.previousInputValues.set(n,e);let s=oi(this._tNode.index,o);ih(s)}}get injector(){return new Mi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function CE(t,n){let e=t[K],i=rt;return t[i]=n,Or(e,i,2,"#host",null)}function xE(t,n,e,i,r,o,s){let a=r[K];DE(i,t,n,s);let c=null;n!==null&&(c=$u(n,r[wr]));let h=o.rendererFactory.createRenderer(n,e),f=16;e.signals?f=4096:e.onPush&&(f=64);let p=hc(r,P0(e),null,f,r[t.index],t,o,h,null,null,c);return a.firstCreatePass&&zd(a,t,i.length-1),fc(r,p),r[t.index]=p}function DE(t,n,e,i){for(let r of t)n.mergedAttrs=vo(n.mergedAttrs,r.hostAttrs);n.mergedAttrs!==null&&(Va(n,n.mergedAttrs,!0),e!==null&&S0(i,e,n))}function EE(t,n,e,i,r,o){let s=st(),a=r[K],c=Rt(s,r);R0(a,r,s,e,null,i);for(let f=0;f<e.length;f++){let p=s.directiveStart+f,y=Ri(r,a,p,s);ii(y,r)}N0(a,r,s),c&&ii(c,r);let h=Ri(r,a,s.directiveStart+s.componentOffset,s);if(t[kt]=r[kt]=h,o!==null)for(let f of o)f(h,n);return Qu(a,s,r),h}function IE(t,n,e,i){if(i)Sd(t,e,["ng-version","17.3.12"]);else{let{attrs:r,classes:o}=aC(n.selectors[0]);r&&Sd(t,e,r),o&&o.length>0&&I0(t,e,o.join(" "))}}function SE(t,n,e){let i=t.projection=[];for(let r=0;r<n.length;r++){let o=e[r];i.push(o!=null?Array.from(o):null)}}function ME(){let t=st();ac(re()[K],t)}var Dt=(()=>{class t{static{this.__NG_ELEMENT_ID__=TE}}return t})();function TE(){let t=st();return K0(t,re())}var AE=Dt,Z0=class extends AE{constructor(n,e,i){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=i}get element(){return Tr(this._hostTNode,this._hostLView)}get injector(){return new Mi(this._hostTNode,this._hostLView)}get parentInjector(){let n=ju(this._hostTNode,this._hostLView);if(Hg(n)){let e=Ma(n,this._hostLView),i=Sa(n),r=e[K].data[i+8];return new Mi(r,e)}else return new Mi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let e=Lm(this._lContainer);return e!==null&&e[n]||null}get length(){return this._lContainer.length-bt}createEmbeddedView(n,e,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=Yd(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(e||{},o,s);return this.insertImpl(a,r,Wd(this._hostTNode,s)),a}createComponent(n,e,i,r,o){let s=n&&!DC(n),a;if(s)a=e;else{let x=e||{};a=x.index,i=x.injector,r=x.projectableNodes,o=x.environmentInjector||x.ngModuleRef}let c=s?n:new Dr(ti(n)),h=i||this.parentInjector;if(!o&&c.ngModule==null){let E=(s?h:this.parentInjector).get(it,null);E&&(o=E)}let f=ti(c.componentType??{}),p=Yd(this._lContainer,f?.id??null),y=p?.firstChild??null,v=c.create(h,r,y,o);return this.insertImpl(v.hostView,a,Wd(this._hostTNode,p)),v}insert(n,e){return this.insertImpl(n,e,!0)}insertImpl(n,e,i){let r=n._lView;if(PC(r)){let a=this.indexOf(n);if(a!==-1)this.detach(a);else{let c=r[Je],h=new Z0(c,c[xt],c[Je]);h.detach(h.indexOf(n))}}let o=this._adjustIndex(e),s=this._lContainer;return H0(s,r,o,i),n.attachToViewContainerRef(),ng(_d(s),o,n),n}move(n,e){return this.insert(n,e)}indexOf(n){let e=Lm(this._lContainer);return e!==null?e.indexOf(n):-1}remove(n){let e=this._adjustIndex(n,-1),i=Pa(this._lContainer,e);i&&(Da(_d(this._lContainer),e),Wu(i[K],i))}detach(n){let e=this._adjustIndex(n,-1),i=Pa(this._lContainer,e);return i&&Da(_d(this._lContainer),e)!=null?new Ni(i):null}_adjustIndex(n,e=0){return n??this.length+e}};function Lm(t){return t[Ia]}function _d(t){return t[Ia]||(t[Ia]=[])}function K0(t,n){let e,i=n[t.index];return An(i)?e=i:(e=F0(i,n,null,t),n[t.index]=e,fc(n,e)),kE(e,n,t,i),new Z0(e,t,n)}function OE(t,n){let e=t[Pe],i=e.createComment(""),r=Rt(n,t),o=qu(e,r);return Ra(e,o,i,hD(e,r),!1),i}var kE=NE,PE=()=>!1;function RE(t,n,e){return PE(t,n,e)}function NE(t,n,e,i){if(t[Oi])return;let r;e.type&8?r=vn(i):r=OE(n,e),t[Oi]=r}var iu=class t{constructor(n){this.queryList=n,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},ru=class t{constructor(n=[]){this.queries=n}createEmbeddedView(n){let e=n.queries;if(e!==null){let i=n.contentQueries!==null?n.contentQueries[0]:e.length,r=[];for(let o=0;o<i;o++){let s=e.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new t(r)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)sh(n,e).matches!==null&&this.queries[e].setDirty()}},Ba=class{constructor(n,e,i=null){this.flags=e,this.read=i,typeof n=="string"?this.predicate=HE(n):this.predicate=n}},ou=class t{constructor(n=[]){this.queries=n}elementStart(n,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let i=0;i<this.length;i++){let r=e!==null?e.length:0,o=this.getByIndex(i).embeddedTView(n,r);o&&(o.indexInDeclarationView=i,e!==null?e.push(o):e=[o])}return e!==null?new t(e):null}template(n,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}},su=class t{constructor(n,e=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new t(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let e=this._declarationNodeIndex,i=n.parent;for(;i!==null&&i.type&8&&i.index!==e;)i=i.parent;return e===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(n,e){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(n,e,FE(e,o)),this.matchTNodeWithReadOption(n,e,ya(e,n,o,!1,!1))}else i===Ct?e.type&4&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,ya(e,n,i,!1,!1))}matchTNodeWithReadOption(n,e,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===le||r===Dt||r===Ct&&e.type&4)this.addMatch(e.index,-2);else{let o=ya(e,n,r,!1,!1);o!==null&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(n,e){this.matches===null?this.matches=[n,e]:this.matches.push(n,e)}};function FE(t,n){let e=t.localNames;if(e!==null){for(let i=0;i<e.length;i+=2)if(e[i]===n)return e[i+1]}return null}function LE(t,n){return t.type&11?Tr(t,n):t.type&4?pc(t,n):null}function VE(t,n,e,i){return e===-1?LE(n,t):e===-2?jE(t,n,i):Ri(t,t[K],e,n)}function jE(t,n,e){if(e===le)return Tr(n,t);if(e===Ct)return pc(n,t);if(e===Dt)return K0(n,t)}function X0(t,n,e,i){let r=n[Sn].queries[i];if(r.matches===null){let o=t.data,s=e.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let h=s[c];if(h<0)a.push(null);else{let f=o[h];a.push(VE(n,f,s[c+1],e.metadata.read))}}r.matches=a}return r.matches}function au(t,n,e,i){let r=t.queries.getByIndex(e),o=r.matches;if(o!==null){let s=X0(t,n,r,e);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)i.push(s[a/2]);else{let h=o[a+1],f=n[-c];for(let p=bt;p<f.length;p++){let y=f[p];y[Ao]===y[Je]&&au(y[K],y,h,i)}if(f[Cr]!==null){let p=f[Cr];for(let y=0;y<p.length;y++){let v=p[y];au(v[K],v,h,i)}}}}}return i}function BE(t,n){return t[Sn].queries[n].queryList}function J0(t,n,e){let i=new Oa((e&4)===4);return ID(t,n,i,i.destroy),(n[Sn]??=new ru).queries.push(new iu(i))-1}function UE(t,n,e){let i=Ne();return i.firstCreatePass&&(e_(i,new Ba(t,n,e),-1),(n&2)===2&&(i.staticViewQueries=!0)),J0(i,re(),n)}function $E(t,n,e,i){let r=Ne();if(r.firstCreatePass){let o=st();e_(r,new Ba(n,e,i),o.index),zE(r,t),(e&2)===2&&(r.staticContentQueries=!0)}return J0(r,re(),e)}function HE(t){return t.split(",").map(n=>n.trim())}function e_(t,n,e){t.queries===null&&(t.queries=new ou),t.queries.track(new su(n,e))}function zE(t,n){let e=t.contentQueries||(t.contentQueries=[]),i=e.length?e[e.length-1]:-1;n!==i&&e.push(t.queries.length-1,n)}function sh(t,n){return t.queries.getByIndex(n)}function GE(t,n){let e=t[K],i=sh(e,n);return i.crossesNgTemplate?au(e,t,n,[]):X0(e,t,i,n)}function t_(t){return typeof t=="function"&&t[$l]!==void 0}function n_(t){return t_(t)&&typeof t.set=="function"}function WE(t){let n=[],e=new Map;function i(r){let o=e.get(r);if(!o){let s=t(r);e.set(r,o=s.then(ZE))}return o}return Ua.forEach((r,o)=>{let s=[];r.templateUrl&&s.push(i(r.templateUrl).then(h=>{r.template=h}));let a=typeof r.styles=="string"?[r.styles]:r.styles||[];if(r.styles=a,r.styleUrl&&r.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(r.styleUrls?.length){let h=r.styles.length,f=r.styleUrls;r.styleUrls.forEach((p,y)=>{a.push(""),s.push(i(p).then(v=>{a[h+y]=v,f.splice(f.indexOf(p),1),f.length==0&&(r.styleUrls=void 0)}))})}else r.styleUrl&&s.push(i(r.styleUrl).then(h=>{a.push(h),r.styleUrl=void 0}));let c=Promise.all(s).then(()=>KE(o));n.push(c)}),YE(),Promise.all(n).then(()=>{})}var Ua=new Map,qE=new Set;function YE(){let t=Ua;return Ua=new Map,t}function QE(){return Ua.size===0}function ZE(t){return typeof t=="string"?t:t.text()}function KE(t){qE.delete(t)}function XE(t){return Object.getPrototypeOf(t.prototype).constructor}function Ke(t){let n=XE(t.type),e=!0,i=[t];for(;n;){let r;if(ni(t))r=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new N(903,!1);r=n.\u0275dir}if(r){if(e){i.push(r);let s=t;s.inputs=fa(t.inputs),s.inputTransforms=fa(t.inputTransforms),s.declaredInputs=fa(t.declaredInputs),s.outputs=fa(t.outputs);let a=r.hostBindings;a&&iI(t,a);let c=r.viewQuery,h=r.contentQueries;if(c&&tI(t,c),h&&nI(t,h),JE(t,r),Ew(t.outputs,r.outputs),ni(r)&&r.data.animation){let f=t.data;f.animation=(f.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Ke&&(e=!1)}}n=Object.getPrototypeOf(n)}eI(i)}function JE(t,n){for(let e in n.inputs){if(!n.inputs.hasOwnProperty(e)||t.inputs.hasOwnProperty(e))continue;let i=n.inputs[e];if(i!==void 0&&(t.inputs[e]=i,t.declaredInputs[e]=n.declaredInputs[e],n.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!n.inputTransforms.hasOwnProperty(r))continue;t.inputTransforms??={},t.inputTransforms[r]=n.inputTransforms[r]}}}function eI(t){let n=0,e=null;for(let i=t.length-1;i>=0;i--){let r=t[i];r.hostVars=n+=r.hostVars,r.hostAttrs=vo(r.hostAttrs,e=vo(e,r.hostAttrs))}}function fa(t){return t===vr?{}:t===yt?[]:t}function tI(t,n){let e=t.viewQuery;e?t.viewQuery=(i,r)=>{n(i,r),e(i,r)}:t.viewQuery=n}function nI(t,n){let e=t.contentQueries;e?t.contentQueries=(i,r,o)=>{n(i,r,o),e(i,r,o)}:t.contentQueries=n}function iI(t,n){let e=t.hostBindings;e?t.hostBindings=(i,r)=>{n(i,r),e(i,r)}:t.hostBindings=n}function tn(t){let n=t.inputConfig,e={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i];Array.isArray(r)&&r[3]&&(e[i]=r[3])}t.inputTransforms=e}var ri=class{},Io=class{};var $a=class extends ri{constructor(n,e,i){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ja(this);let r=hg(n);this._bootstrapComponents=_0(r.bootstrap),this._r3Injector=Xg(n,e,[{provide:ri,useValue:this},{provide:ai,useValue:this.componentFactoryResolver},...i],mt(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},Ha=class extends Io{constructor(n){super(),this.moduleType=n}create(n){return new $a(this.moduleType,n,[])}};function rI(t,n,e){return new $a(t,n,e)}var cu=class extends ri{constructor(n){super(),this.componentFactoryResolver=new ja(this),this.instance=null;let e=new yo([...n.providers,{provide:ri,useValue:this},{provide:ai,useValue:this.componentFactoryResolver}],n.parent||Iu(),n.debugName,new Set(["environment"]));this.injector=e,n.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function gc(t,n,e=null){return new cu({providers:t,parent:n,debugName:e,runEnvironmentInitializers:!0}).injector}var ji=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Oe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function i_(t){return sI(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function oI(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{let e=t[Symbol.iterator](),i;for(;!(i=e.next()).done;)n(i.value)}}function sI(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function r_(t,n,e){return t[n]=e}function Pt(t,n,e){let i=t[n];return Object.is(i,e)?!1:(t[n]=e,!0)}function o_(t,n,e,i){let r=Pt(t,n,e);return Pt(t,n+1,i)||r}function aI(t,n,e,i,r){let o=o_(t,n,e,i);return Pt(t,n+2,r)||o}function cI(t){return(t.flags&32)===32}function lI(t,n,e,i,r,o,s,a,c){let h=n.consts,f=Or(n,t,4,s||null,xr(h,a));eh(n,e,f,xr(h,c)),ac(n,f);let p=f.tView=Xu(2,f,i,r,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,h,null);return n.queries!==null&&(n.queries.template(n,f),p.queries=n.queries.embeddedTView(f)),f}function P(t,n,e,i,r,o,s,a){let c=re(),h=Ne(),f=t+rt,p=h.firstCreatePass?lI(f,h,c,n,e,i,r,o,s):h.data[f];Li(p,!1);let y=dI(h,c,p,t);oc()&&dc(h,c,y,p),ii(y,c);let v=F0(y,c,y,p);return c[f]=v,fc(c,v),RE(v,p,c),nc(p)&&Zu(h,c,p),s!=null&&Ku(c,p,a),P}var dI=uI;function uI(t,n,e,i){return sc(!0),n[Pe].createComment("")}function he(t,n,e,i){let r=re(),o=Sr();if(Pt(r,o,n)){let s=Ne(),a=ic();UD(a,r,t,n,e,i)}return he}function hI(t,n,e,i){return Pt(t,Sr(),e)?n+Jn(e)+i:en}function fI(t,n,e,i,r,o,s,a){let c=zC(),h=aI(t,c,e,r,s);return Nu(3),h?n+Jn(e)+i+Jn(r)+o+Jn(s)+a:en}function pa(t,n){return t<<17|n<<2}function Fi(t){return t>>17&32767}function pI(t){return(t&2)==2}function mI(t,n){return t&131071|n<<17}function lu(t){return t|2}function Er(t){return(t&131068)>>2}function vd(t,n){return t&-131069|n<<2}function gI(t){return(t&1)===1}function du(t){return t|1}function _I(t,n,e,i,r,o){let s=o?n.classBindings:n.styleBindings,a=Fi(s),c=Er(s);t[i]=e;let h=!1,f;if(Array.isArray(e)){let p=e;f=p[1],(f===null||To(p,f)>0)&&(h=!0)}else f=e;if(r)if(c!==0){let y=Fi(t[a+1]);t[i+1]=pa(y,a),y!==0&&(t[y+1]=vd(t[y+1],i)),t[a+1]=mI(t[a+1],i)}else t[i+1]=pa(a,0),a!==0&&(t[a+1]=vd(t[a+1],i)),a=i;else t[i+1]=pa(c,0),a===0?a=i:t[c+1]=vd(t[c+1],i),c=i;h&&(t[i+1]=lu(t[i+1])),Vm(t,f,i,!0),Vm(t,f,i,!1),vI(n,f,t,i,o),s=pa(a,c),o?n.classBindings=s:n.styleBindings=s}function vI(t,n,e,i,r){let o=r?t.residualClasses:t.residualStyles;o!=null&&typeof n=="string"&&To(o,n)>=0&&(e[i+1]=du(e[i+1]))}function Vm(t,n,e,i){let r=t[e+1],o=n===null,s=i?Fi(r):Er(r),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],h=t[s+1];yI(c,n)&&(a=!0,t[s+1]=i?du(h):lu(h)),s=i?Fi(h):Er(h)}a&&(t[e+1]=i?lu(r):du(r))}function yI(t,n){return t===null||n==null||(Array.isArray(t)?t[1]:t)===n?!0:Array.isArray(t)&&typeof n=="string"?To(t,n)>=0:!1}var Yt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function bI(t){return t.substring(Yt.key,Yt.keyEnd)}function wI(t){return CI(t),s_(t,a_(t,0,Yt.textEnd))}function s_(t,n){let e=Yt.textEnd;return e===n?-1:(n=Yt.keyEnd=xI(t,Yt.key=n,e),a_(t,n,e))}function CI(t){Yt.key=0,Yt.keyEnd=0,Yt.value=0,Yt.valueEnd=0,Yt.textEnd=t.length}function a_(t,n,e){for(;n<e&&t.charCodeAt(n)<=32;)n++;return n}function xI(t,n,e){for(;n<e&&t.charCodeAt(n)>32;)n++;return n}function g(t,n,e){let i=re(),r=Sr();if(Pt(i,r,n)){let o=Ne(),s=ic();Ju(o,s,i,t,n,i[Pe],e,!1)}return g}function uu(t,n,e,i,r){let o=n.inputs,s=r?"class":"style";th(t,e,o[s],s,i)}function Fo(t,n,e){return c_(t,n,e,!1),Fo}function ce(t,n){return c_(t,n,null,!0),ce}function ah(t){EI(OI,DI,t,!0)}function DI(t,n){for(let e=wI(n);e>=0;e=s_(n,e))xu(t,bI(n),!0)}function c_(t,n,e,i){let r=re(),o=Ne(),s=Nu(2);if(o.firstUpdatePass&&d_(o,t,s,i),n!==en&&Pt(r,s,n)){let a=o.data[si()];u_(o,a,r,r[Pe],t,r[s+1]=PI(n,e),i,s)}}function EI(t,n,e,i){let r=Ne(),o=Nu(2);r.firstUpdatePass&&d_(r,null,o,i);let s=re();if(e!==en&&Pt(s,o,e)){let a=r.data[si()];if(h_(a,i)&&!l_(r,o)){let c=i?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(e=xd(c,e||"")),uu(r,a,s,e,i)}else kI(r,a,s,s[Pe],s[o+1],s[o+1]=AI(t,n,e),i,o)}}function l_(t,n){return n>=t.expandoStartIndex}function d_(t,n,e,i){let r=t.data;if(r[e+1]===null){let o=r[si()],s=l_(t,e);h_(o,i)&&n===null&&!s&&(n=!1),n=II(r,o,n,i),_I(r,o,n,e,s,i)}}function II(t,n,e,i){let r=QC(t),o=i?n.residualClasses:n.residualStyles;if(r===null)(i?n.classBindings:n.styleBindings)===0&&(e=yd(null,t,n,e,i),e=So(e,n.attrs,i),o=null);else{let s=n.directiveStylingLast;if(s===-1||t[s]!==r)if(e=yd(r,t,n,e,i),o===null){let c=SI(t,n,i);c!==void 0&&Array.isArray(c)&&(c=yd(null,t,n,c[1],i),c=So(c,n.attrs,i),MI(t,n,i,c))}else o=TI(t,n,i)}return o!==void 0&&(i?n.residualClasses=o:n.residualStyles=o),e}function SI(t,n,e){let i=e?n.classBindings:n.styleBindings;if(Er(i)!==0)return t[Fi(i)]}function MI(t,n,e,i){let r=e?n.classBindings:n.styleBindings;t[Fi(r)]=i}function TI(t,n,e){let i,r=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<r;o++){let s=t[o].hostAttrs;i=So(i,s,e)}return So(i,n.attrs,e)}function yd(t,n,e,i,r){let o=null,s=e.directiveEnd,a=e.directiveStylingLast;for(a===-1?a=e.directiveStart:a++;a<s&&(o=n[a],i=So(i,o.hostAttrs,r),o!==t);)a++;return t!==null&&(e.directiveStylingLast=a),i}function So(t,n,e){let i=e?1:2,r=-1;if(n!==null)for(let o=0;o<n.length;o++){let s=n[o];typeof s=="number"?r=s:r===i&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),xu(t,s,e?!0:n[++o]))}return t===void 0?null:t}function AI(t,n,e){if(e==null||e==="")return yt;let i=[],r=Vi(e);if(Array.isArray(r))for(let o=0;o<r.length;o++)t(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&t(i,o,r[o]);else typeof r=="string"&&n(i,r);return i}function OI(t,n,e){let i=String(n);i!==""&&!i.includes(" ")&&xu(t,i,e)}function kI(t,n,e,i,r,o,s,a){r===en&&(r=yt);let c=0,h=0,f=0<r.length?r[0]:null,p=0<o.length?o[0]:null;for(;f!==null||p!==null;){let y=c<r.length?r[c+1]:void 0,v=h<o.length?o[h+1]:void 0,x=null,E;f===p?(c+=2,h+=2,y!==v&&(x=p,E=v)):p===null||f!==null&&f<p?(c+=2,x=f):(h+=2,x=p,E=v),x!==null&&u_(t,n,e,i,x,E,s,a),f=c<r.length?r[c]:null,p=h<o.length?o[h]:null}}function u_(t,n,e,i,r,o,s,a){if(!(n.type&3))return;let c=t.data,h=c[a+1],f=gI(h)?jm(c,n,e,r,Er(h),s):void 0;if(!za(f)){za(o)||pI(h)&&(o=jm(c,null,e,r,a,s));let p=Sg(si(),e);vD(i,s,p,r,o)}}function jm(t,n,e,i,r,o){let s=n===null,a;for(;r>0;){let c=t[r],h=Array.isArray(c),f=h?c[1]:c,p=f===null,y=e[r+1];y===en&&(y=p?yt:void 0);let v=p?cd(y,i):f===i?y:void 0;if(h&&!za(v)&&(v=cd(c,i)),za(v)&&(a=v,s))return a;let x=t[r+1];r=s?Fi(x):Er(x)}if(n!==null){let c=o?n.residualClasses:n.residualStyles;c!=null&&(a=cd(c,i))}return a}function za(t){return t!==void 0}function PI(t,n){return t==null||t===""||(typeof n=="string"?t=t+n:typeof t=="object"&&(t=mt(Vi(t)))),t}function h_(t,n){return(t.flags&(n?8:16))!==0}function ch(t,n,e){No("NgControlFlow");let i=re(),r=Sr(),o=RI(i,rt+t),s=0;if(Pt(i,r,n)){let a=ue(null);try{if(QD(o,s),n!==-1){let c=NI(i[K],rt+n),h=Yd(o,c.tView.ssrId),f=$0(i,c,e,{dehydratedView:h});H0(o,f,s,Wd(c,h))}}finally{ue(a)}}else{let a=YD(o,s);a!==void 0&&(a[kt]=e)}}function RI(t,n){return t[n]}function NI(t,n){return Tu(t,n)}function FI(t,n,e,i,r,o){let s=n.consts,a=xr(s,r),c=Or(n,t,2,i,a);return eh(n,e,c,xr(s,o)),c.attrs!==null&&Va(c,c.attrs,!1),c.mergedAttrs!==null&&Va(c,c.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,c),c}function d(t,n,e,i){let r=re(),o=Ne(),s=rt+t,a=r[Pe],c=o.firstCreatePass?FI(s,o,r,n,e,i):o.data[s],h=LI(o,r,c,a,n,t);r[s]=h;let f=nc(c);return Li(c,!0),S0(a,h,c),!cI(c)&&oc()&&dc(o,r,h,c),LC()===0&&ii(h,r),VC(),f&&(Zu(o,r,c),Qu(o,c,r)),i!==null&&Ku(r,c),d}function l(){let t=st();Pu()?Ru():(t=t.parent,Li(t,!1));let n=t;BC(n)&&UC(),jC();let e=Ne();return e.firstCreatePass&&(ac(e,t),Mu(t)&&e.queries.elementEnd(t)),n.classesWithoutHost!=null&&ix(n)&&uu(e,n,re(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&rx(n)&&uu(e,n,re(),n.stylesWithoutHost,!1),l}function _(t,n,e,i){return d(t,n,e,i),l(),_}var LI=(t,n,e,i,r,o)=>(sc(!0),v0(i,r,JC()));function VI(t,n,e,i,r){let o=n.consts,s=xr(o,i),a=Or(n,t,8,"ng-container",s);s!==null&&Va(a,s,!0);let c=xr(o,r);return eh(n,e,a,c),n.queries!==null&&n.queries.elementStart(n,a),a}function xe(t,n,e){let i=re(),r=Ne(),o=t+rt,s=r.firstCreatePass?VI(o,r,i,n,e):r.data[o];Li(s,!0);let a=jI(r,i,s,t);return i[o]=a,oc()&&dc(r,i,a,s),ii(a,i),nc(s)&&(Zu(r,i,s),Qu(r,s,i)),e!=null&&Ku(i,s),xe}function De(){let t=st(),n=Ne();return Pu()?Ru():(t=t.parent,Li(t,!1)),n.firstCreatePass&&(ac(n,t),Mu(t)&&n.queries.elementEnd(t)),De}function Bi(t,n,e){return xe(t,n,e),De(),Bi}var jI=(t,n,e,i)=>(sc(!0),nD(n[Pe],""));function V(){return re()}function kr(t,n,e){let i=re(),r=Sr();if(Pt(i,r,n)){let o=Ne(),s=ic();Ju(o,s,i,t,n,i[Pe],e,!0)}return kr}var Ii=void 0;function BI(t){let n=t,e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&i===0?1:5}var UI=["en",[["a","p"],["AM","PM"],Ii],[["AM","PM"],Ii,Ii],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ii,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ii,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ii,"{1} 'at' {0}",Ii],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",BI],bd={};function Et(t){let n=$I(t),e=Bm(n);if(e)return e;let i=n.split("-")[0];if(e=Bm(i),e)return e;if(i==="en")return UI;throw new N(701,!1)}function Bm(t){return t in bd||(bd[t]=Ve.ng&&Ve.ng.common&&Ve.ng.common.locales&&Ve.ng.common.locales[t]),bd[t]}var Le=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Le||{});function $I(t){return t.toLowerCase().replace(/_/g,"-")}var Ga="en-US";var HI=Ga;function zI(t){typeof t=="string"&&(HI=t.toLowerCase().replace(/_/g,"-"))}function D(t,n,e,i){let r=re(),o=Ne(),s=st();return f_(o,r,r[Pe],s,t,n,i),D}function GI(t,n,e,i){let r=t.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===e&&r[o+1]===i){let a=n[wo],c=r[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function f_(t,n,e,i,r,o,s){let a=nc(i),h=t.firstCreatePass&&j0(t),f=n[kt],p=V0(n),y=!0;if(i.type&3||s){let E=Rt(i,n),O=s?s(E):E,R=p.length,j=s?F=>s(vn(F[i.index])):i.index,$=null;if(!s&&a&&($=GI(t,n,r,i.index)),$!==null){let F=$.__ngLastListenerFn__||$;F.__ngNextListenerFn__=o,$.__ngLastListenerFn__=o,y=!1}else{o=$m(i,n,f,o,!1);let F=e.listen(O,r,o);p.push(o,F),h&&h.push(r,j,R,R+1)}}else o=$m(i,n,f,o,!1);let v=i.outputs,x;if(y&&v!==null&&(x=v[r])){let E=x.length;if(E)for(let O=0;O<E;O+=2){let R=x[O],j=x[O+1],ve=n[R][j].subscribe(o),we=p.length;p.push(o,ve),h&&h.push(r,i.index,we,-(we+1))}}}function Um(t,n,e,i){let r=ue(null);try{return mn(6,n,e),e(i)!==!1}catch(o){return B0(t,o),!1}finally{mn(7,n,e),ue(r)}}function $m(t,n,e,i,r){return function o(s){if(s===Function)return i;let a=t.componentOffset>-1?oi(t.index,n):n;ih(a);let c=Um(n,e,i,s),h=o.__ngNextListenerFn__;for(;h;)c=Um(n,e,h,s)&&c,h=h.__ngNextListenerFn__;return r&&c===!1&&s.preventDefault(),c}}function w(t=1){return KC(t)}function WI(t,n){let e=null,i=tC(t);for(let r=0;r<n.length;r++){let o=n[r];if(o==="*"){e=r;continue}if(i===null?cg(t,o,!0):rC(i,o))return r}return e}function Rn(t){let n=re()[Kt][xt];if(!n.projection){let e=t?t.length:1,i=n.projection=Ww(e,null),r=i.slice(),o=n.child;for(;o!==null;){let s=t?WI(o,t):0;s!==null&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function Nn(t,n=0,e){let i=re(),r=Ne(),o=Or(r,rt+t,16,null,e||null);o.projection===null&&(o.projection=n),Ru(),(!i[bo]||Og())&&(o.flags&32)!==32&&gD(r,i,o)}function p_(t,n,e,i){$E(t,n,e,i)}function Ye(t,n,e){UE(t,n,e)}function je(t){let n=re(),e=Ne(),i=Rg();Fu(i+1);let r=sh(e,i);if(t.dirty&&kC(n)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let o=GE(n,i);t.reset(o,_x),t.notifyOnChanges()}return!0}return!1}function Be(){return BE(re(),Rg())}function qI(t,n,e,i){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=i}function nn(t){let n=HC();return Au(n,rt+t)}function u(t,n=""){let e=re(),i=Ne(),r=t+rt,o=i.firstCreatePass?Or(i,r,1,n,null):i.data[r],s=YI(i,e,o,n,t);e[r]=s,oc()&&dc(i,e,s,o),Li(o,!1)}var YI=(t,n,e,i,r)=>(sc(!0),eD(n[Pe],i));function Ae(t){return de("",t,""),Ae}function de(t,n,e){let i=re(),r=hI(i,t,n,e);return r!==en&&U0(i,si(),r),de}function lh(t,n,e,i,r,o,s){let a=re(),c=fI(a,t,n,e,i,r,o,s);return c!==en&&U0(a,si(),c),lh}function Lo(t,n,e){n_(n)&&(n=n());let i=re(),r=Sr();if(Pt(i,r,n)){let o=Ne(),s=ic();Ju(o,s,i,t,n,i[Pe],e,!1)}return Lo}function _c(t,n){let e=n_(t);return e&&t.set(n),e}function Vo(t,n){let e=re(),i=Ne(),r=st();return f_(i,e,e[Pe],r,t,n),Vo}function QI(t,n,e){let i=Ne();if(i.firstCreatePass){let r=ni(t);hu(e,i.data,i.blueprint,r,!0),hu(n,i.data,i.blueprint,r,!1)}}function hu(t,n,e,i,r){if(t=pt(t),Array.isArray(t))for(let o=0;o<t.length;o++)hu(t[o],n,e,i,r);else{let o=Ne(),s=re(),a=st(),c=br(t)?t:pt(t.provide),h=vg(t),f=a.providerIndexes&1048575,p=a.directiveStart,y=a.providerIndexes>>20;if(br(t)||!t.multi){let v=new Pi(h,r,C),x=Cd(c,n,r?f:f+y,p);x===-1?(Nd(Aa(a,s),o,c),wd(o,t,n.length),n.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(v),s.push(v)):(e[x]=v,s[x]=v)}else{let v=Cd(c,n,f+y,p),x=Cd(c,n,f,f+y),E=v>=0&&e[v],O=x>=0&&e[x];if(r&&!O||!r&&!E){Nd(Aa(a,s),o,c);let R=XI(r?KI:ZI,e.length,r,i,h);!r&&O&&(e[x].providerFactory=R),wd(o,t,n.length,0),n.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(R),s.push(R)}else{let R=m_(e[r?x:v],h,!r&&i);wd(o,t,v>-1?v:x,R)}!r&&i&&O&&e[x].componentProviders++}}}function wd(t,n,e,i){let r=br(n),o=mC(n);if(r||o){let c=(o?pt(n.useClass):n).prototype.ngOnDestroy;if(c){let h=t.destroyHooks||(t.destroyHooks=[]);if(!r&&n.multi){let f=h.indexOf(e);f===-1?h.push(e,[i,c]):h[f+1].push(i,c)}else h.push(e,c)}}}function m_(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function Cd(t,n,e,i){for(let r=e;r<i;r++)if(n[r]===t)return r;return-1}function ZI(t,n,e,i){return fu(this.multi,[])}function KI(t,n,e,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Ri(e,e[K],this.providerFactory.index,i);o=a.slice(0,s),fu(r,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],fu(r,o);return o}function fu(t,n){for(let e=0;e<t.length;e++){let i=t[e];n.push(i())}return n}function XI(t,n,e,i,r){let o=new Pi(t,e,C);return o.multi=[],o.index=n,o.componentProviders=0,m_(o,r,i&&!e),o}function Nt(t,n=[]){return e=>{e.providersResolver=(i,r)=>QI(i,r?r(t):t,n)}}var JI=(()=>{class t{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let i=mg(!1,e.type),r=i.length>0?gc([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=M({token:t,providedIn:"environment",factory:()=>new t(b(it))})}}return t})();function Ue(t){No("NgStandalone"),t.getStandaloneInjector=n=>n.get(JI).getOrCreateStandaloneInjector(t)}function g_(t,n){let e=t[n];return e===en?void 0:e}function e1(t,n,e,i,r,o){let s=n+e;return Pt(t,s,r)?r_(t,s+1,o?i.call(o,r):i(r)):g_(t,s+1)}function t1(t,n,e,i,r,o,s){let a=n+e;return o_(t,a,r,o)?r_(t,a+2,s?i.call(s,r,o):i(r,o)):g_(t,a+2)}function Fn(t,n){let e=Ne(),i,r=t+rt;e.firstCreatePass?(i=n1(n,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks??=[]).push(r,i.onDestroy)):i=e.data[r];let o=i.factory||(i.factory=Ti(i.type,!0)),s,a=vt(C);try{let c=Ta(!1),h=o();return Ta(c),qI(e,re(),r,h),h}finally{vt(a)}}function n1(t,n){if(n)for(let e=n.length-1;e>=0;e--){let i=n[e];if(t===i.name)return i}}function __(t,n,e){let i=t+rt,r=re(),o=Au(r,i);return v_(r,i)?e1(r,Pg(),n,o.transform,e,o):o.transform(e)}function li(t,n,e,i){let r=t+rt,o=re(),s=Au(o,r);return v_(o,r)?t1(o,Pg(),n,s.transform,e,i,s):s.transform(e,i)}function v_(t,n){return t[K].data[n].pure}function Ln(t,n){return pc(t,n)}var ma=null;function i1(t){ma!==null&&(t.defaultEncapsulation!==ma.defaultEncapsulation||t.preserveWhitespaces!==ma.preserveWhitespaces)||(ma=t)}var vc=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var dh=new k(""),jo=new k(""),yc=(()=>{class t{constructor(e,i,r){this._ngZone=e,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,uh||(r1(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{B.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb()}});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(e)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e()},i)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}static{this.\u0275fac=function(i){return new(i||t)(b(B),b(bc),b(jo))}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac})}}return t})(),bc=(()=>{class t{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return uh?.findTestabilityInTree(this,e,i)??null}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function r1(t){uh=t}var uh;function Ui(t){return!!t&&typeof t.then=="function"}function y_(t){return!!t&&typeof t.subscribe=="function"}var wc=new k(""),b_=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i}),this.appInits=T(wc,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let e=[];for(let r of this.appInits){let o=r();if(Ui(o))e.push(o);else if(y_(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});e.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),e.length===0&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Cc=new k("");function o1(){Op(()=>{throw new N(600,!1)})}function s1(t){return t.isBoundToModule}function a1(t,n,e){try{let i=e();return Ui(i)?i.catch(r=>{throw n.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw n.runOutsideAngular(()=>t.handleError(i)),i}}function w_(t,n){return Array.isArray(n)?n.reduce(w_,t):A(A({},t),n)}var Vn=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=T(Jg),this.afterRenderEffectManager=T(oh),this.externalTestViews=new Set,this.beforeRender=new H,this.afterTick=new H,this.componentTypes=[],this.components=[],this.isStable=T(ji).hasPendingTasks.pipe(z(e=>!e)),this._injector=T(it)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,i){let r=e instanceof La;if(!this._injector.get(b_).done){let y=!r&&ug(e),v=!1;throw new N(405,v)}let s;r?s=e:s=this._injector.get(ai).resolveComponentFactory(e),this.componentTypes.push(s.componentType);let a=s1(s)?void 0:this._injector.get(ri),c=i||s.selector,h=s.create(Fe.NULL,[],c,a),f=h.location.nativeElement,p=h.injector.get(dh,null);return p?.registerApplication(f),h.onDestroy(()=>{this.detachView(h.hostView),wa(this.components,h),p?.unregisterApplication(f)}),this._loadComponent(h),h}tick(){this._tick(!0)}_tick(e){if(this._runningTick)throw new N(101,!1);let i=ue(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(e)}catch(r){this.internalErrorHandler(r)}finally{this.afterTick.next(),this._runningTick=!1,ue(i)}}detectChangesInAttachedViews(e){let i=0,r=this.afterRenderEffectManager;for(;;){if(i===G0)throw new N(103,!1);if(e){let o=i===0;this.beforeRender.next(o);for(let{_lView:s,notifyErrorHandler:a}of this._views)c1(s,o,a)}if(i++,r.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>pu(o))&&(r.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>pu(o))))break}}attachView(e){let i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){let i=e;wa(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);let i=this._injector.get(Cc,[]);[...this._bootstrapListeners,...i].forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>wa(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new N(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function wa(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function c1(t,n,e){!n&&!pu(t)||l1(t,e,n)}function pu(t){return ku(t)}function l1(t,n,e){let i;e?(i=0,t[G]|=1024):t[G]&64?i=0:i=1,W0(t,n,i)}var mu=class{constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}},xc=(()=>{class t{compileModuleSync(e){return new Ha(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let i=this.compileModuleSync(e),r=hg(e),o=_0(r.declarations).reduce((s,a)=>{let c=ti(a);return c&&s.push(new Dr(c)),s},[]);return new mu(i,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),d1=new k("");function u1(t,n,e){let i=new Ha(e);return Promise.resolve(i)}function Hm(t){for(let n=t.length-1;n>=0;n--)if(t[n]!==void 0)return t[n]}var h1=(()=>{class t{constructor(){this.zone=T(B),this.applicationRef=T(Vn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function f1(t){return[{provide:B,useFactory:t},{provide:yr,multi:!0,useFactory:()=>{let n=T(h1,{optional:!0});return()=>n.initialize()}},{provide:yr,multi:!0,useFactory:()=>{let n=T(g1);return()=>{n.initialize()}}},{provide:Jg,useFactory:p1}]}function p1(){let t=T(B),n=T(Xt);return e=>t.runOutsideAngular(()=>n.handleError(e))}function m1(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var g1=(()=>{class t{constructor(){this.subscription=new Ie,this.initialized=!1,this.zone=T(B),this.pendingTasks=T(ji)}initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{B.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{B.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function _1(){return typeof $localize<"u"&&$localize.locale||Ga}var Pr=new k("",{providedIn:"root",factory:()=>T(Pr,oe.Optional|oe.SkipSelf)||_1()});var C_=new k(""),x_=(()=>{class t{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){let r=yE(i?.ngZone,m1({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{let o=rI(e.moduleType,this.injector,f1(()=>r)),s=o.injector.get(Xt,null);return r.runOutsideAngular(()=>{let a=r.onError.subscribe({next:c=>{s.handleError(c)}});o.onDestroy(()=>{wa(this._modules,o),a.unsubscribe()})}),a1(s,r,()=>{let a=o.injector.get(b_);return a.runInitializers(),a.donePromise.then(()=>{let c=o.injector.get(Pr,Ga);return zI(c||Ga),this._moduleDoBootstrap(o),o})})})}bootstrapModule(e,i=[]){let r=w_({},i);return u1(this.injector,r,e).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(e){let i=e.injector.get(Vn);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(i);else throw new N(-403,!1);this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new N(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let e=this._injector.get(C_,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(i){return new(i||t)(b(Fe))}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),go=null,D_=new k("");function v1(t){if(go&&!go.get(D_,!1))throw new N(400,!1);o1(),go=t;let n=t.get(x_);return w1(t),n}function hh(t,n,e=[]){let i=`Platform: ${n}`,r=new k(i);return(o=[])=>{let s=E_();if(!s||s.injector.get(D_,!1)){let a=[...e,...o,{provide:r,useValue:!0}];t?t(a):v1(y1(a,i))}return b1(r)}}function y1(t=[],n){return Fe.create({name:n,providers:[{provide:Ja,useValue:"platform"},{provide:C_,useValue:new Set([()=>go=null])},...t]})}function b1(t){let n=E_();if(!n)throw new N(401,!1);return n}function E_(){return go?.get(x_)??null}function w1(t){t.get(Uu,null)?.forEach(e=>e())}var He=(()=>{class t{static{this.__NG_ELEMENT_ID__=C1}}return t})();function C1(t){return x1(st(),re(),(t&16)===16)}function x1(t,n,e){if(tc(t)&&!e){let i=oi(t.index,n);return new Ni(i,i)}else if(t.type&47){let i=n[Kt];return new Ni(i,n)}return null}var gu=class{constructor(){}supports(n){return i_(n)}create(n){return new _u(n)}},D1=(t,n)=>n,_u=class{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||D1}forEachItem(n){let e;for(e=this._itHead;e!==null;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,i=this._removalsHead,r=0,o=null;for(;e||i;){let s=!i||e&&e.currentIndex<zm(i,r,o)?e:i,a=zm(s,r,o),c=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(e=e._next,s.previousIndex==null)r++;else{o||(o=[]);let h=a-r,f=c-r;if(h!=f){for(let y=0;y<h;y++){let v=y<o.length?o[y]:o[y]=0,x=v+y;f<=x&&x<h&&(o[y]=v+1)}let p=s.previousIndex;o[p]=f-h}}a!==c&&n(s,a,c)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)n(e)}diff(n){if(n==null&&(n=[]),!i_(n))throw new N(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._itHead,i=!1,r,o,s;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,o,s,a),i=!0):(i&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)),e=e._next}else r=0,oI(n,a=>{s=this._trackByFn(r,a),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,a,s,r),i=!0):(i&&(e=this._verifyReinsertion(e,a,s,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;n!==null;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;n!==null;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,i,r){let o;return n===null?o=this._itTail:(o=n._prev,this._remove(n)),n=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),n!==null?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,o,r)):(n=this._linkedRecords===null?null:this._linkedRecords.get(i,r),n!==null?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,o,r)):n=this._addAfter(new vu(e,i),o,r)),n}_verifyReinsertion(n,e,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?n=this._reinsertAfter(o,n._prev,r):n.currentIndex!=r&&(n.currentIndex=r,this._addToMoves(n,r)),n}_truncate(n){for(;n!==null;){let e=n._next;this._addToRemovals(this._unlink(n)),n=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(n);let r=n._prevRemoved,o=n._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(n,e,i),this._addToMoves(n,i),n}_moveAfter(n,e,i){return this._unlink(n),this._insertAfter(n,e,i),this._addToMoves(n,i),n}_addAfter(n,e,i){return this._insertAfter(n,e,i),this._additionsTail===null?this._additionsTail=this._additionsHead=n:this._additionsTail=this._additionsTail._nextAdded=n,n}_insertAfter(n,e,i){let r=e===null?this._itHead:e._next;return n._next=r,n._prev=e,r===null?this._itTail=n:r._prev=n,e===null?this._itHead=n:e._next=n,this._linkedRecords===null&&(this._linkedRecords=new Wa),this._linkedRecords.put(n),n.currentIndex=i,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){this._linkedRecords!==null&&this._linkedRecords.remove(n);let e=n._prev,i=n._next;return e===null?this._itHead=i:e._next=i,i===null?this._itTail=e:i._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=n:this._movesTail=this._movesTail._nextMoved=n),n}_addToRemovals(n){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Wa),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=n:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=n,n}},vu=class{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},yu=class{constructor(){this._head=null,this._tail=null}add(n){this._head===null?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let i;for(i=this._head;i!==null;i=i._nextDup)if((e===null||e<=i.currentIndex)&&Object.is(i.trackById,n))return i;return null}remove(n){let e=n._prevDup,i=n._nextDup;return e===null?this._head=i:e._nextDup=i,i===null?this._tail=e:i._prevDup=e,this._head===null}},Wa=class{constructor(){this.map=new Map}put(n){let e=n.trackById,i=this.map.get(e);i||(i=new yu,this.map.set(e,i)),i.add(n)}get(n,e){let i=n,r=this.map.get(i);return r?r.get(n,e):null}remove(n){let e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function zm(t,n,e){let i=t.previousIndex;if(i===null)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+n+r}function Gm(){return new Dc([new gu])}var Dc=(()=>{class t{static{this.\u0275prov=M({token:t,providedIn:"root",factory:Gm})}constructor(e){this.factories=e}static create(e,i){if(i!=null){let r=i.factories.slice();e=e.concat(r)}return new t(e)}static extend(e){return{provide:t,useFactory:i=>t.create(e,i||Gm()),deps:[[t,new wu,new Za]]}}find(e){let i=this.factories.find(r=>r.supports(e));if(i!=null)return i;throw new N(901,!1)}}return t})();var I_=hh(null,"core",[]),S_=(()=>{class t{constructor(e){}static{this.\u0275fac=function(i){return new(i||t)(b(Vn))}}static{this.\u0275mod=Y({type:t})}static{this.\u0275inj=q({})}}return t})();function at(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function fh(t,n=NaN){return!isNaN(parseFloat(t))&&!isNaN(Number(t))?Number(t):n}function M_(t){let n=ti(t);if(!n)return null;let e=new Dr(n);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}var N_=null;function bn(){return N_}function F_(t){N_??=t}var Pc=class{};var Q=new k(""),Dh=(()=>{class t{historyGo(e){throw new Error("")}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=M({token:t,factory:()=>T(E1),providedIn:"platform"})}}return t})(),L_=new k(""),E1=(()=>{class t extends Dh{constructor(){super(),this._doc=T(Q),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return bn().getBaseHref(this._doc)}onPopState(e){let i=bn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){let i=bn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=M({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function Eh(t,n){if(t.length==0)return n;if(n.length==0)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,e==2?t+n.substring(1):e==1?t+n:t+"/"+n}function T_(t){let n=t.match(/#|\?|$/),e=n&&n.index||t.length,i=e-(t[e-1]==="/"?1:0);return t.slice(0,i)+t.slice(e)}function Bn(t){return t&&t[0]!=="?"?"?"+t:t}var Hn=(()=>{class t{historyGo(e){throw new Error("")}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=M({token:t,factory:()=>T(Ih),providedIn:"root"})}}return t})(),V_=new k(""),Ih=(()=>{class t extends Hn{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??T(Q).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Eh(this._baseHref,e)}path(e=!1){let i=this._platformLocation.pathname+Bn(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){let s=this.prepareExternalUrl(r+Bn(o));this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){let s=this.prepareExternalUrl(r+Bn(o));this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(i){return new(i||t)(b(Dh),b(V_,8))}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),j_=(()=>{class t extends Hn{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(e){let i=Eh(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let s=this.prepareExternalUrl(r+Bn(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){let s=this.prepareExternalUrl(r+Bn(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(i){return new(i||t)(b(Dh),b(V_,8))}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac})}}return t})(),wn=(()=>{class t{constructor(e){this._subject=new se,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;let i=this._locationStrategy.getBaseHref();this._basePath=M1(T_(A_(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Bn(i))}normalize(e){return t.stripTrailingSlash(S1(this._basePath,A_(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Bn(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Bn(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}static{this.normalizeQueryParams=Bn}static{this.joinWithSlash=Eh}static{this.stripTrailingSlash=T_}static{this.\u0275fac=function(i){return new(i||t)(b(Hn))}}static{this.\u0275prov=M({token:t,factory:()=>I1(),providedIn:"root"})}}return t})();function I1(){return new wn(b(Hn))}function S1(t,n){if(!t||!n.startsWith(t))return n;let e=n.substring(t.length);return e===""||["/",";","?","#"].includes(e[0])?e:n}function A_(t){return t.replace(/\/index.html$/,"")}function M1(t){if(new RegExp("^(https?:)?//").test(t)){let[,e]=t.split(/\/\/[^\/]+/);return e}return t}var B_=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(B_||{});var gt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(gt||{}),Ee=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Ee||{}),It=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(It||{}),St={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function T1(t){return Et(t)[Le.LocaleId]}function A1(t,n,e){let i=Et(t),r=[i[Le.DayPeriodsFormat],i[Le.DayPeriodsStandalone]],o=Ft(r,n);return Ft(o,e)}function O1(t,n,e){let i=Et(t),r=[i[Le.DaysFormat],i[Le.DaysStandalone]],o=Ft(r,n);return Ft(o,e)}function k1(t,n,e){let i=Et(t),r=[i[Le.MonthsFormat],i[Le.MonthsStandalone]],o=Ft(r,n);return Ft(o,e)}function P1(t,n){let i=Et(t)[Le.Eras];return Ft(i,n)}function Ec(t,n){let e=Et(t);return Ft(e[Le.DateFormat],n)}function Ic(t,n){let e=Et(t);return Ft(e[Le.TimeFormat],n)}function Sc(t,n){let i=Et(t)[Le.DateTimeFormat];return Ft(i,n)}function Un(t,n){let e=Et(t),i=e[Le.NumberSymbols][n];if(typeof i>"u"){if(n===St.CurrencyDecimal)return e[Le.NumberSymbols][St.Decimal];if(n===St.CurrencyGroup)return e[Le.NumberSymbols][St.Group]}return i}function R1(t,n){return Et(t)[Le.NumberFormats][n]}function U_(t){if(!t[Le.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Le.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function N1(t){let n=Et(t);return U_(n),(n[Le.ExtraData][2]||[]).map(i=>typeof i=="string"?ph(i):[ph(i[0]),ph(i[1])])}function F1(t,n,e){let i=Et(t);U_(i);let r=[i[Le.ExtraData][0],i[Le.ExtraData][1]],o=Ft(r,n)||[];return Ft(o,e)||[]}function Ft(t,n){for(let e=n;e>-1;e--)if(typeof t[e]<"u")return t[e];throw new Error("Locale data API: locale data undefined")}function ph(t){let[n,e]=t.split(":");return{hours:+n,minutes:+e}}var L1=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Mc={},V1=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,$n=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}($n||{}),_e=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(_e||{}),ge=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(ge||{});function j1(t,n,e,i){let r=Y1(t);n=jn(e,n)||n;let s=[],a;for(;n;)if(a=V1.exec(n),a){s=s.concat(a.slice(1));let f=s.pop();if(!f)break;n=f}else{s.push(n);break}let c=r.getTimezoneOffset();i&&(c=H_(i,c),r=q1(r,i,!0));let h="";return s.forEach(f=>{let p=G1(f);h+=p?p(r,e,c):f==="''"?"'":f.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),h}function Rc(t,n,e){let i=new Date(0);return i.setFullYear(t,n,e),i.setHours(0,0,0),i}function jn(t,n){let e=T1(t);if(Mc[e]??={},Mc[e][n])return Mc[e][n];let i="";switch(n){case"shortDate":i=Ec(t,It.Short);break;case"mediumDate":i=Ec(t,It.Medium);break;case"longDate":i=Ec(t,It.Long);break;case"fullDate":i=Ec(t,It.Full);break;case"shortTime":i=Ic(t,It.Short);break;case"mediumTime":i=Ic(t,It.Medium);break;case"longTime":i=Ic(t,It.Long);break;case"fullTime":i=Ic(t,It.Full);break;case"short":let r=jn(t,"shortTime"),o=jn(t,"shortDate");i=Tc(Sc(t,It.Short),[r,o]);break;case"medium":let s=jn(t,"mediumTime"),a=jn(t,"mediumDate");i=Tc(Sc(t,It.Medium),[s,a]);break;case"long":let c=jn(t,"longTime"),h=jn(t,"longDate");i=Tc(Sc(t,It.Long),[c,h]);break;case"full":let f=jn(t,"fullTime"),p=jn(t,"fullDate");i=Tc(Sc(t,It.Full),[f,p]);break}return i&&(Mc[e][n]=i),i}function Tc(t,n){return n&&(t=t.replace(/\{([^}]+)}/g,function(e,i){return n!=null&&i in n?n[i]:e})),t}function rn(t,n,e="-",i,r){let o="";(t<0||r&&t<=0)&&(r?t=-t+1:(t=-t,o=e));let s=String(t);for(;s.length<n;)s="0"+s;return i&&(s=s.slice(s.length-n)),o+s}function B1(t,n){return rn(t,3).substring(0,n)}function ze(t,n,e=0,i=!1,r=!1){return function(o,s){let a=U1(t,o);if((e>0||a>-e)&&(a+=e),t===_e.Hours)a===0&&e===-12&&(a=12);else if(t===_e.FractionalSeconds)return B1(a,n);let c=Un(s,St.MinusSign);return rn(a,n,c,i,r)}}function U1(t,n){switch(t){case _e.FullYear:return n.getFullYear();case _e.Month:return n.getMonth();case _e.Date:return n.getDate();case _e.Hours:return n.getHours();case _e.Minutes:return n.getMinutes();case _e.Seconds:return n.getSeconds();case _e.FractionalSeconds:return n.getMilliseconds();case _e.Day:return n.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Te(t,n,e=gt.Format,i=!1){return function(r,o){return $1(r,o,t,n,e,i)}}function $1(t,n,e,i,r,o){switch(e){case ge.Months:return k1(n,r,i)[t.getMonth()];case ge.Days:return O1(n,r,i)[t.getDay()];case ge.DayPeriods:let s=t.getHours(),a=t.getMinutes();if(o){let h=N1(n),f=F1(n,r,i),p=h.findIndex(y=>{if(Array.isArray(y)){let[v,x]=y,E=s>=v.hours&&a>=v.minutes,O=s<x.hours||s===x.hours&&a<x.minutes;if(v.hours<x.hours){if(E&&O)return!0}else if(E||O)return!0}else if(y.hours===s&&y.minutes===a)return!0;return!1});if(p!==-1)return f[p]}return A1(n,r,i)[s<12?0:1];case ge.Eras:return P1(n,i)[t.getFullYear()<=0?0:1];default:let c=e;throw new Error(`unexpected translation type ${c}`)}}function Ac(t){return function(n,e,i){let r=-1*i,o=Un(e,St.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(t){case $n.Short:return(r>=0?"+":"")+rn(s,2,o)+rn(Math.abs(r%60),2,o);case $n.ShortGMT:return"GMT"+(r>=0?"+":"")+rn(s,1,o);case $n.Long:return"GMT"+(r>=0?"+":"")+rn(s,2,o)+":"+rn(Math.abs(r%60),2,o);case $n.Extended:return i===0?"Z":(r>=0?"+":"")+rn(s,2,o)+":"+rn(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var H1=0,kc=4;function z1(t){let n=Rc(t,H1,1).getDay();return Rc(t,0,1+(n<=kc?kc:kc+7)-n)}function $_(t){let n=t.getDay(),e=n===0?-3:kc-n;return Rc(t.getFullYear(),t.getMonth(),t.getDate()+e)}function mh(t,n=!1){return function(e,i){let r;if(n){let o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();r=1+Math.floor((s+o)/7)}else{let o=$_(e),s=z1(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return rn(r,t,Un(i,St.MinusSign))}}function Oc(t,n=!1){return function(e,i){let o=$_(e).getFullYear();return rn(o,t,Un(i,St.MinusSign),n)}}var gh={};function G1(t){if(gh[t])return gh[t];let n;switch(t){case"G":case"GG":case"GGG":n=Te(ge.Eras,Ee.Abbreviated);break;case"GGGG":n=Te(ge.Eras,Ee.Wide);break;case"GGGGG":n=Te(ge.Eras,Ee.Narrow);break;case"y":n=ze(_e.FullYear,1,0,!1,!0);break;case"yy":n=ze(_e.FullYear,2,0,!0,!0);break;case"yyy":n=ze(_e.FullYear,3,0,!1,!0);break;case"yyyy":n=ze(_e.FullYear,4,0,!1,!0);break;case"Y":n=Oc(1);break;case"YY":n=Oc(2,!0);break;case"YYY":n=Oc(3);break;case"YYYY":n=Oc(4);break;case"M":case"L":n=ze(_e.Month,1,1);break;case"MM":case"LL":n=ze(_e.Month,2,1);break;case"MMM":n=Te(ge.Months,Ee.Abbreviated);break;case"MMMM":n=Te(ge.Months,Ee.Wide);break;case"MMMMM":n=Te(ge.Months,Ee.Narrow);break;case"LLL":n=Te(ge.Months,Ee.Abbreviated,gt.Standalone);break;case"LLLL":n=Te(ge.Months,Ee.Wide,gt.Standalone);break;case"LLLLL":n=Te(ge.Months,Ee.Narrow,gt.Standalone);break;case"w":n=mh(1);break;case"ww":n=mh(2);break;case"W":n=mh(1,!0);break;case"d":n=ze(_e.Date,1);break;case"dd":n=ze(_e.Date,2);break;case"c":case"cc":n=ze(_e.Day,1);break;case"ccc":n=Te(ge.Days,Ee.Abbreviated,gt.Standalone);break;case"cccc":n=Te(ge.Days,Ee.Wide,gt.Standalone);break;case"ccccc":n=Te(ge.Days,Ee.Narrow,gt.Standalone);break;case"cccccc":n=Te(ge.Days,Ee.Short,gt.Standalone);break;case"E":case"EE":case"EEE":n=Te(ge.Days,Ee.Abbreviated);break;case"EEEE":n=Te(ge.Days,Ee.Wide);break;case"EEEEE":n=Te(ge.Days,Ee.Narrow);break;case"EEEEEE":n=Te(ge.Days,Ee.Short);break;case"a":case"aa":case"aaa":n=Te(ge.DayPeriods,Ee.Abbreviated);break;case"aaaa":n=Te(ge.DayPeriods,Ee.Wide);break;case"aaaaa":n=Te(ge.DayPeriods,Ee.Narrow);break;case"b":case"bb":case"bbb":n=Te(ge.DayPeriods,Ee.Abbreviated,gt.Standalone,!0);break;case"bbbb":n=Te(ge.DayPeriods,Ee.Wide,gt.Standalone,!0);break;case"bbbbb":n=Te(ge.DayPeriods,Ee.Narrow,gt.Standalone,!0);break;case"B":case"BB":case"BBB":n=Te(ge.DayPeriods,Ee.Abbreviated,gt.Format,!0);break;case"BBBB":n=Te(ge.DayPeriods,Ee.Wide,gt.Format,!0);break;case"BBBBB":n=Te(ge.DayPeriods,Ee.Narrow,gt.Format,!0);break;case"h":n=ze(_e.Hours,1,-12);break;case"hh":n=ze(_e.Hours,2,-12);break;case"H":n=ze(_e.Hours,1);break;case"HH":n=ze(_e.Hours,2);break;case"m":n=ze(_e.Minutes,1);break;case"mm":n=ze(_e.Minutes,2);break;case"s":n=ze(_e.Seconds,1);break;case"ss":n=ze(_e.Seconds,2);break;case"S":n=ze(_e.FractionalSeconds,1);break;case"SS":n=ze(_e.FractionalSeconds,2);break;case"SSS":n=ze(_e.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":n=Ac($n.Short);break;case"ZZZZZ":n=Ac($n.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=Ac($n.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":n=Ac($n.Long);break;default:return null}return gh[t]=n,n}function H_(t,n){t=t.replace(/:/g,"");let e=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(e)?n:e}function W1(t,n){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+n),t}function q1(t,n,e){let i=e?-1:1,r=t.getTimezoneOffset(),o=H_(n,r);return W1(t,i*(o-r))}function Y1(t){if(O_(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[r,o=1,s=1]=t.split("-").map(a=>+a);return Rc(r,o-1,s)}let e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let i;if(i=t.match(L1))return Q1(i)}let n=new Date(t);if(!O_(n))throw new Error(`Unable to convert "${t}" into a date`);return n}function Q1(t){let n=new Date(0),e=0,i=0,r=t[8]?n.setUTCFullYear:n.setFullYear,o=t[8]?n.setUTCHours:n.setHours;t[9]&&(e=Number(t[9]+t[10]),i=Number(t[9]+t[11])),r.call(n,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-e,a=Number(t[5]||0)-i,c=Number(t[6]||0),h=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(n,s,a,c,h),n}function O_(t){return t instanceof Date&&!isNaN(t.valueOf())}var Z1=/^(\d+)?\.((\d+)(-(\d+))?)?$/,k_=22,Nc=".",Bo="0",K1=";",X1=",",_h="#";function J1(t,n,e,i,r,o,s=!1){let a="",c=!1;if(!isFinite(t))a=Un(e,St.Infinity);else{let h=iS(t);s&&(h=nS(h));let f=n.minInt,p=n.minFrac,y=n.maxFrac;if(o){let j=o.match(Z1);if(j===null)throw new Error(`${o} is not a valid digit info`);let $=j[1],F=j[3],ve=j[5];$!=null&&(f=vh($)),F!=null&&(p=vh(F)),ve!=null?y=vh(ve):F!=null&&p>y&&(y=p)}rS(h,p,y);let v=h.digits,x=h.integerLen,E=h.exponent,O=[];for(c=v.every(j=>!j);x<f;x++)v.unshift(0);for(;x<0;x++)v.unshift(0);x>0?O=v.splice(x,v.length):(O=v,v=[0]);let R=[];for(v.length>=n.lgSize&&R.unshift(v.splice(-n.lgSize,v.length).join(""));v.length>n.gSize;)R.unshift(v.splice(-n.gSize,v.length).join(""));v.length&&R.unshift(v.join("")),a=R.join(Un(e,i)),O.length&&(a+=Un(e,r)+O.join("")),E&&(a+=Un(e,St.Exponential)+"+"+E)}return t<0&&!c?a=n.negPre+a+n.negSuf:a=n.posPre+a+n.posSuf,a}function eS(t,n,e){let i=R1(n,B_.Decimal),r=tS(i,Un(n,St.MinusSign));return J1(t,r,n,St.Group,St.Decimal,e)}function tS(t,n="-"){let e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=t.split(K1),r=i[0],o=i[1],s=r.indexOf(Nc)!==-1?r.split(Nc):[r.substring(0,r.lastIndexOf(Bo)+1),r.substring(r.lastIndexOf(Bo)+1)],a=s[0],c=s[1]||"";e.posPre=a.substring(0,a.indexOf(_h));for(let f=0;f<c.length;f++){let p=c.charAt(f);p===Bo?e.minFrac=e.maxFrac=f+1:p===_h?e.maxFrac=f+1:e.posSuf+=p}let h=a.split(X1);if(e.gSize=h[1]?h[1].length:0,e.lgSize=h[2]||h[1]?(h[2]||h[1]).length:0,o){let f=r.length-e.posPre.length-e.posSuf.length,p=o.indexOf(_h);e.negPre=o.substring(0,p).replace(/'/g,""),e.negSuf=o.slice(p+f).replace(/'/g,"")}else e.negPre=n+e.posPre,e.negSuf=e.posSuf;return e}function nS(t){if(t.digits[0]===0)return t;let n=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(n===0?t.digits.push(0,0):n===1&&t.digits.push(0),t.integerLen+=2),t}function iS(t){let n=Math.abs(t)+"",e=0,i,r,o,s,a;for((r=n.indexOf(Nc))>-1&&(n=n.replace(Nc,"")),(o=n.search(/e/i))>0?(r<0&&(r=o),r+=+n.slice(o+1),n=n.substring(0,o)):r<0&&(r=n.length),o=0;n.charAt(o)===Bo;o++);if(o===(a=n.length))i=[0],r=1;else{for(a--;n.charAt(a)===Bo;)a--;for(r-=o,i=[],s=0;o<=a;o++,s++)i[s]=Number(n.charAt(o))}return r>k_&&(i=i.splice(0,k_-1),e=r-1,r=1),{digits:i,exponent:e,integerLen:r}}function rS(t,n,e){if(n>e)throw new Error(`The minimum number of digits after fraction (${n}) is higher than the maximum (${e}).`);let i=t.digits,r=i.length-t.integerLen,o=Math.min(Math.max(n,r),e),s=o+t.integerLen,a=i[s];if(s>0){i.splice(Math.max(t.integerLen,s));for(let p=s;p<i.length;p++)i[p]=0}else{r=Math.max(0,r),t.integerLen=1,i.length=Math.max(1,s=o+1),i[0]=0;for(let p=1;p<s;p++)i[p]=0}if(a>=5)if(s-1<0){for(let p=0;p>s;p--)i.unshift(0),t.integerLen++;i.unshift(1),t.integerLen++}else i[s-1]++;for(;r<Math.max(0,o);r++)i.push(0);let c=o!==0,h=n+t.integerLen,f=i.reduceRight(function(p,y,v,x){return y=y+p,x[v]=y<10?y:y-10,c&&(x[v]===0&&v>=h?x.pop():c=!1),y>=10?1:0},0);f&&(i.unshift(f),t.integerLen++)}function vh(t){let n=parseInt(t);if(isNaN(n))throw new Error("Invalid integer literal when parsing "+t);return n}function Lc(t,n){n=encodeURIComponent(n);for(let e of t.split(";")){let i=e.indexOf("="),[r,o]=i==-1?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===n)return decodeURIComponent(o)}return null}var yh=class{constructor(n,e,i,r){this.$implicit=n,this.ngForOf=e,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},di=(()=>{class t{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;if(!this._differ&&e)if(0)try{}catch{}else this._differ=this._differs.find(e).create(this.ngForTrackBy)}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let i=this._viewContainer;e.forEachOperation((r,o,s)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new yh(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(o===null?void 0:o);else if(o!==null){let a=i.get(o);i.move(a,s),P_(a,r)}});for(let r=0,o=i.length;r<o;r++){let a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);P_(o,r)})}static ngTemplateContextGuard(e,i){return!0}static{this.\u0275fac=function(i){return new(i||t)(C(Dt),C(Ct),C(Dc))}}static{this.\u0275dir=pe({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function P_(t,n){t.context.$implicit=n.item}var ct=(()=>{class t{constructor(e,i){this._viewContainer=e,this._context=new bh,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){R_("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){R_("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static{this.\u0275fac=function(i){return new(i||t)(C(Dt),C(Ct))}}static{this.\u0275dir=pe({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),bh=class{constructor(){this.$implicit=null,this.ngIf=null}};function R_(t,n){if(!!!(!n||n.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${mt(n)}'.`)}var oS=!0,wh=class{constructor(n,e){this._viewContainerRef=n,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(n){n&&!this._created?this.create():!n&&this._created&&this.destroy()}},Uo=(()=>{class t{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){let i=oS?e===this._ngSwitch:e==this._ngSwitch;return this._lastCasesMatched||=i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(let i of this._defaultViews)i.enforceState(e)}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=pe({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return t})(),Vc=(()=>{class t{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new wh(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(i){return new(i||t)(C(Dt),C(Ct),C(Uo,9))}}static{this.\u0275dir=pe({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return t})();function Sh(t,n){return new N(2100,!1)}var sS=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,z_=(()=>{class t{transform(e){if(e==null)return null;if(typeof e!="string")throw Sh(t,e);return e.replace(sS,i=>i[0].toUpperCase()+i.slice(1).toLowerCase())}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275pipe=Ka({name:"titlecase",type:t,pure:!0,standalone:!0})}}return t})();var aS="mediumDate",cS=new k(""),lS=new k(""),jc=(()=>{class t{constructor(e,i,r){this.locale=e,this.defaultTimezone=i,this.defaultOptions=r}transform(e,i,r,o){if(e==null||e===""||e!==e)return null;try{let s=i??this.defaultOptions?.dateFormat??aS,a=r??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return j1(e,s,o||this.locale,a)}catch(s){throw Sh(t,s.message)}}static{this.\u0275fac=function(i){return new(i||t)(C(Pr,16),C(cS,24),C(lS,24))}}static{this.\u0275pipe=Ka({name:"date",type:t,pure:!0,standalone:!0})}}return t})();var G_=(()=>{class t{constructor(e){this._locale=e}transform(e,i,r){if(!dS(e))return null;r||=this._locale;try{let o=uS(e);return eS(o,r,i)}catch(o){throw Sh(t,o.message)}}static{this.\u0275fac=function(i){return new(i||t)(C(Pr,16))}}static{this.\u0275pipe=Ka({name:"number",type:t,pure:!0,standalone:!0})}}return t})();function dS(t){return!(t==null||t===""||t!==t)}function uS(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var wt=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Y({type:t})}static{this.\u0275inj=q({})}}return t})(),Mh="browser",hS="server";function Lt(t){return t===Mh}function Bc(t){return t===hS}var W_=(()=>{class t{static{this.\u0275prov=M({token:t,providedIn:"root",factory:()=>Lt(T(Ze))?new Ch(T(Q),window):new xh})}}return t})(),Ch=class{constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){Array.isArray(n)?this.offset=()=>n:this.offset=n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n){this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){let e=fS(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){this.window.history.scrollRestoration=n}scrollToElement(n){let e=n.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}};function fS(t,n){let e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}r=i.nextNode()}}return null}var xh=class{setOffset(n){}getScrollPosition(){return[0,0]}scrollToPosition(n){}scrollToAnchor(n){}setHistoryScrollRestoration(n){}},Rr=class{};var Ho=class{},$c=class{},jt=class t{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?typeof n=="string"?this.lazyInit=()=>{this.headers=new Map,n.split(`
`).forEach(e=>{let i=e.indexOf(":");if(i>0){let r=e.slice(0,i),o=r.toLowerCase(),s=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();let e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){let e=new t;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){let e=n.name.toLowerCase();switch(n.op){case"a":case"s":let i=n.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(n.name,e);let r=(n.op==="a"?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":let o=n.value;if(!o)this.headers.delete(e),this.normalizedNames.delete(e);else{let s=this.headers.get(e);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}break}}setHeaderEntries(n,e){let i=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=n.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(n,r)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}};var Ah=class{encodeKey(n){return q_(n)}encodeValue(n){return q_(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};function gS(t,n){let e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[n.decodeKey(r),""]:[n.decodeKey(r.slice(0,o)),n.decodeValue(r.slice(o+1))],c=e.get(s)||[];c.push(a),e.set(s,c)}),e}var _S=/%(\d[a-f0-9])/gi,vS={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function q_(t){return encodeURIComponent(t).replace(_S,(n,e)=>vS[e]??n)}function Uc(t){return`${t}`}var ui=class t{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new Ah,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=gS(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{let i=n.fromObject[e],r=Array.isArray(i)?i.map(Uc):[Uc(i)];this.map.set(e,r)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();let e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){let e=[];return Object.keys(n).forEach(i=>{let r=n[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{let e=this.encoder.encodeKey(n);return this.map.get(n).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(n=>n!=="").join("&")}clone(n){let e=new t({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":let e=(n.op==="a"?this.map.get(n.param):void 0)||[];e.push(Uc(n.value)),this.map.set(n.param,e);break;case"d":if(n.value!==void 0){let i=this.map.get(n.param)||[],r=i.indexOf(Uc(n.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(n.param,i):this.map.delete(n.param)}else{this.map.delete(n.param);break}}}),this.cloneFrom=this.updates=null)}};var Oh=class{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}};function yS(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Y_(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function Q_(t){return typeof Blob<"u"&&t instanceof Blob}function Z_(t){return typeof FormData<"u"&&t instanceof FormData}function bS(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var $o=class t{constructor(n,e,i,r){this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase();let o;if(yS(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new jt,this.context??=new Oh,!this.params)this.params=new ui,this.urlWithParams=e;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=e;else{let a=e.indexOf("?"),c=a===-1?"?":a<e.length-1?"&":"";this.urlWithParams=e+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Y_(this.body)||Q_(this.body)||Z_(this.body)||bS(this.body)?this.body:this.body instanceof ui?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Z_(this.body)?null:Q_(this.body)?this.body.type||null:Y_(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof ui?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(n={}){let e=n.method||this.method,i=n.url||this.url,r=n.responseType||this.responseType,o=n.transferCache??this.transferCache,s=n.body!==void 0?n.body:this.body,a=n.withCredentials??this.withCredentials,c=n.reportProgress??this.reportProgress,h=n.headers||this.headers,f=n.params||this.params,p=n.context??this.context;return n.setHeaders!==void 0&&(h=Object.keys(n.setHeaders).reduce((y,v)=>y.set(v,n.setHeaders[v]),h)),n.setParams&&(f=Object.keys(n.setParams).reduce((y,v)=>y.set(v,n.setParams[v]),f)),new t(e,i,s,{params:f,headers:h,context:p,reportProgress:c,responseType:r,withCredentials:a,transferCache:o})}},Nr=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Nr||{}),zo=class{constructor(n,e=Gc.Ok,i="OK"){this.headers=n.headers||new jt,this.status=n.status!==void 0?n.status:e,this.statusText=n.statusText||i,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}},kh=class t extends zo{constructor(n={}){super(n),this.type=Nr.ResponseHeader}clone(n={}){return new t({headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},Hc=class t extends zo{constructor(n={}){super(n),this.type=Nr.Response,this.body=n.body!==void 0?n.body:null}clone(n={}){return new t({body:n.body!==void 0?n.body:this.body,headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},zc=class extends zo{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${n.url||"(unknown url)"}`:this.message=`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}},Gc=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(Gc||{});function Th(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Mt=(()=>{class t{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof $o)o=e;else{let c;r.headers instanceof jt?c=r.headers:c=new jt(r.headers);let h;r.params&&(r.params instanceof ui?h=r.params:h=new ui({fromObject:r.params})),o=new $o(e,i,r.body!==void 0?r.body:null,{headers:c,context:r.context,params:h,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let s=L(o).pipe(In(c=>this.handler.handle(c)));if(e instanceof $o||r.observe==="events")return s;let a=s.pipe(Me(c=>c instanceof Hc));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(z(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(z(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(z(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return a.pipe(z(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:new ui().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,Th(r,i))}post(e,i,r={}){return this.request("POST",e,Th(r,i))}put(e,i,r={}){return this.request("PUT",e,Th(r,i))}static{this.\u0275fac=function(i){return new(i||t)(b(Ho))}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac})}}return t})();function ev(t,n){return n(t)}function wS(t,n){return(e,i)=>n.intercept(e,{handle:r=>t(r,i)})}function CS(t,n,e){return(i,r)=>Jt(e,()=>n(i,o=>t(o,r)))}var xS=new k(""),Ph=new k(""),DS=new k(""),ES=new k("");function IS(){let t=null;return(n,e)=>{t===null&&(t=(T(xS,{optional:!0})??[]).reduceRight(wS,ev));let i=T(ji),r=i.add();return t(n,e).pipe(ht(()=>i.remove(r)))}}var K_=(()=>{class t extends Ho{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=T(ji);let r=T(ES,{optional:!0});this.backend=r??e}handle(e){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Ph),...this.injector.get(DS,[])]));this.chain=r.reduceRight((o,s)=>CS(o,s,this.injector),ev)}let i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(ht(()=>this.pendingTasks.remove(i)))}static{this.\u0275fac=function(i){return new(i||t)(b($c),b(it))}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac})}}return t})();var SS=/^\)\]\}',?\n/;function MS(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var X_=(()=>{class t{constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new N(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?be(i.\u0275loadImpl()):L(null)).pipe(Qe(()=>new J(o=>{let s=i.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((E,O)=>s.setRequestHeader(E,O.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){let E=e.detectContentTypeHeader();E!==null&&s.setRequestHeader("Content-Type",E)}if(e.responseType){let E=e.responseType.toLowerCase();s.responseType=E!=="json"?E:"text"}let a=e.serializeBody(),c=null,h=()=>{if(c!==null)return c;let E=s.statusText||"OK",O=new jt(s.getAllResponseHeaders()),R=MS(s)||e.url;return c=new kh({headers:O,status:s.status,statusText:E,url:R}),c},f=()=>{let{headers:E,status:O,statusText:R,url:j}=h(),$=null;O!==Gc.NoContent&&($=typeof s.response>"u"?s.responseText:s.response),O===0&&(O=$?Gc.Ok:0);let F=O>=200&&O<300;if(e.responseType==="json"&&typeof $=="string"){let ve=$;$=$.replace(SS,"");try{$=$!==""?JSON.parse($):null}catch(we){$=ve,F&&(F=!1,$={error:we,text:$})}}F?(o.next(new Hc({body:$,headers:E,status:O,statusText:R,url:j||void 0})),o.complete()):o.error(new zc({error:$,headers:E,status:O,statusText:R,url:j||void 0}))},p=E=>{let{url:O}=h(),R=new zc({error:E,status:s.status||0,statusText:s.statusText||"Unknown Error",url:O||void 0});o.error(R)},y=!1,v=E=>{y||(o.next(h()),y=!0);let O={type:Nr.DownloadProgress,loaded:E.loaded};E.lengthComputable&&(O.total=E.total),e.responseType==="text"&&s.responseText&&(O.partialText=s.responseText),o.next(O)},x=E=>{let O={type:Nr.UploadProgress,loaded:E.loaded};E.lengthComputable&&(O.total=E.total),o.next(O)};return s.addEventListener("load",f),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),e.reportProgress&&(s.addEventListener("progress",v),a!==null&&s.upload&&s.upload.addEventListener("progress",x)),s.send(a),o.next({type:Nr.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",f),s.removeEventListener("timeout",p),e.reportProgress&&(s.removeEventListener("progress",v),a!==null&&s.upload&&s.upload.removeEventListener("progress",x)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(i){return new(i||t)(b(Rr))}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac})}}return t})(),tv=new k(""),TS="XSRF-TOKEN",AS=new k("",{providedIn:"root",factory:()=>TS}),OS="X-XSRF-TOKEN",kS=new k("",{providedIn:"root",factory:()=>OS}),Wc=class{},PS=(()=>{class t{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Lc(e,this.cookieName),this.lastCookieString=e),this.lastToken}static{this.\u0275fac=function(i){return new(i||t)(b(Q),b(Ze),b(AS))}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac})}}return t})();function RS(t,n){let e=t.url.toLowerCase();if(!T(tv)||t.method==="GET"||t.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return n(t);let i=T(Wc).getToken(),r=T(kS);return i!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,i)})),n(t)}var nv=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(nv||{});function NS(t,n){return{\u0275kind:t,\u0275providers:n}}function FS(...t){let n=[Mt,X_,K_,{provide:Ho,useExisting:K_},{provide:$c,useExisting:X_},{provide:Ph,useValue:RS,multi:!0},{provide:tv,useValue:!0},{provide:Wc,useClass:PS}];for(let e of t)n.push(...e.\u0275providers);return Xa(n)}var J_=new k("");function LS(){return NS(nv.LegacyInterceptors,[{provide:J_,useFactory:IS},{provide:Ph,useExisting:J_,multi:!0}])}var iv=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Y({type:t})}static{this.\u0275inj=q({providers:[FS(LS())]})}}return t})();var Fh=class extends Pc{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Lh=class t extends Fh{static makeCurrent(){F_(new t)}onAndCancel(n,e,i){return n.addEventListener(e,i),()=>{n.removeEventListener(e,i)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return e=e||this.getDefaultDocument(),e.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return e==="window"?window:e==="document"?n:e==="body"?n.body:null}getBaseHref(n){let e=VS();return e==null?null:jS(e)}resetBaseElement(){Go=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return Lc(document.cookie,n)}},Go=null;function VS(){return Go=Go||document.querySelector("base"),Go?Go.getAttribute("href"):null}function jS(t){return new URL(t,document.baseURI).pathname}var Vh=class{addToWindow(n){Ve.getAngularTestability=(i,r=!0)=>{let o=n.findTestabilityInTree(i,r);if(o==null)throw new N(5103,!1);return o},Ve.getAllAngularTestabilities=()=>n.getAllTestabilities(),Ve.getAllAngularRootElements=()=>n.getAllRootElements();let e=i=>{let r=Ve.getAllAngularTestabilities(),o=r.length,s=function(){o--,o==0&&i()};r.forEach(a=>{a.whenStable(s)})};Ve.frameworkStabilizers||(Ve.frameworkStabilizers=[]),Ve.frameworkStabilizers.push(e)}findTestabilityInTree(n,e,i){if(e==null)return null;let r=n.getTestability(e);return r??(i?bn().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}},BS=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac})}}return t})(),jh=new k(""),av=(()=>{class t{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(o=>o.supports(e)),!i)throw new N(5101,!1);return this._eventNameToPlugin.set(e,i),i}static{this.\u0275fac=function(i){return new(i||t)(b(jh),b(B))}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac})}}return t})(),qc=class{constructor(n){this._doc=n}},Rh="ng-app-id",cv=(()=>{class t{constructor(e,i,r,o={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Bc(o),this.resetHostNodes()}addStyles(e){for(let i of e)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(e){for(let i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(let i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(let i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){let i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){let e=this.doc.head?.querySelectorAll(`style[${Rh}="${this.appId}"]`);if(e?.length){let i=new Map;return e.forEach(r=>{r.textContent!=null&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){let r=this.styleRef;if(r.has(e)){let o=r.get(e);return o.usage+=i,o.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){let r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===e)return r.delete(i),o.removeAttribute(Rh),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(Rh,this.appId),e.appendChild(s),s}}addStyleToHost(e,i){let r=this.getStyleElement(e,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){let e=this.hostNodes;e.clear(),e.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||t)(b(Q),b(Oo),b(ko,8),b(Ze))}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac})}}return t})(),Nh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Uh=/%COMP%/g,lv="%COMP%",US=`_nghost-${lv}`,$S=`_ngcontent-${lv}`,HS=!0,zS=new k("",{providedIn:"root",factory:()=>HS});function GS(t){return $S.replace(Uh,t)}function WS(t){return US.replace(Uh,t)}function dv(t,n){return n.map(e=>e.replace(Uh,t))}var rv=(()=>{class t{constructor(e,i,r,o,s,a,c,h=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=Bc(a),this.defaultRenderer=new Wo(e,s,c,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===_n.ShadowDom&&(i=fe(A({},i),{encapsulation:_n.Emulated}));let r=this.getOrCreateRenderer(e,i);return r instanceof Yc?r.applyToHost(e):r instanceof qo&&r.applyStyles(),r}getOrCreateRenderer(e,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,h=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(i.encapsulation){case _n.Emulated:o=new Yc(c,h,i,this.appId,f,s,a,p);break;case _n.ShadowDom:return new Bh(c,h,e,i,s,a,this.nonce,p);default:o=new qo(c,h,i,f,s,a,p);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||t)(b(av),b(cv),b(Oo),b(zS),b(Q),b(Ze),b(B),b(ko))}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac})}}return t})(),Wo=class{constructor(n,e,i,r){this.eventManager=n,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(n,e){return e?this.doc.createElementNS(Nh[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(ov(n)?n.content:n).appendChild(e)}insertBefore(n,e,i){n&&(ov(n)?n.content:n).insertBefore(e,i)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let i=typeof n=="string"?this.doc.querySelector(n):n;if(!i)throw new N(-5104,!1);return e||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,i,r){if(r){e=r+":"+e;let o=Nh[r];o?n.setAttributeNS(o,e,i):n.setAttribute(e,i)}else n.setAttribute(e,i)}removeAttribute(n,e,i){if(i){let r=Nh[i];r?n.removeAttributeNS(r,e):n.removeAttribute(`${i}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,i,r){r&(Mn.DashCase|Mn.Important)?n.style.setProperty(e,i,r&Mn.Important?"important":""):n.style[e]=i}removeStyle(n,e,i){i&Mn.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,i){n!=null&&(n[e]=i)}setValue(n,e){n.nodeValue=e}listen(n,e,i){if(typeof n=="string"&&(n=bn().getGlobalEventTarget(this.doc,n),!n))throw new Error(`Unsupported event target ${n} for event ${e}`);return this.eventManager.addEventListener(n,e,this.decoratePreventDefault(i))}decoratePreventDefault(n){return e=>{if(e==="__ngUnwrap__")return n;(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))===!1&&e.preventDefault()}}};function ov(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Bh=class extends Wo{constructor(n,e,i,r,o,s,a,c){super(n,o,s,c),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=dv(r.id,r.styles);for(let f of h){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=f,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,i){return super.insertBefore(this.nodeOrShadowRoot(n),e,i)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},qo=class extends Wo{constructor(n,e,i,r,o,s,a,c){super(n,o,s,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=c?dv(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Yc=class extends qo{constructor(n,e,i,r,o,s,a,c){let h=r+"-"+i.id;super(n,e,i,o,s,a,c,h),this.contentAttr=GS(h),this.hostAttr=WS(h)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){let i=super.createElement(n,e);return super.setAttribute(i,this.contentAttr,""),i}},qS=(()=>{class t extends qc{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||t)(b(Q))}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac})}}return t})(),sv=["alt","control","meta","shift"],YS={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},QS={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},ZS=(()=>{class t extends qc{constructor(e){super(e)}supports(e){return t.parseEventName(e)!=null}addEventListener(e,i,r){let o=t.parseEventName(i),s=t.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>bn().onAndCancel(e,o.domEventName,s))}static parseEventName(e){let i=e.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=t._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),sv.forEach(h=>{let f=i.indexOf(h);f>-1&&(i.splice(f,1),s+=h+".")}),s+=o,i.length!=0||o.length===0)return null;let c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(e,i){let r=YS[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),sv.forEach(s=>{if(s!==r){let a=QS[s];a(e)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{t.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static{this.\u0275fac=function(i){return new(i||t)(b(Q))}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac})}}return t})();function KS(){Lh.makeCurrent()}function XS(){return new Xt}function JS(){return o0(document),document}var eM=[{provide:Ze,useValue:Mh},{provide:Uu,useValue:KS,multi:!0},{provide:Q,useFactory:JS,deps:[]}],uv=hh(I_,"browser",eM),tM=new k(""),nM=[{provide:jo,useClass:Vh,deps:[]},{provide:dh,useClass:yc,deps:[B,bc,jo]},{provide:yc,useClass:yc,deps:[B,bc,jo]}],iM=[{provide:Ja,useValue:"root"},{provide:Xt,useFactory:XS,deps:[]},{provide:jh,useClass:qS,multi:!0,deps:[Q,B,Ze]},{provide:jh,useClass:ZS,multi:!0,deps:[Q]},rv,cv,av,{provide:Eo,useExisting:rv},{provide:Rr,useClass:BS,deps:[]},[]],hv=(()=>{class t{constructor(e){}static withServerTransition(e){return{ngModule:t,providers:[{provide:Oo,useValue:e.appId}]}}static{this.\u0275fac=function(i){return new(i||t)(b(tM,12))}}static{this.\u0275mod=Y({type:t})}static{this.\u0275inj=q({providers:[...iM,...nM],imports:[wt,S_]})}}return t})();var Qc=(()=>{class t{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static{this.\u0275fac=function(i){return new(i||t)(b(Q))}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var wv=(()=>{class t{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(i){return new(i||t)(C(ci),C(le))}}static{this.\u0275dir=pe({type:t})}}return t})(),Cv=(()=>{class t extends wv{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=On(t)))(r||t)}})()}static{this.\u0275dir=pe({type:t,features:[Ke]})}}return t})(),jr=new k(""),rM={provide:jr,useExisting:yn(()=>qh),multi:!0},qh=(()=>{class t extends Cv{writeValue(e){this.setProperty("checked",e)}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=On(t)))(r||t)}})()}static{this.\u0275dir=pe({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){i&1&&D("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[Nt([rM]),Ke]})}}return t})(),oM={provide:jr,useExisting:yn(()=>Cn),multi:!0};function sM(){let t=bn()?bn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var aM=new k(""),Cn=(()=>{class t extends wv{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!sM())}writeValue(e){let i=e??"";this.setProperty("value",i)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(i){return new(i||t)(C(ci),C(le),C(aM,8))}}static{this.\u0275dir=pe({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&D("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Nt([oM]),Ke]})}}return t})();function hi(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function xv(t){return t!=null&&typeof t.length=="number"}var Ko=new k(""),Yh=new k(""),cM=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,on=class{static min(n){return lM(n)}static max(n){return dM(n)}static required(n){return uM(n)}static requiredTrue(n){return hM(n)}static email(n){return fM(n)}static minLength(n){return pM(n)}static maxLength(n){return mM(n)}static pattern(n){return gM(n)}static nullValidator(n){return Dv(n)}static compose(n){return Av(n)}static composeAsync(n){return kv(n)}};function lM(t){return n=>{if(hi(n.value)||hi(t))return null;let e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}function dM(t){return n=>{if(hi(n.value)||hi(t))return null;let e=parseFloat(n.value);return!isNaN(e)&&e>t?{max:{max:t,actual:n.value}}:null}}function uM(t){return hi(t.value)?{required:!0}:null}function hM(t){return t.value===!0?null:{required:!0}}function fM(t){return hi(t.value)||cM.test(t.value)?null:{email:!0}}function pM(t){return n=>hi(n.value)||!xv(n.value)?null:n.value.length<t?{minlength:{requiredLength:t,actualLength:n.value.length}}:null}function mM(t){return n=>xv(n.value)&&n.value.length>t?{maxlength:{requiredLength:t,actualLength:n.value.length}}:null}function gM(t){if(!t)return Dv;let n,e;return typeof t=="string"?(e="",t.charAt(0)!=="^"&&(e+="^"),e+=t,t.charAt(t.length-1)!=="$"&&(e+="$"),n=new RegExp(e)):(e=t.toString(),n=t),i=>{if(hi(i.value))return null;let r=i.value;return n.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}function Dv(t){return null}function Ev(t){return t!=null}function Iv(t){return Ui(t)?be(t):t}function Sv(t){let n={};return t.forEach(e=>{n=e!=null?A(A({},n),e):n}),Object.keys(n).length===0?null:n}function Mv(t,n){return n.map(e=>e(t))}function _M(t){return!t.validate}function Tv(t){return t.map(n=>_M(n)?n:e=>n.validate(e))}function Av(t){if(!t)return null;let n=t.filter(Ev);return n.length==0?null:function(e){return Sv(Mv(e,n))}}function Ov(t){return t!=null?Av(Tv(t)):null}function kv(t){if(!t)return null;let n=t.filter(Ev);return n.length==0?null:function(e){let i=Mv(e,n).map(Iv);return rd(i).pipe(z(Sv))}}function Pv(t){return t!=null?kv(Tv(t)):null}function fv(t,n){return t===null?[n]:Array.isArray(t)?[...t,n]:[t,n]}function Rv(t){return t._rawValidators}function Nv(t){return t._rawAsyncValidators}function Hh(t){return t?Array.isArray(t)?t:[t]:[]}function Kc(t,n){return Array.isArray(t)?t.includes(n):t===n}function pv(t,n){let e=Hh(n);return Hh(t).forEach(r=>{Kc(e,r)||e.push(r)}),e}function mv(t,n){return Hh(n).filter(e=>!Kc(t,e))}var Xc=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=Ov(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=Pv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return this.control?this.control.hasError(n,e):!1}getError(n,e){return this.control?this.control.getError(n,e):null}},$i=class extends Xc{get formDirective(){return null}get path(){return null}},Hi=class extends Xc{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Jc=class{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},vM={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},T5=fe(A({},vM),{"[class.ng-submitted]":"isSubmitted"}),fi=(()=>{class t extends Jc{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||t)(C(Hi,2))}}static{this.\u0275dir=pe({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&ce("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Ke]})}}return t})(),Br=(()=>{class t extends Jc{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||t)(C($i,10))}}static{this.\u0275dir=pe({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&ce("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Ke]})}}return t})();var Yo="VALID",Zc="INVALID",Lr="PENDING",Qo="DISABLED";function Qh(t){return(il(t)?t.validators:t)||null}function yM(t){return Array.isArray(t)?Ov(t):t||null}function Zh(t,n){return(il(n)?n.asyncValidators:t)||null}function bM(t){return Array.isArray(t)?Pv(t):t||null}function il(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function Fv(t,n,e){let i=t.controls;if(!(n?Object.keys(i):i).length)throw new N(1e3,"");if(!i[e])throw new N(1001,"")}function Lv(t,n,e){t._forEachChild((i,r)=>{if(e[r]===void 0)throw new N(1002,"")})}var Vr=class{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===Yo}get invalid(){return this.status===Zc}get pending(){return this.status==Lr}get disabled(){return this.status===Qo}get enabled(){return this.status!==Qo}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(pv(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(pv(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(mv(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(mv(n,this._rawAsyncValidators))}hasValidator(n){return Kc(this._rawValidators,n)}hasAsyncValidator(n){return Kc(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=Lr,n.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=Qo,this.errors=null,this._forEachChild(i=>{i.disable(fe(A({},n),{onlySelf:!0}))}),this._updateValue(),n.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(fe(A({},n),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=Yo,this._forEachChild(i=>{i.enable(fe(A({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(fe(A({},n),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Yo||this.status===Lr)&&this._runAsyncValidator(n.emitEvent)),n.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Qo:Yo}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=Lr,this._hasOwnPendingAsyncValidator=!0;let e=Iv(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(e.emitEvent!==!1)}get(n){let e=n;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(n,e){let i=e?this.get(e):this;return i&&i.errors?i.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new se,this.statusChanges=new se}_calculateStatus(){return this._allControlsDisabled()?Qo:this.errors?Zc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Lr)?Lr:this._anyControlsHaveStatus(Zc)?Zc:Yo}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){il(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let e=this._parent&&this._parent.dirty;return!n&&!!e&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=yM(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=bM(this._rawAsyncValidators)}},el=class extends Vr{constructor(n,e,i){super(Qh(e),Zh(i,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,i={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){Lv(this,!0,n),Object.keys(n).forEach(i=>{Fv(this,!0,i),this.controls[i].setValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){n!=null&&(Object.keys(n).forEach(i=>{let r=this.controls[i];r&&r.patchValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((i,r)=>{i.reset(n?n[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,i)=>(n[i]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,i)=>i._syncPendingControls()?!0:e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{let i=this.controls[e];i&&n(i,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[e,i]of Object.entries(this.controls))if(this.contains(e)&&n(i))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(n,e){let i=n;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var zh=class extends el{};var rl=new k("CallSetDisabledState",{providedIn:"root",factory:()=>ol}),ol="always";function Vv(t,n){return[...n.path,t]}function Gh(t,n,e=ol){Kh(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||e==="always")&&n.valueAccessor.setDisabledState?.(t.disabled),CM(t,n),DM(t,n),xM(t,n),wM(t,n)}function gv(t,n,e=!0){let i=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(i),n.valueAccessor.registerOnTouched(i)),nl(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function tl(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function wM(t,n){if(n.valueAccessor.setDisabledState){let e=i=>{n.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}function Kh(t,n){let e=Rv(t);n.validator!==null?t.setValidators(fv(e,n.validator)):typeof e=="function"&&t.setValidators([e]);let i=Nv(t);n.asyncValidator!==null?t.setAsyncValidators(fv(i,n.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();tl(n._rawValidators,r),tl(n._rawAsyncValidators,r)}function nl(t,n){let e=!1;if(t!==null){if(n.validator!==null){let r=Rv(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==n.validator);o.length!==r.length&&(e=!0,t.setValidators(o))}}if(n.asyncValidator!==null){let r=Nv(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==n.asyncValidator);o.length!==r.length&&(e=!0,t.setAsyncValidators(o))}}}let i=()=>{};return tl(n._rawValidators,i),tl(n._rawAsyncValidators,i),e}function CM(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&jv(t,n)})}function xM(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&jv(t,n),t.updateOn!=="submit"&&t.markAsTouched()})}function jv(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function DM(t,n){let e=(i,r)=>{n.valueAccessor.writeValue(i),r&&n.viewToModelUpdate(i)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}function EM(t,n){t==null,Kh(t,n)}function IM(t,n){return nl(t,n)}function Bv(t,n){if(!t.hasOwnProperty("model"))return!1;let e=t.model;return e.isFirstChange()?!0:!Object.is(n,e.currentValue)}function SM(t){return Object.getPrototypeOf(t.constructor)===Cv}function MM(t,n){t._syncPendingControls(),n.forEach(e=>{let i=e.control;i.updateOn==="submit"&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Uv(t,n){if(!n)return null;Array.isArray(n);let e,i,r;return n.forEach(o=>{o.constructor===Cn?e=o:SM(o)?i=o:r=o}),r||i||e||null}function TM(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function _v(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function vv(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Zo=class extends Vr{constructor(n=null,e,i){super(Qh(e),Zh(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),il(e)&&(e.nonNullable||e.initialValueIsDefault)&&(vv(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){_v(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){_v(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){vv(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var AM=t=>t instanceof Zo;var OM={provide:Hi,useExisting:yn(()=>Xo)},yv=Promise.resolve(),Xo=(()=>{class t extends Hi{constructor(e,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Zo,this._registered=!1,this.name="",this.update=new se,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Uv(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Bv(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Gh(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){yv.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let i=e.isDisabled.currentValue,r=i!==0&&at(i);yv.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?Vv(e,this._parent):[e]}static{this.\u0275fac=function(i){return new(i||t)(C($i,9),C(Ko,10),C(Yh,10),C(jr,10),C(He,8),C(rl,8))}}static{this.\u0275dir=pe({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[W.None,"disabled","isDisabled"],model:[W.None,"ngModel","model"],options:[W.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Nt([OM]),Ke,ot]})}}return t})(),Ur=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=pe({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})();var $v=new k("");var kM={provide:$i,useExisting:yn(()=>zi)},zi=(()=>{class t extends $i{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new se,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(nl(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let i=this.form.get(e.path);return Gh(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){gv(e.control||null,e,!1),TM(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,MM(this.form,this.directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{let i=e.control,r=this.form.get(e.path);i!==r&&(gv(i||null,e),AM(r)&&(Gh(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let i=this.form.get(e.path);EM(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let i=this.form.get(e.path);i&&IM(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Kh(this.form,this),this._oldForm&&nl(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(i){return new(i||t)(C(Ko,10),C(Yh,10),C(rl,8))}}static{this.\u0275dir=pe({type:t,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&D("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[W.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Nt([kM]),Ke,ot]})}}return t})();var PM={provide:Hi,useExisting:yn(()=>Gi)},Gi=(()=>{class t extends Hi{set isDisabled(e){}static{this._ngModelWarningSentOnce=!1}constructor(e,i,r,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new se,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Uv(this,o)}ngOnChanges(e){this._added||this._setUpControl(),Bv(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return Vv(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(i){return new(i||t)(C($i,13),C(Ko,10),C(Yh,10),C(jr,10),C($v,8))}}static{this.\u0275dir=pe({type:t,selectors:[["","formControlName",""]],inputs:{name:[W.None,"formControlName","name"],isDisabled:[W.None,"disabled","isDisabled"],model:[W.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Nt([PM]),Ke,ot]})}}return t})();var Hv=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Y({type:t})}static{this.\u0275inj=q({})}}return t})(),Wh=class extends Vr{constructor(n,e,i){super(Qh(e),Zh(i,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[this._adjustIndex(n)]}push(n,e={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(n,e,i={}){this.controls.splice(n,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(n,e={}){let i=this._adjustIndex(n);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(n,e,i={}){let r=this._adjustIndex(n);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,e={}){Lv(this,!1,n),n.forEach((i,r)=>{Fv(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){n!=null&&(n.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n=[],e={}){this._forEachChild((i,r)=>{i.reset(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((e,i)=>i._syncPendingControls()?!0:e,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((e,i)=>{n(e,i)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(e=>e.enabled&&n(e))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(let n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){return this.at(n)??null}};function bv(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var $r=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){let e=new t;return e.useNonNullable=!0,e}group(e,i=null){let r=this._reduceControls(e),o={};return bv(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new el(r,o)}record(e,i=null){let r=this._reduceControls(e);return new zh(r,i)}control(e,i,r){let o={};return this.useNonNullable?(bv(i)?o=i:(o.validators=i,o.asyncValidators=r),new Zo(e,fe(A({},o),{nonNullable:!0}))):new Zo(e,i,r)}array(e,i,r){let o=e.map(s=>this._createControl(s));return new Wh(o,i,r)}_reduceControls(e){let i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){if(e instanceof Zo)return e;if(e instanceof Vr)return e;if(Array.isArray(e)){let i=e[0],r=e.length>1?e[1]:null,o=e.length>2?e[2]:null;return this.control(i,r,o)}else return this.control(e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Hr=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:rl,useValue:e.callSetDisabledState??ol}]}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Y({type:t})}static{this.\u0275inj=q({imports:[Hv]})}}return t})(),sl=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:$v,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:rl,useValue:e.callSetDisabledState??ol}]}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Y({type:t})}static{this.\u0275inj=q({imports:[Hv]})}}return t})();var te="primary",fs=Symbol("RouteTitle"),nf=class{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Yr(t){return new nf(t)}function RM(t,n,e){let i=e.path.split("/");if(i.length>t.length||e.pathMatch==="full"&&(n.hasChildren()||i.length<t.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=t[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function NM(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!xn(t[e],n[e]))return!1;return!0}function xn(t,n){let e=t?rf(t):void 0,i=n?rf(n):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!Xv(t[r],n[r]))return!1;return!0}function rf(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Xv(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;let e=[...t].sort(),i=[...n].sort();return e.every((r,o)=>i[o]===r)}else return t===n}function Jv(t){return t.length>0?t[t.length-1]:null}function _i(t){return ra(t)?t:Ui(t)?be(Promise.resolve(t)):L(t)}var FM={exact:ty,subset:ny},ey={exact:LM,subset:VM,ignored:()=>!0};function zv(t,n,e){return FM[e.paths](t.root,n.root,e.matrixParams)&&ey[e.queryParams](t.queryParams,n.queryParams)&&!(e.fragment==="exact"&&t.fragment!==n.fragment)}function LM(t,n){return xn(t,n)}function ty(t,n,e){if(!qi(t.segments,n.segments)||!dl(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(let i in n.children)if(!t.children[i]||!ty(t.children[i],n.children[i],e))return!1;return!0}function VM(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>Xv(t[e],n[e]))}function ny(t,n,e){return iy(t,n,n.segments,e)}function iy(t,n,e,i){if(t.segments.length>e.length){let r=t.segments.slice(0,e.length);return!(!qi(r,e)||n.hasChildren()||!dl(r,e,i))}else if(t.segments.length===e.length){if(!qi(t.segments,e)||!dl(t.segments,e,i))return!1;for(let r in n.children)if(!t.children[r]||!ny(t.children[r],n.children[r],i))return!1;return!0}else{let r=e.slice(0,t.segments.length),o=e.slice(t.segments.length);return!qi(t.segments,r)||!dl(t.segments,r,i)||!t.children[te]?!1:iy(t.children[te],n,o,i)}}function dl(t,n,e){return n.every((i,r)=>ey[e](t[r].parameters,i.parameters))}var pi=class{constructor(n=new ye([],{}),e={},i=null){this.root=n,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Yr(this.queryParams),this._queryParamMap}toString(){return UM.serialize(this)}},ye=class{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ul(this)}},Wi=class{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap??=Yr(this.parameters),this._parameterMap}toString(){return oy(this)}};function jM(t,n){return qi(t,n)&&t.every((e,i)=>xn(e.parameters,n[i].parameters))}function qi(t,n){return t.length!==n.length?!1:t.every((e,i)=>e.path===n[i].path)}function BM(t,n){let e=[];return Object.entries(t.children).forEach(([i,r])=>{i===te&&(e=e.concat(n(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==te&&(e=e.concat(n(r,i)))}),e}var ps=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=M({token:t,factory:()=>new os,providedIn:"root"})}}return t})(),os=class{parse(n){let e=new sf(n);return new pi(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){let e=`/${Jo(n.root,!0)}`,i=zM(n.queryParams),r=typeof n.fragment=="string"?`#${$M(n.fragment)}`:"";return`${e}${i}${r}`}},UM=new os;function ul(t){return t.segments.map(n=>oy(n)).join("/")}function Jo(t,n){if(!t.hasChildren())return ul(t);if(n){let e=t.children[te]?Jo(t.children[te],!1):"",i=[];return Object.entries(t.children).forEach(([r,o])=>{r!==te&&i.push(`${r}:${Jo(o,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}else{let e=BM(t,(i,r)=>r===te?[Jo(t.children[te],!1)]:[`${r}:${Jo(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[te]!=null?`${ul(t)}/${e[0]}`:`${ul(t)}/(${e.join("//")})`}}function ry(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function cl(t){return ry(t).replace(/%3B/gi,";")}function $M(t){return encodeURI(t)}function of(t){return ry(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function hl(t){return decodeURIComponent(t)}function Gv(t){return hl(t.replace(/\+/g,"%20"))}function oy(t){return`${of(t.path)}${HM(t.parameters)}`}function HM(t){return Object.entries(t).map(([n,e])=>`;${of(n)}=${of(e)}`).join("")}function zM(t){let n=Object.entries(t).map(([e,i])=>Array.isArray(i)?i.map(r=>`${cl(e)}=${cl(r)}`).join("&"):`${cl(e)}=${cl(i)}`).filter(e=>e);return n.length?`?${n.join("&")}`:""}var GM=/^[^\/()?;#]+/;function Xh(t){let n=t.match(GM);return n?n[0]:""}var WM=/^[^\/()?;=#]+/;function qM(t){let n=t.match(WM);return n?n[0]:""}var YM=/^[^=?&#]+/;function QM(t){let n=t.match(YM);return n?n[0]:""}var ZM=/^[^&#]+/;function KM(t){let n=t.match(ZM);return n?n[0]:""}var sf=class{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ye([],{}):new ye([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(i[te]=new ye(n,e)),i}parseSegment(){let n=Xh(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new N(4009,!1);return this.capture(n),new Wi(hl(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let e=qM(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let r=Xh(this.remaining);r&&(i=r,this.capture(i))}n[hl(e)]=hl(i)}parseQueryParam(n){let e=QM(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let s=KM(this.remaining);s&&(i=s,this.capture(i))}let r=Gv(e),o=Gv(i);if(n.hasOwnProperty(r)){let s=n[r];Array.isArray(s)||(s=[s],n[r]=s),s.push(o)}else n[r]=o}parseParens(n){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Xh(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new N(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=te);let s=this.parseChildren();e[o]=Object.keys(s).length===1?s[te]:new ye([],s),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new N(4011,!1)}};function sy(t){return t.segments.length>0?new ye([],{[te]:t}):t}function ay(t){let n={};for(let[i,r]of Object.entries(t.children)){let o=ay(r);if(i===te&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[i]=o)}let e=new ye(t.segments,n);return XM(e)}function XM(t){if(t.numberOfChildren===1&&t.children[te]){let n=t.children[te];return new ye(t.segments.concat(n.segments),n.children)}return t}function Qr(t){return t instanceof pi}function JM(t,n,e=null,i=null){let r=cy(t);return ly(r,n,e,i)}function cy(t){let n;function e(o){let s={};for(let c of o.children){let h=e(c);s[c.outlet]=h}let a=new ye(o.url,s);return o===t&&(n=a),a}let i=e(t.root),r=sy(i);return n??r}function ly(t,n,e,i){let r=t;for(;r.parent;)r=r.parent;if(n.length===0)return Jh(r,r,r,e,i);let o=eT(n);if(o.toRoot())return Jh(r,r,new ye([],{}),e,i);let s=tT(o,r,t),a=s.processChildren?ns(s.segmentGroup,s.index,o.commands):uy(s.segmentGroup,s.index,o.commands);return Jh(r,s.segmentGroup,a,e,i)}function fl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ss(t){return typeof t=="object"&&t!=null&&t.outlets}function Jh(t,n,e,i,r){let o={};i&&Object.entries(i).forEach(([c,h])=>{o[c]=Array.isArray(h)?h.map(f=>`${f}`):`${h}`});let s;t===n?s=e:s=dy(t,n,e);let a=sy(ay(s));return new pi(a,o,r)}function dy(t,n,e){let i={};return Object.entries(t.children).forEach(([r,o])=>{o===n?i[r]=e:i[r]=dy(o,n,e)}),new ye(t.segments,i)}var pl=class{constructor(n,e,i){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=i,n&&i.length>0&&fl(i[0]))throw new N(4003,!1);let r=i.find(ss);if(r&&r!==Jv(i))throw new N(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function eT(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new pl(!0,0,t);let n=0,e=!1,i=t.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,h])=>{a[c]=typeof h=="string"?h.split("/"):h}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?e=!0:a===".."?n++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new pl(e,n,i)}var Wr=class{constructor(n,e,i){this.segmentGroup=n,this.processChildren=e,this.index=i}};function tT(t,n,e){if(t.isAbsolute)return new Wr(n,!0,0);if(!e)return new Wr(n,!1,NaN);if(e.parent===null)return new Wr(e,!0,0);let i=fl(t.commands[0])?0:1,r=e.segments.length-1+i;return nT(e,r,t.numberOfDoubleDots)}function nT(t,n,e){let i=t,r=n,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new N(4005,!1);r=i.segments.length}return new Wr(i,!1,r-o)}function iT(t){return ss(t[0])?t[0].outlets:{[te]:t}}function uy(t,n,e){if(t??=new ye([],{}),t.segments.length===0&&t.hasChildren())return ns(t,n,e);let i=rT(t,n,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let o=new ye(t.segments.slice(0,i.pathIndex),{});return o.children[te]=new ye(t.segments.slice(i.pathIndex),t.children),ns(o,0,r)}else return i.match&&r.length===0?new ye(t.segments,{}):i.match&&!t.hasChildren()?af(t,n,e):i.match?ns(t,0,r):af(t,n,e)}function ns(t,n,e){if(e.length===0)return new ye(t.segments,{});{let i=iT(e),r={};if(Object.keys(i).some(o=>o!==te)&&t.children[te]&&t.numberOfChildren===1&&t.children[te].segments.length===0){let o=ns(t.children[te],n,e);return new ye(t.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=uy(t.children[o],n,s))}),Object.entries(t.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new ye(t.segments,r)}}function rT(t,n,e){let i=0,r=n,o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=e.length)return o;let s=t.segments[r],a=e[i];if(ss(a))break;let c=`${a}`,h=i<e.length-1?e[i+1]:null;if(r>0&&c===void 0)break;if(c&&h&&typeof h=="object"&&h.outlets===void 0){if(!qv(c,h,s))return o;i+=2}else{if(!qv(c,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function af(t,n,e){let i=t.segments.slice(0,n),r=0;for(;r<e.length;){let o=e[r];if(ss(o)){let c=oT(o.outlets);return new ye(i,c)}if(r===0&&fl(e[0])){let c=t.segments[n];i.push(new Wi(c.path,Wv(e[0]))),r++;continue}let s=ss(o)?o.outlets[te]:`${o}`,a=r<e.length-1?e[r+1]:null;s&&a&&fl(a)?(i.push(new Wi(s,Wv(a))),r+=2):(i.push(new Wi(s,{})),r++)}return new ye(i,{})}function oT(t){let n={};return Object.entries(t).forEach(([e,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(n[e]=af(new ye([],{}),0,i))}),n}function Wv(t){let n={};return Object.entries(t).forEach(([e,i])=>n[e]=`${i}`),n}function qv(t,n,e){return t==e.path&&xn(n,e.parameters)}var is="imperative",Xe=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Xe||{}),Bt=class{constructor(n,e){this.id=n,this.url=e}},Zr=class extends Bt{constructor(n,e,i="imperative",r=null){super(n,e),this.type=Xe.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},sn=class extends Bt{constructor(n,e,i){super(n,e),this.urlAfterRedirects=i,this.type=Xe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},At=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(At||{}),ml=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(ml||{}),mi=class extends Bt{constructor(n,e,i,r){super(n,e),this.reason=i,this.code=r,this.type=Xe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},gi=class extends Bt{constructor(n,e,i,r){super(n,e),this.reason=i,this.code=r,this.type=Xe.NavigationSkipped}},as=class extends Bt{constructor(n,e,i,r){super(n,e),this.error=i,this.target=r,this.type=Xe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},gl=class extends Bt{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r,this.type=Xe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cf=class extends Bt{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r,this.type=Xe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lf=class extends Bt{constructor(n,e,i,r,o){super(n,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=Xe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},df=class extends Bt{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r,this.type=Xe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},uf=class extends Bt{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r,this.type=Xe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hf=class{constructor(n){this.route=n,this.type=Xe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ff=class{constructor(n){this.route=n,this.type=Xe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},pf=class{constructor(n){this.snapshot=n,this.type=Xe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},mf=class{constructor(n){this.snapshot=n,this.type=Xe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gf=class{constructor(n){this.snapshot=n,this.type=Xe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_f=class{constructor(n){this.snapshot=n,this.type=Xe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_l=class{constructor(n,e,i){this.routerEvent=n,this.position=e,this.anchor=i,this.type=Xe.Scroll}toString(){let n=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${n}')`}},cs=class{},ls=class{constructor(n){this.url=n}};var vf=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ms,this.attachRef=null}},ms=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){let r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){let i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new vf,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),vl=class{constructor(n){this._root=n}get root(){return this._root.value}parent(n){let e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){let e=yf(n,this._root);return e?e.children.map(i=>i.value):[]}firstChild(n){let e=yf(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){let e=bf(n,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==n)}pathFromRoot(n){return bf(n,this._root).map(e=>e.value)}};function yf(t,n){if(t===n.value)return n;for(let e of n.children){let i=yf(t,e);if(i)return i}return null}function bf(t,n){if(t===n.value)return[n];for(let e of n.children){let i=bf(t,e);if(i.length)return i.unshift(n),i}return[]}var Tt=class{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}};function Gr(t){let n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}var yl=class extends vl{constructor(n,e){super(n),this.snapshot=e,Af(this,n)}toString(){return this.snapshot.toString()}};function hy(t){let n=sT(t),e=new Oe([new Wi("",{})]),i=new Oe({}),r=new Oe({}),o=new Oe({}),s=new Oe(""),a=new zn(e,i,o,s,r,te,t,n.root);return a.snapshot=n.root,new yl(new Tt(a,[]),n)}function sT(t){let n={},e={},i={},r="",o=new ds([],n,i,r,e,te,t,null,{});return new bl("",new Tt(o,[]))}var zn=class{constructor(n,e,i,r,o,s,a,c){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(z(h=>h[fs]))??L(void 0),this.url=n,this.params=e,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(z(n=>Yr(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(z(n=>Yr(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Tf(t,n,e="emptyOnly"){let i,{routeConfig:r}=t;return n!==null&&(e==="always"||r?.path===""||!n.component&&!n.routeConfig?.loadComponent)?i={params:A(A({},n.params),t.params),data:A(A({},n.data),t.data),resolve:A(A(A(A({},t.data),n.data),r?.data),t._resolvedData)}:i={params:A({},t.params),data:A({},t.data),resolve:A(A({},t.data),t._resolvedData??{})},r&&py(r)&&(i.resolve[fs]=r.title),i}var ds=class{get title(){return this.data?.[fs]}constructor(n,e,i,r,o,s,a,c,h){this.url=n,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Yr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Yr(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(i=>i.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${e}')`}},bl=class extends vl{constructor(n,e){super(e),this.url=n,Af(this,e)}toString(){return fy(this._root)}};function Af(t,n){n.value._routerState=t,n.children.forEach(e=>Af(t,e))}function fy(t){let n=t.children.length>0?` { ${t.children.map(fy).join(", ")} } `:"";return`${t.value}${n}`}function ef(t){if(t.snapshot){let n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,xn(n.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),xn(n.params,e.params)||t.paramsSubject.next(e.params),NM(n.url,e.url)||t.urlSubject.next(e.url),xn(n.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function wf(t,n){let e=xn(t.params,n.params)&&jM(t.url,n.url),i=!t.parent!=!n.parent;return e&&!i&&(!t.parent||wf(t.parent,n.parent))}function py(t){return typeof t.title=="string"||t.title===null}var Of=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=te,this.activateEvents=new se,this.deactivateEvents=new se,this.attachEvents=new se,this.detachEvents=new se,this.parentContexts=T(ms),this.location=T(Dt),this.changeDetector=T(He),this.environmentInjector=T(it),this.inputBinder=T(El,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){let{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new N(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new N(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new N(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new N(4013,!1);this._activatedRoute=e;let r=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Cf(e,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=pe({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ot]})}}return t})(),Cf=class t{__ngOutletInjector(n){return new t(this.route,this.childContexts,n)}constructor(n,e,i){this.route=n,this.childContexts=e,this.parent=i}get(n,e){return n===zn?this.route:n===ms?this.childContexts:this.parent.get(n,e)}},El=new k(""),Yv=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:i}=e,r=Ei([i.queryParams,i.params,i.data]).pipe(Qe(([o,s,a],c)=>(a=A(A(A({},o),s),a),c===0?L(a):Promise.resolve(a)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(e);return}let s=M_(i.component);if(!s){this.unsubscribeFromRouteData(e);return}for(let{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(e,r)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac})}}return t})();function aT(t,n,e){let i=us(t,n._root,e?e._root:void 0);return new yl(i,n)}function us(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){let i=e.value;i._futureSnapshot=n.value;let r=cT(t,n,e);return new Tt(i,r)}else{if(t.shouldAttach(n.value)){let o=t.retrieve(n.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>us(t,a)),s}}let i=lT(n.value),r=n.children.map(o=>us(t,o));return new Tt(i,r)}}function cT(t,n,e){return n.children.map(i=>{for(let r of e.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return us(t,i,r);return us(t,i)})}function lT(t){return new zn(new Oe(t.url),new Oe(t.params),new Oe(t.queryParams),new Oe(t.fragment),new Oe(t.data),t.outlet,t.component,t)}var my="ngNavigationCancelingError";function gy(t,n){let{redirectTo:e,navigationBehaviorOptions:i}=Qr(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,r=_y(!1,At.Redirect);return r.url=e,r.navigationBehaviorOptions=i,r}function _y(t,n){let e=new Error(`NavigationCancelingError: ${t||""}`);return e[my]=!0,e.cancellationCode=n,e}function dT(t){return vy(t)&&Qr(t.url)}function vy(t){return!!t&&t[my]}var uT=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=me({type:t,selectors:[["ng-component"]],standalone:!0,features:[Ue],decls:1,vars:0,template:function(i,r){i&1&&_(0,"router-outlet")},dependencies:[Of],encapsulation:2})}}return t})();function hT(t,n){return t.providers&&!t._injector&&(t._injector=gc(t.providers,n,`Route: ${t.path}`)),t._injector??n}function kf(t){let n=t.children&&t.children.map(kf),e=n?fe(A({},t),{children:n}):A({},t);return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==te&&(e.component=uT),e}function Dn(t){return t.outlet||te}function fT(t,n){let e=t.filter(i=>Dn(i)===n);return e.push(...t.filter(i=>Dn(i)!==n)),e}function gs(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){let e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var pT=(t,n,e,i)=>z(r=>(new xf(n,r.targetRouterState,r.currentRouterState,e,i).activate(t),r)),xf=class{constructor(n,e,i,r,o){this.routeReuseStrategy=n,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(n){let e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,n),ef(this.futureState.root),this.activateChildRoutes(e,i,n)}deactivateChildRoutes(n,e,i){let r=Gr(e);n.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(n,e,i){let r=n.value,o=e?e.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(n,e,s.children)}else this.deactivateChildRoutes(n,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){let i=e.getContext(n.value.outlet),r=i&&n.value.component?i.children:e,o=Gr(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,e){let i=e.getContext(n.value.outlet),r=i&&n.value.component?i.children:e,o=Gr(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(n,e,i){let r=Gr(e);n.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new _f(o.value.snapshot))}),n.children.length&&this.forwardEvent(new mf(n.value.snapshot))}activateRoutes(n,e,i){let r=n.value,o=e?e.value:null;if(ef(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(n,e,s.children)}else this.activateChildRoutes(n,e,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),ef(a.route.value),this.activateChildRoutes(n,null,s.children)}else{let a=gs(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(n,null,s.children)}}else this.activateChildRoutes(n,null,i)}},wl=class{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},qr=class{constructor(n,e){this.component=n,this.route=e}};function mT(t,n,e){let i=t._root,r=n?n._root:null;return es(i,r,e,[i.value])}function gT(t){let n=t.routeConfig?t.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:t,guards:n}}function Xr(t,n){let e=Symbol(),i=n.get(t,e);return i===e?typeof t=="function"&&!Qm(t)?t:n.get(t):i}function es(t,n,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Gr(n);return t.children.forEach(s=>{_T(s,o[s.value.outlet],e,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>rs(a,e.getContext(s),r)),r}function _T(t,n,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=n?n.value:null,a=e?e.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=vT(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new wl(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?es(t,n,a?a.children:null,i,r):es(t,n,e,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new qr(a.outlet.component,s))}else s&&rs(n,a,r),r.canActivateChecks.push(new wl(i)),o.component?es(t,null,a?a.children:null,i,r):es(t,null,e,i,r);return r}function vT(t,n,e){if(typeof e=="function")return e(t,n);switch(e){case"pathParamsChange":return!qi(t.url,n.url);case"pathParamsOrQueryParamsChange":return!qi(t.url,n.url)||!xn(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wf(t,n)||!xn(t.queryParams,n.queryParams);case"paramsChange":default:return!wf(t,n)}}function rs(t,n,e){let i=Gr(t),r=t.value;Object.entries(i).forEach(([o,s])=>{r.component?n?rs(s,n.children.getContext(o),e):rs(s,null,e):rs(s,n,e)}),r.component?n&&n.outlet&&n.outlet.isActivated?e.canDeactivateChecks.push(new qr(n.outlet.component,r)):e.canDeactivateChecks.push(new qr(null,r)):e.canDeactivateChecks.push(new qr(null,r))}function _s(t){return typeof t=="function"}function yT(t){return typeof t=="boolean"}function bT(t){return t&&_s(t.canLoad)}function wT(t){return t&&_s(t.canActivate)}function CT(t){return t&&_s(t.canActivateChild)}function xT(t){return t&&_s(t.canDeactivate)}function DT(t){return t&&_s(t.canMatch)}function yy(t){return t instanceof Wt||t?.name==="EmptyError"}var ll=Symbol("INITIAL_VALUE");function Kr(){return Qe(t=>Ei(t.map(n=>n.pipe(qe(1),pn(ll)))).pipe(z(n=>{for(let e of n)if(e!==!0){if(e===ll)return ll;if(e===!1||e instanceof pi)return e}return!0}),Me(n=>n!==ll),qe(1)))}function ET(t,n){return Re(e=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return s.length===0&&o.length===0?L(fe(A({},e),{guardsResult:!0})):IT(s,i,r,t).pipe(Re(a=>a&&yT(a)?ST(i,o,t,n):L(a)),z(a=>fe(A({},e),{guardsResult:a})))})}function IT(t,n,e,i){return be(t).pipe(Re(r=>kT(r.component,r.route,e,n,i)),fn(r=>r!==!0,!0))}function ST(t,n,e,i){return be(n).pipe(In(r=>qn(TT(r.route.parent,i),MT(r.route,i),OT(t,r.path,e),AT(t,r.route,e))),fn(r=>r!==!0,!0))}function MT(t,n){return t!==null&&n&&n(new gf(t)),L(!0)}function TT(t,n){return t!==null&&n&&n(new pf(t)),L(!0)}function AT(t,n,e){let i=n.routeConfig?n.routeConfig.canActivate:null;if(!i||i.length===0)return L(!0);let r=i.map(o=>Yn(()=>{let s=gs(n)??e,a=Xr(o,s),c=wT(a)?a.canActivate(n,t):Jt(s,()=>a(n,t));return _i(c).pipe(fn())}));return L(r).pipe(Kr())}function OT(t,n,e){let i=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>gT(s)).filter(s=>s!==null).map(s=>Yn(()=>{let a=s.guards.map(c=>{let h=gs(s.node)??e,f=Xr(c,h),p=CT(f)?f.canActivateChild(i,t):Jt(h,()=>f(i,t));return _i(p).pipe(fn())});return L(a).pipe(Kr())}));return L(o).pipe(Kr())}function kT(t,n,e,i,r){let o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!o||o.length===0)return L(!0);let s=o.map(a=>{let c=gs(n)??r,h=Xr(a,c),f=xT(h)?h.canDeactivate(t,n,e,i):Jt(c,()=>h(t,n,e,i));return _i(f).pipe(fn())});return L(s).pipe(Kr())}function PT(t,n,e,i){let r=n.canLoad;if(r===void 0||r.length===0)return L(!0);let o=r.map(s=>{let a=Xr(s,t),c=bT(a)?a.canLoad(n,e):Jt(t,()=>a(n,e));return _i(c)});return L(o).pipe(Kr(),by(i))}function by(t){return Kl(ke(n=>{if(Qr(n))throw gy(t,n)}),z(n=>n===!0))}function RT(t,n,e,i){let r=n.canMatch;if(!r||r.length===0)return L(!0);let o=r.map(s=>{let a=Xr(s,t),c=DT(a)?a.canMatch(n,e):Jt(t,()=>a(n,e));return _i(c)});return L(o).pipe(Kr(),by(i))}var hs=class{constructor(n){this.segmentGroup=n||null}},Cl=class extends Error{constructor(n){super(),this.urlTree=n}};function zr(t){return un(new hs(t))}function NT(t){return un(new N(4e3,!1))}function FT(t){return un(_y(!1,At.GuardRejected))}var Df=class{constructor(n,e){this.urlSerializer=n,this.urlTree=e}lineralizeSegments(n,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return L(i);if(r.numberOfChildren>1||!r.children[te])return NT(n.redirectTo);r=r.children[te]}}applyRedirectCommands(n,e,i){let r=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,i);if(e.startsWith("/"))throw new Cl(r);return r}applyRedirectCreateUrlTree(n,e,i,r){let o=this.createSegmentGroup(n,e.root,i,r);return new pi(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){let i={};return Object.entries(n).forEach(([r,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);i[r]=e[a]}else i[r]=o}),i}createSegmentGroup(n,e,i,r){let o=this.createSegments(n,e.segments,i,r),s={};return Object.entries(e.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(n,c,i,r)}),new ye(o,s)}createSegments(n,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(n,o,r):this.findOrReturn(o,i))}findPosParam(n,e,i){let r=i[e.path.substring(1)];if(!r)throw new N(4001,!1);return r}findOrReturn(n,e){let i=0;for(let r of e){if(r.path===n.path)return e.splice(i),r;i++}return n}},Ef={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function LT(t,n,e,i,r){let o=Pf(t,n,e);return o.matched?(i=hT(n,i),RT(i,n,e,r).pipe(z(s=>s===!0?o:A({},Ef)))):L(o)}function Pf(t,n,e){if(n.path==="**")return VT(e);if(n.path==="")return n.pathMatch==="full"&&(t.hasChildren()||e.length>0)?A({},Ef):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let r=(n.matcher||RM)(e,t,n);if(!r)return A({},Ef);let o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=r.consumed.length>0?A(A({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function VT(t){return{matched:!0,parameters:t.length>0?Jv(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Qv(t,n,e,i){return e.length>0&&UT(t,e,i)?{segmentGroup:new ye(n,BT(i,new ye(e,t.children))),slicedSegments:[]}:e.length===0&&$T(t,e,i)?{segmentGroup:new ye(t.segments,jT(t,e,i,t.children)),slicedSegments:e}:{segmentGroup:new ye(t.segments,t.children),slicedSegments:e}}function jT(t,n,e,i){let r={};for(let o of e)if(Il(t,n,o)&&!i[Dn(o)]){let s=new ye([],{});r[Dn(o)]=s}return A(A({},i),r)}function BT(t,n){let e={};e[te]=n;for(let i of t)if(i.path===""&&Dn(i)!==te){let r=new ye([],{});e[Dn(i)]=r}return e}function UT(t,n,e){return e.some(i=>Il(t,n,i)&&Dn(i)!==te)}function $T(t,n,e){return e.some(i=>Il(t,n,i))}function Il(t,n,e){return(t.hasChildren()||n.length>0)&&e.pathMatch==="full"?!1:e.path===""}function HT(t,n,e,i){return Dn(t)!==i&&(i===te||!Il(n,e,t))?!1:Pf(n,t,e).matched}function zT(t,n,e){return n.length===0&&!t.children[e]}var If=class{};function GT(t,n,e,i,r,o,s="emptyOnly"){return new Sf(t,n,e,i,r,s,o).recognize()}var WT=31,Sf=class{constructor(n,e,i,r,o,s,a){this.injector=n,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Df(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(n){return new N(4002,`'${n.segmentGroup}'`)}recognize(){let n=Qv(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(z(e=>{let i=new ds([],Object.freeze({}),Object.freeze(A({},this.urlTree.queryParams)),this.urlTree.fragment,{},te,this.rootComponentType,null,{}),r=new Tt(i,e),o=new bl("",r),s=JM(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n,te).pipe(nt(i=>{if(i instanceof Cl)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof hs?this.noMatchError(i):i}))}inheritParamsAndData(n,e){let i=n.value,r=Tf(i,e,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),n.children.forEach(o=>this.inheritParamsAndData(o,i))}processSegmentGroup(n,e,i,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(n,e,i):this.processSegment(n,e,i,i.segments,r,!0).pipe(z(o=>o instanceof Tt?[o]:[]))}processChildren(n,e,i){let r=[];for(let o of Object.keys(i.children))o==="primary"?r.unshift(o):r.push(o);return be(r).pipe(In(o=>{let s=i.children[o],a=fT(e,o);return this.processSegmentGroup(n,a,s,o)}),ad((o,s)=>(o.push(...s),o)),Zn(null),sd(),Re(o=>{if(o===null)return zr(i);let s=wy(o);return qT(s),L(s)}))}processSegment(n,e,i,r,o,s){return be(e).pipe(In(a=>this.processSegmentAgainstRoute(a._injector??n,e,a,i,r,o,s).pipe(nt(c=>{if(c instanceof hs)return L(null);throw c}))),fn(a=>!!a),nt(a=>{if(yy(a))return zT(i,r,o)?L(new If):zr(i);throw a}))}processSegmentAgainstRoute(n,e,i,r,o,s,a){return HT(i,r,o,s)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(n,r,i,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,r,e,i,o,s):zr(r):zr(r)}expandSegmentAgainstRouteUsingRedirect(n,e,i,r,o,s){let{matched:a,consumedSegments:c,positionalParamSegments:h,remainingSegments:f}=Pf(e,r,o);if(!a)return zr(e);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>WT&&(this.allowRedirects=!1));let p=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,h);return this.applyRedirects.lineralizeSegments(r,p).pipe(Re(y=>this.processSegment(n,i,e,y.concat(f),s,!1)))}matchSegmentAgainstRoute(n,e,i,r,o){let s=LT(e,i,r,n,this.urlSerializer);return i.path==="**"&&(e.children={}),s.pipe(Qe(a=>a.matched?(n=i._injector??n,this.getChildConfig(n,i,r).pipe(Qe(({routes:c})=>{let h=i._loadedInjector??n,{consumedSegments:f,remainingSegments:p,parameters:y}=a,v=new ds(f,y,Object.freeze(A({},this.urlTree.queryParams)),this.urlTree.fragment,QT(i),Dn(i),i.component??i._loadedComponent??null,i,ZT(i)),{segmentGroup:x,slicedSegments:E}=Qv(e,f,p,c);if(E.length===0&&x.hasChildren())return this.processChildren(h,c,x).pipe(z(R=>R===null?null:new Tt(v,R)));if(c.length===0&&E.length===0)return L(new Tt(v,[]));let O=Dn(i)===o;return this.processSegment(h,c,x,E,O?te:o,!0).pipe(z(R=>new Tt(v,R instanceof Tt?[R]:[])))}))):zr(e)))}getChildConfig(n,e,i){return e.children?L({routes:e.children,injector:n}):e.loadChildren?e._loadedRoutes!==void 0?L({routes:e._loadedRoutes,injector:e._loadedInjector}):PT(n,e,i,this.urlSerializer).pipe(Re(r=>r?this.configLoader.loadChildren(n,e).pipe(ke(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):FT(e))):L({routes:[],injector:n})}};function qT(t){t.sort((n,e)=>n.value.outlet===te?-1:e.value.outlet===te?1:n.value.outlet.localeCompare(e.value.outlet))}function YT(t){let n=t.value.routeConfig;return n&&n.path===""}function wy(t){let n=[],e=new Set;for(let i of t){if(!YT(i)){n.push(i);continue}let r=n.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),e.add(r)):n.push(i)}for(let i of e){let r=wy(i.children);n.push(new Tt(i.value,r))}return n.filter(i=>!e.has(i))}function QT(t){return t.data||{}}function ZT(t){return t.resolve||{}}function KT(t,n,e,i,r,o){return Re(s=>GT(t,n,e,i,s.extractedUrl,r,o).pipe(z(({state:a,tree:c})=>fe(A({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function XT(t,n){return Re(e=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return L(e);let o=new Set(r.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let h of Cy(c))s.add(h);let a=0;return be(s).pipe(In(c=>o.has(c)?JT(c,i,t,n):(c.data=Tf(c,c.parent,t).resolve,L(void 0))),ke(()=>a++),ur(1),Re(c=>a===s.size?L(e):ut))})}function Cy(t){let n=t.children.map(e=>Cy(e)).flat();return[t,...n]}function JT(t,n,e,i){let r=t.routeConfig,o=t._resolve;return r?.title!==void 0&&!py(r)&&(o[fs]=r.title),eA(o,t,n,i).pipe(z(s=>(t._resolvedData=s,t.data=Tf(t,t.parent,e).resolve,null)))}function eA(t,n,e,i){let r=rf(t);if(r.length===0)return L({});let o={};return be(r).pipe(Re(s=>tA(t[s],n,e,i).pipe(fn(),ke(a=>{o[s]=a}))),ur(1),od(o),nt(s=>yy(s)?ut:un(s)))}function tA(t,n,e,i){let r=gs(n)??i,o=Xr(t,r),s=o.resolve?o.resolve(n,e):Jt(r,()=>o(n,e));return _i(s)}function tf(t){return Qe(n=>{let e=t(n);return e?be(e).pipe(z(()=>n)):L(n)})}var xy=(()=>{class t{buildTitle(e){let i,r=e.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===te);return i}getResolvedTitleForRoute(e){return e.data[fs]}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=M({token:t,factory:()=>T(nA),providedIn:"root"})}}return t})(),nA=(()=>{class t extends xy{constructor(e){super(),this.title=e}updateTitle(e){let i=this.buildTitle(e);i!==void 0&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||t)(b(Qc))}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),vs=new k("",{providedIn:"root",factory:()=>({})}),xl=new k(""),Rf=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=T(xc)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return L(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let i=_i(e.loadComponent()).pipe(z(Dy),ke(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),ht(()=>{this.componentLoaders.delete(e)})),r=new ar(i,()=>new H).pipe(sr());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return L({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=iA(i,this.compiler,e,this.onLoadEndListener).pipe(ht(()=>{this.childrenLoaders.delete(i)})),s=new ar(o,()=>new H).pipe(sr());return this.childrenLoaders.set(i,s),s}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function iA(t,n,e,i){return _i(t.loadChildren()).pipe(z(Dy),Re(r=>r instanceof Io||Array.isArray(r)?L(r):be(n.compileModuleAsync(r))),z(r=>{i&&i(t);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(e).injector,s=o.get(xl,[],{optional:!0,self:!0}).flat()),{routes:s.map(kf),injector:o}}))}function rA(t){return t&&typeof t=="object"&&"default"in t}function Dy(t){return rA(t)?t.default:t}var Nf=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=M({token:t,factory:()=>T(oA),providedIn:"root"})}}return t})(),oA=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ey=new k(""),Iy=new k("");function sA(t,n,e){let i=t.get(Iy),r=t.get(Q);return t.get(B).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(h=>setTimeout(h));let o,s=new Promise(h=>{o=h}),a=r.startViewTransition(()=>(o(),aA(t))),{onViewTransitionCreated:c}=i;return c&&Jt(t,()=>c({transition:a,from:n,to:e})),s})}function aA(t){return new Promise(n=>{mc(n,{injector:t})})}var Ff=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new H,this.transitionAbortSubject=new H,this.configLoader=T(Rf),this.environmentInjector=T(it),this.urlSerializer=T(ps),this.rootContexts=T(ms),this.location=T(wn),this.inputBindingEnabled=T(El,{optional:!0})!==null,this.titleStrategy=T(xy),this.options=T(vs,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=T(Nf),this.createViewTransition=T(Ey,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>L(void 0),this.rootComponentType=null;let e=r=>this.events.next(new hf(r)),i=r=>this.events.next(new ff(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=e}complete(){this.transitions?.complete()}handleNavigationRequest(e){let i=++this.navigationId;this.transitions?.next(fe(A(A({},this.transitions.value),e),{id:i}))}setupNavigations(e,i,r){return this.transitions=new Oe({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:is,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Me(o=>o.id!==0),z(o=>fe(A({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Qe(o=>{let s=!1,a=!1;return L(o).pipe(Qe(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",At.SupersededByNewNavigation),ut;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?fe(A({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=c.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!h&&f!=="reload"){let p="";return this.events.next(new gi(c.id,this.urlSerializer.serialize(c.rawUrl),p,ml.IgnoredSameUrlNavigation)),c.resolve(null),ut}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return L(c).pipe(Qe(p=>{let y=this.transitions?.getValue();return this.events.next(new Zr(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),y!==this.transitions?.getValue()?ut:Promise.resolve(p)}),KT(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),ke(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=fe(A({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let y=new gl(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(y)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:p,extractedUrl:y,source:v,restoredState:x,extras:E}=c,O=new Zr(p,this.urlSerializer.serialize(y),v,x);this.events.next(O);let R=hy(this.rootComponentType).snapshot;return this.currentTransition=o=fe(A({},c),{targetSnapshot:R,urlAfterRedirects:y,extras:fe(A({},E),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,L(o)}else{let p="";return this.events.next(new gi(c.id,this.urlSerializer.serialize(c.extractedUrl),p,ml.IgnoredByUrlHandlingStrategy)),c.resolve(null),ut}}),ke(c=>{let h=new cf(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(h)}),z(c=>(this.currentTransition=o=fe(A({},c),{guards:mT(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),ET(this.environmentInjector,c=>this.events.next(c)),ke(c=>{if(o.guardsResult=c.guardsResult,Qr(c.guardsResult))throw gy(this.urlSerializer,c.guardsResult);let h=new lf(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(h)}),Me(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",At.GuardRejected),!1)),tf(c=>{if(c.guards.canActivateChecks.length)return L(c).pipe(ke(h=>{let f=new df(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}),Qe(h=>{let f=!1;return L(h).pipe(XT(this.paramsInheritanceStrategy,this.environmentInjector),ke({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(h,"",At.NoDataFromResolver)}}))}),ke(h=>{let f=new uf(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}))}),tf(c=>{let h=f=>{let p=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(f.routeConfig).pipe(ke(y=>{f.component=y}),z(()=>{})));for(let y of f.children)p.push(...h(y));return p};return Ei(h(c.targetSnapshot.root)).pipe(Zn(null),qe(1))}),tf(()=>this.afterPreactivation()),Qe(()=>{let{currentSnapshot:c,targetSnapshot:h}=o,f=this.createViewTransition?.(this.environmentInjector,c.root,h.root);return f?be(f).pipe(z(()=>o)):L(o)}),z(c=>{let h=aT(e.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=fe(A({},c),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,o}),ke(()=>{this.events.next(new cs)}),pT(this.rootContexts,e.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),qe(1),ke({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new sn(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),ft(this.transitionAbortSubject.pipe(ke(c=>{throw c}))),ht(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",At.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),nt(c=>{if(a=!0,vy(c))this.events.next(new mi(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),dT(c)?this.events.next(new ls(c.url)):o.resolve(!1);else{this.events.next(new as(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(e.errorHandler(c))}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return ut}))}))}cancelNavigationTransition(e,i,r){let o=new mi(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function cA(t){return t!==is}var lA=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=M({token:t,factory:()=>T(dA),providedIn:"root"})}}return t})(),Mf=class{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}},dA=(()=>{class t extends Mf{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=On(t)))(r||t)}})()}static{this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Sy=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=M({token:t,factory:()=>T(uA),providedIn:"root"})}}return t})(),uA=(()=>{class t extends Sy{constructor(){super(...arguments),this.location=T(wn),this.urlSerializer=T(ps),this.options=T(vs,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=T(Nf),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new pi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=hy(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(i=>{i.type==="popstate"&&e(i.url,i.state)})}handleRouterEvent(e,i){if(e instanceof Zr)this.stateMemento=this.createStateMemento();else if(e instanceof gi)this.rawUrlTree=i.initialUrl;else if(e instanceof gl){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(r,i)}}else e instanceof cs?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):e instanceof mi&&(e.code===At.GuardRejected||e.code===At.NoDataFromResolver)?this.restoreHistory(i):e instanceof as?this.restoreHistory(i,!0):e instanceof sn&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,i){let r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){let o=this.browserPageId,s=A(A({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(r,"",s)}else{let o=A(A({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(r,"",o)}}restoreHistory(e,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.currentUrlTree===e.finalUrl&&o===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=On(t)))(r||t)}})()}static{this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ts=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(ts||{});function My(t,n){t.events.pipe(Me(e=>e instanceof sn||e instanceof mi||e instanceof as||e instanceof gi),z(e=>e instanceof sn||e instanceof gi?ts.COMPLETE:(e instanceof mi?e.code===At.Redirect||e.code===At.SupersededByNewNavigation:!1)?ts.REDIRECTING:ts.FAILED),Me(e=>e!==ts.REDIRECTING),qe(1)).subscribe(()=>{n()})}function hA(t){throw t}var fA={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},pA={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},et=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=T(vc),this.stateManager=T(Sy),this.options=T(vs,{optional:!0})||{},this.pendingTasks=T(ji),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=T(Ff),this.urlSerializer=T(ps),this.location=T(wn),this.urlHandlingStrategy=T(Nf),this._events=new H,this.errorHandler=this.options.errorHandler||hA,this.navigated=!1,this.routeReuseStrategy=T(lA),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=T(xl,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!T(El,{optional:!0}),this.eventsSubscription=new Ie,this.isNgZoneEnabled=T(B)instanceof B&&B.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof mi&&i.code!==At.Redirect&&i.code!==At.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof sn)this.navigated=!0;else if(i instanceof ls){let s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),a={info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||cA(r.source)};this.scheduleNavigation(s,is,null,a,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}gA(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),is,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",i)},0)})}navigateToSyncWithBrowser(e,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let c=A({},r);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(e);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(kf),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=i,h=c?this.currentUrlTree.fragment:s,f=null;switch(a){case"merge":f=A(A({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let p;try{let y=r?r.snapshot:this.routerState.snapshot.root;p=cy(y)}catch{(typeof e[0]!="string"||!e[0].startsWith("/"))&&(e=[]),p=this.currentUrlTree.root}return ly(p,e,f,h??null)}navigateByUrl(e,i={skipLocationChange:!1}){let r=Qr(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,is,null,i)}navigate(e,i={skipLocationChange:!1}){return mA(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,i){let r;if(i===!0?r=A({},fA):i===!1?r=A({},pA):r=i,Qr(e))return zv(this.currentUrlTree,e,r);let o=this.parseUrl(e);return zv(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.entries(e).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(e,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,h;s?(a=s.resolve,c=s.reject,h=s.promise):h=new Promise((p,y)=>{a=p,c=y});let f=this.pendingTasks.add();return My(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:a,reject:c,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function mA(t){for(let n=0;n<t.length;n++)if(t[n]==null)throw new N(4008,!1)}function gA(t){return!(t instanceof cs)&&!(t instanceof ls)}var Ut=(()=>{class t{constructor(e,i,r,o,s,a){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new H,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=e.events.subscribe(h=>{h instanceof sn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){e!=null?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(e!==0||i||r||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let i=this.href===null?null:g0(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(e,i){let r=this.renderer,o=this.el.nativeElement;i!==null?r.setAttribute(o,e,i):r.removeAttribute(o,e)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(i){return new(i||t)(C(et),C(zn),Mr("tabindex"),C(ci),C(le),C(Hn))}}static{this.\u0275dir=pe({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){i&1&&D("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),i&2&&he("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[W.HasDecoratorInputTransform,"preserveFragment","preserveFragment",at],skipLocationChange:[W.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",at],replaceUrl:[W.HasDecoratorInputTransform,"replaceUrl","replaceUrl",at],routerLink:"routerLink"},standalone:!0,features:[tn,ot]})}}return t})(),Ty=(()=>{class t{get isActive(){return this._isActive}constructor(e,i,r,o,s){this.router=e,this.element=i,this.renderer=r,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new se,this.routerEventsSubscription=e.events.subscribe(a=>{a instanceof sn&&this.update()})}ngAfterContentInit(){L(this.links.changes,L(null)).pipe(hn()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let e=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=be(e).pipe(hn()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){let i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){let i=_A(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{let o=r.urlTree;return o?e.isActive(o,i):!1}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static{this.\u0275fac=function(i){return new(i||t)(C(et),C(le),C(ci),C(He),C(Ut,8))}}static{this.\u0275dir=pe({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,o){if(i&1&&p_(o,Ut,5),i&2){let s;je(s=Be())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[ot]})}}return t})();function _A(t){return!!t.paths}var Dl=class{};var vA=(()=>{class t{constructor(e,i,r,o,s){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Me(e=>e instanceof sn),In(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){let r=[];for(let o of i){o.providers&&!o._injector&&(o._injector=gc(o.providers,e,`Route: ${o.path}`));let s=o._injector??e,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return be(r).pipe(hn())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(e,i):r=L(null);let o=r.pipe(Re(s=>s===null?L(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));if(i.loadComponent&&!i._loadedComponent){let s=this.loader.loadComponent(i);return be([o,s]).pipe(hn())}else return o})}static{this.\u0275fac=function(i){return new(i||t)(b(et),b(xc),b(it),b(Dl),b(Rf))}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ay=new k(""),yA=(()=>{class t{constructor(e,i,r,o,s={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=T(it),s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Zr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof sn?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof gi&&e.code===ml.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof _l&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>We(this,null,function*(){yield new Promise(r=>{setTimeout(()=>{r()}),mc(()=>{r()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new _l(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){T0()}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac})}}return t})();function bA(t){return t.routerState.root}function ys(t,n){return{\u0275kind:t,\u0275providers:n}}function wA(){let t=T(Fe);return n=>{let e=t.get(Vn);if(n!==e.components[0])return;let i=t.get(et),r=t.get(Oy);t.get(Lf)===1&&i.initialNavigation(),t.get(ky,null,oe.Optional)?.setUpPreloading(),t.get(Ay,null,oe.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var Oy=new k("",{factory:()=>new H}),Lf=new k("",{providedIn:"root",factory:()=>1});function CA(){return ys(2,[{provide:Lf,useValue:0},{provide:wc,multi:!0,deps:[Fe],useFactory:n=>{let e=n.get(L_,Promise.resolve());return()=>e.then(()=>new Promise(i=>{let r=n.get(et),o=n.get(Oy);My(r,()=>{i(!0)}),n.get(Ff).afterPreactivation=()=>(i(!0),o.closed?L(void 0):o),r.initialNavigation()}))}}])}function xA(){return ys(3,[{provide:wc,multi:!0,useFactory:()=>{let n=T(et);return()=>{n.setUpLocationChangeListener()}}},{provide:Lf,useValue:2}])}var ky=new k("");function DA(t){return ys(0,[{provide:ky,useExisting:vA},{provide:Dl,useExisting:t}])}function EA(){return ys(8,[Yv,{provide:El,useExisting:Yv}])}function IA(t){let n=[{provide:Ey,useValue:sA},{provide:Iy,useValue:A({skipNextTransition:!!t?.skipInitialTransition},t)}];return ys(9,n)}var Zv=new k("ROUTER_FORROOT_GUARD"),SA=[wn,{provide:ps,useClass:os},et,ms,{provide:zn,useFactory:bA,deps:[et]},Rf,[]],bs=(()=>{class t{constructor(e){}static forRoot(e,i){return{ngModule:t,providers:[SA,[],{provide:xl,multi:!0,useValue:e},{provide:Zv,useFactory:OA,deps:[[et,new Za,new wu]]},{provide:vs,useValue:i||{}},i?.useHash?TA():AA(),MA(),i?.preloadingStrategy?DA(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?kA(i):[],i?.bindToComponentInputs?EA().\u0275providers:[],i?.enableViewTransitions?IA().\u0275providers:[],PA()]}}static forChild(e){return{ngModule:t,providers:[{provide:xl,multi:!0,useValue:e}]}}static{this.\u0275fac=function(i){return new(i||t)(b(Zv,8))}}static{this.\u0275mod=Y({type:t})}static{this.\u0275inj=q({})}}return t})();function MA(){return{provide:Ay,useFactory:()=>{let t=T(W_),n=T(B),e=T(vs),i=T(Ff),r=T(ps);return e.scrollOffset&&t.setOffset(e.scrollOffset),new yA(r,i,t,n,e)}}}function TA(){return{provide:Hn,useClass:j_}}function AA(){return{provide:Hn,useClass:Ih}}function OA(t){return"guarded"}function kA(t){return[t.initialNavigation==="disabled"?xA().\u0275providers:[],t.initialNavigation==="enabledBlocking"?CA().\u0275providers:[]]}var Kv=new k("");function PA(){return[{provide:Kv,useFactory:wA},{provide:Cc,multi:!0,useExisting:Kv}]}var En=(()=>{class t{constructor(){this.showFooter=!0,this.socialLinks={"Py-Learn":{website:"https://pykara.ai",linkedin:"https://www.linkedin.com/in/pykara-technologies",youtube:"https://www.youtube.com/@PykaraTechnologies",facebook:"https://www.facebook.com/people/Pykara/100087653675803",instagram:"https://www.instagram.com/pykaratechnologie"},"MJ-Learn":{website:"https://www.majema.se",linkedin:"https://www.linkedin.com/company/majemaforlaget",youtube:"https://www.youtube.com/@majemaforlaget3014",facebook:"https://www.facebook.com/majemaforlaget",instagram:"https://www.instagram.com/majemaforlaget"}};let e=window.location.href,i="Py-Learn",r="assets/images/pykara-logo.png";e.includes("pykara-py-learn")?(i="Py-Learn",r="assets/images/pykara-logo.png",this.showFooter=!0):e.includes("majemaai-mj-learn")&&(i="MJ-Learn",r="assets/images/majema-logo.png",this.showFooter=!0),this.nameSubject=new Oe(i),this.logoSubject=new Oe(r),this.name$=this.nameSubject.asObservable(),this.logo$=this.logoSubject.asObservable()}get name(){return this.nameSubject.value}get logo(){return this.logoSubject.value}setName(e){this.nameSubject.next(e)}setLogo(e){this.logoSubject.next(e)}get socialLinksCurrent(){return this.socialLinks[this.name]}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var RA=[[["","header-right",""]]],NA=["[header-right]"];function FA(t,n){if(t&1&&(d(0,"div",8)(1,"h1"),u(2),l()()),t&2){let e=w();m(2),Ae(e.title)}}function LA(t,n){t&1&&(d(0,"div",9)(1,"a",10),_(2,"img",11),l()())}var Sl=(()=>{class t{constructor(e){this.brand=e,this.title=null,this.showHome=!0}static{this.\u0275fac=function(i){return new(i||t)(C(En))}}static{this.\u0275cmp=me({type:t,selectors:[["app-header"]],inputs:{title:"title",showHome:"showHome",logoSrc:"logoSrc",productName:"productName"},standalone:!0,features:[Ue],ngContentSelectors:NA,decls:10,vars:5,consts:[[1,"header-container"],[1,"logo"],["routerLink","/home",1,"brand-link"],[3,"src","alt"],[1,"product-name"],["class","header-title",4,"ngIf"],[1,"toggle-buttons-container","modern-toggle"],["class","home-btn",4,"ngIf"],[1,"header-title"],[1,"home-btn"],["routerLink","/home"],["src","assets/images/home.png","alt","Home",1,"home-icon"]],template:function(i,r){i&1&&(Rn(RA),d(0,"div",0)(1,"div",1)(2,"a",2),_(3,"img",3),l(),d(4,"span",4),u(5),l()(),P(6,FA,3,1,"div",5),d(7,"div",6),Nn(8),l(),P(9,LA,3,0,"div",7),l()),i&2&&(m(3),g("src",r.logoSrc||r.brand.logo,ee)("alt",(r.productName||r.brand.name)+" Logo"),m(2),Ae(r.productName||r.brand.name),m(),g("ngIf",r.title),m(3),g("ngIf",r.showHome))},dependencies:[wt,ct,bs,Ut],styles:["[_nghost-%COMP%]{display:block}.header-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;justify-content:space-between;padding:0 2vw;background-color:#009688;box-shadow:0 4px 8px #0003;width:100%;position:sticky;top:0;z-index:1000;overflow-x:clip}.header-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%], .header-container[_ngcontent-%COMP%]   .home-btn[_ngcontent-%COMP%], .header-container[_ngcontent-%COMP%]   .toggle-buttons-container[_ngcontent-%COMP%]{flex:0 0 auto}.header-title[_ngcontent-%COMP%]{flex:1 1 auto;min-width:0;text-align:center}.header-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3vw;color:#fff;margin:0;line-height:1.2;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.header-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:5vw;height:auto;background:#fff;border-radius:1vw;margin:.5vw}.home-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:5vw;transition:transform .2s ease}.home-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.08)}.logo[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1vw}.brand-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.6vw;text-decoration:none}.product-name[_ngcontent-%COMP%]{color:#fff;font-size:2vw;letter-spacing:.5px;font-family:Amonk_Outline;line-height:1}.brand-link[_ngcontent-%COMP%]:hover   .product-name[_ngcontent-%COMP%]{opacity:.9}.header-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Super Cartoon,cursive}"]})}}return t})();function VA(){return location.hostname.endsWith("hf.space")?"https://majemaai-mj-learn-backend.hf.space/rag":location.hostname==="localhost"||location.hostname==="127.0.0.1"?"http://localhost:5000/rag":"https://pylearn-backend-production.up.railway.app/rag"}var Py=(()=>{class t{constructor(e){this.http=e,this.baseUrl=VA(),this.defaultModel="gpt-4o-mini"}getGrade(){let e=(localStorage.getItem("gradeLevel")||"midgrade").toLowerCase();return e==="lowergrade"||e==="midgrade"||e==="highergrade"?e:"midgrade"}toDbLevel(e){return e==="lowergrade"?"low":e==="midgrade"?"mid":"high"}makeHeaders(e){return new jt({"Content-Type":"application/json","X-User":e})}generateOpenQuestions(e){let i=this.getGrade(),r=this.makeHeaders(i),o={qtype:"OPEN",n:e.n??5,topic:e.topic??"",model:this.defaultModel,db_level:this.toDbLevel(i)};return this.http.post(`${this.baseUrl}/generate-questions`,o,{headers:r})}explainGrammar(e){let i=this.getGrade(),r=this.makeHeaders(i),o=typeof e=="string"?{question:e}:A({},e);return"db_level"in o||(o.db_level=this.toDbLevel(i)),"model"in o||(o.model=this.defaultModel),this.http.post(`${this.baseUrl}/explain-grammar`,o,{headers:r})}suggestFollowups(e){let i=this.getGrade(),r=this.makeHeaders(i),o={last_question:e.last_question,last_answer:e.last_answer,n:e.n??5,model:this.defaultModel,db_level:this.toDbLevel(i),source_ids:e.source_ids??[]};return this.http.post(`${this.baseUrl}/suggest-followups`,o,{headers:r})}synthesizeAudio(e,i="en",r){let o=this.getGrade(),s=this.makeHeaders(o),a={text:e,language:i,db_level:this.toDbLevel(o),model:this.defaultModel};return r?.length&&(a.reference_files=r),this.http.post(`${this.baseUrl}/synthesize-audio`,a,{headers:s})}synthesizeVideo(e,i="en"){let r=this.getGrade(),o=this.makeHeaders(r),s={text:e,language:i,db_level:this.toDbLevel(r),model:this.defaultModel};return this.http.post(`${this.baseUrl}/synthesize-video`,s,{headers:o})}generateVideoFromText(e,i="en"){let r=this.getGrade(),o=this.makeHeaders(r);return this.http.post(`${this.baseUrl}/generate-video-from-text`,{text:e,language:i,db_level:this.toDbLevel(r),model:this.defaultModel},{headers:o})}punctuate(e){let i=this.getGrade(),r=this.makeHeaders(i);return this.http.post(`${this.baseUrl}/punctuate`,{text:e},{headers:r})}static{this.\u0275fac=function(i){return new(i||t)(b(Mt))}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var BA=["waveformCanvas"],UA=["chatContent"];function $A(t,n){if(t&1&&(d(0,"div",37)(1,"div",38),_(2,"img",39),l(),d(3,"div",40),u(4),d(5,"div",41),u(6),l()()()),t&2){let e=w().$implicit;m(4),de(" ",e.text," "),m(2),Ae(e.timestamp)}}function HA(t,n){if(t&1){let e=V();d(0,"button",60),D("click",function(){let r=I(e).$implicit,o=w(4);return S(o.selectHardcodedQuestion(r))}),u(1),l()}if(t&2){let e=n.$implicit;m(),de(" ",e," ")}}function zA(t,n){if(t&1&&(d(0,"div",57)(1,"div",58),u(2,"Follow-up suggestions"),l(),P(3,HA,2,1,"button",59),l()),t&2){let e=w(2).$implicit;m(3),g("ngForOf",e.suggestions)}}function GA(t,n){t&1&&(xe(0),d(1,"span",61),u(2,"\u2713"),l(),De())}function WA(t,n){t&1&&_(0,"img",62)}function qA(t,n){if(t&1){let e=V();d(0,"button",63),D("click",function(){I(e);let r=w(2).index,o=w();return S(o.playServerAudioForMessage(r))}),_(1,"img",64),l()}}function YA(t,n){if(t&1){let e=V();d(0,"button",65),D("click",function(){I(e);let r=w(3);return S(r.stopReadAloud())}),_(1,"img",66),l()}}function QA(t,n){t&1&&(xe(0),_(1,"img",68),De())}function ZA(t,n){t&1&&_(0,"img",69)}function KA(t,n){if(t&1){let e=V();d(0,"button",67),D("click",function(){I(e);let r=w(2).index,o=w();return S(o.synthesizeAudioAndPlay(r))}),P(1,QA,2,0,"ng-container",48)(2,ZA,1,0,"ng-template",null,2,Ln),l()}if(t&2){let e=nn(3),i=w(2).$implicit;g("disabled",i.isSynthesizing),m(),g("ngIf",!i.isSynthesizing)("ngIfElse",e)}}function XA(t,n){if(t&1){let e=V();d(0,"button",70),D("click",function(){I(e);let r=w(2).index,o=w();return S(o.chatId=="2"?o.generateTutorVideoFromText(r):o.synthesizeVideoAndPlay(r))}),_(1,"img",71),l()}}function JA(t,n){t&1&&(d(0,"button",72),_(1,"img",73),l())}function eO(t,n){if(t&1){let e=V();d(0,"button",74),D("click",function(){I(e);let r=w(2).index,o=w();return S(o.toggleMessageVideo(r))}),_(1,"img",75),l()}if(t&2){let e=w(2).index,i=w();ce("active",i.isVideoEnabledIndex[e]),m(),g("src",i.isVideoEnabledIndex[e]?"assets/images/chat/no-video.png":"assets/images/chat/video.png",ee)}}function tO(t,n){if(t&1){let e=V();d(0,"video",76),D("ended",function(){I(e);let r=w(2).index,o=w();return S(o.onMessageVideoEnded(r))}),l()}if(t&2){let e=w(2).$implicit;g("src",e.playingVideoUrl,ee)}}function nO(t,n){if(t&1){let e=V();d(0,"div",42)(1,"div",38),_(2,"img",43),l(),d(3,"div",44),_(4,"div",45),P(5,zA,4,1,"div",46),d(6,"div",41),u(7),d(8,"button",47),D("click",function(){I(e);let r=w(),o=r.$implicit,s=r.index,a=w();return S(a.copyToClipboard(o.text,s))}),P(9,GA,3,0,"ng-container",48)(10,WA,1,0,"ng-template",null,1,Ln),l(),P(12,qA,2,0,"button",49)(13,YA,2,0,"button",50)(14,KA,4,3,"button",51)(15,XA,2,0,"button",52)(16,JA,2,0,"button",53)(17,eO,2,3,"button",54),l(),d(18,"div",55),P(19,tO,1,1,"video",56),l()()()}if(t&2){let e=nn(11),i=w(),r=i.$implicit,o=i.index,s=w();m(4),g("innerHTML",s.formatStructuredResponse(r.text),m0),m(),g("ngIf",r.suggestions==null?null:r.suggestions.length),m(2),de(" ",r.timestamp," "),m(),he("aria-label",s.copySuccessIndex===o?"Copied":"Copy message"),m(),g("ngIf",s.copySuccessIndex===o)("ngIfElse",e),m(3),g("ngIf",r.audioUrl&&s.isReadingIndex!==o),m(),g("ngIf",r.audioUrl&&s.isReadingIndex===o),m(),g("ngIf",!r.audioUrl),m(),g("ngIf",!r.videoUrl&&!r.isVideoSynthesizing),m(),g("ngIf",!r.videoUrl&&r.isVideoSynthesizing),m(),g("ngIf",r.videoUrl),m(2),g("ngIf",s.isVideoEnabledIndex[o]&&r.playingVideoUrl)}}function iO(t,n){if(t&1&&(d(0,"div"),P(1,$A,7,2,"div",35)(2,nO,20,13,"div",36),l()),t&2){let e=n.$implicit;m(),g("ngIf",e.from==="user"),m(),g("ngIf",e.from==="ai")}}function rO(t,n){t&1&&(d(0,"div",77),u(1," Tutor's Response "),_(2,"span")(3,"span")(4,"span"),l())}function oO(t,n){t&1&&(d(0,"div",81),u(1,"Loading\u2026"),l())}function sO(t,n){if(t&1){let e=V();d(0,"button",84),D("mousedown",function(){let r=I(e).$implicit,o=w(4);return S(o.selectHardcodedQuestion(r))}),u(1),l()}if(t&2){let e=n.$implicit,i=w(4);g("disabled",i.isAiResponding),m(),de(" ",e," ")}}function aO(t,n){if(t&1&&(xe(0),d(1,"div",82),u(2,"Follow-up suggestions"),l(),P(3,sO,2,2,"button",83),De()),t&2){let e=w(3);m(3),g("ngForOf",e.currentFollowups)}}function cO(t,n){if(t&1){let e=V();d(0,"button",84),D("mousedown",function(){let r=I(e).$implicit,o=w(5);return S(o.selectHardcodedQuestion(r))}),u(1),l()}if(t&2){let e=n.$implicit,i=w(5);g("disabled",i.isAiResponding),m(),de(" ",e," ")}}function lO(t,n){if(t&1&&(xe(0),P(1,cO,2,2,"button",83),De()),t&2){let e=w(4);m(),g("ngForOf",e.pdfQuestions)}}function dO(t,n){t&1&&(d(0,"div",85),u(1,"No grammar questions available."),l())}function uO(t,n){if(t&1&&(d(0,"div",82),u(1,"Questions from your textbook"),l(),P(2,lO,2,1,"ng-container",48)(3,dO,2,0,"ng-template",null,4,Ln)),t&2){let e=nn(4),i=w(3);m(2),g("ngIf",i.pdfQuestions==null?null:i.pdfQuestions.length)("ngIfElse",e)}}function hO(t,n){if(t&1&&(xe(0),P(1,aO,4,1,"ng-container",48)(2,uO,5,2,"ng-template",null,3,Ln),De()),t&2){let e=nn(3),i=w(2);m(),g("ngIf",i.currentFollowups.length)("ngIfElse",e)}}function fO(t,n){if(t&1&&(d(0,"div",78),P(1,oO,2,0,"div",79)(2,hO,4,2,"ng-container",80),l()),t&2){let e=w();m(),g("ngIf",e.pdfLoading),m(),g("ngIf",!e.pdfLoading)}}function pO(t,n){t&1&&(d(0,"div",101),u(1,"Processing\u2026 please wait"),l())}function mO(t,n){if(t&1&&(d(0,"pre"),u(1),l()),t&2){let e=w(2);m(),Ae(e.popupTranscript)}}function gO(t,n){t&1&&(d(0,"div",102),u(1,"Speak and click Done when finished"),l())}function _O(t,n){if(t&1&&(d(0,"div",103),u(1),l()),t&2){let e=w(2);m(),Ae(e.errorMessage)}}function vO(t,n){if(t&1){let e=V();d(0,"div",86)(1,"div",87)(2,"strong"),u(3,"Microphone"),l(),d(4,"button",88),D("click",function(){I(e);let r=w();return S(r.closeMicrophonePopup())}),u(5,"\u2715"),l()(),d(6,"div",89),_(7,"canvas",90,5),d(9,"div",91)(10,"div",92),_(11,"span",93),d(12,"span"),u(13),l()(),d(14,"div",94),P(15,pO,2,0,"div",95)(16,mO,2,1,"pre",80)(17,gO,2,0,"div",96),l(),P(18,_O,2,1,"div",97),l(),d(19,"div",98)(20,"button",99),D("click",function(){I(e);let r=w();return S(r.stopRecording())}),u(21,"Done"),l(),d(22,"button",99),D("click",function(){I(e);let r=w();return S(r.confirmAndSendTranscript())}),u(23,"Send"),l(),d(24,"button",100),D("click",function(){I(e);let r=w();return S(r.closeMicrophonePopup())}),u(25,"Cancel"),l()()()()}if(t&2){let e=w();m(11),ce("recording",e.isRecording),m(2),Ae(e.isRecording?"Recording\u2026":"Ready"),m(2),g("ngIf",e.popupTranscript==="Processing\u2026"),m(),g("ngIf",e.popupTranscript&&e.popupTranscript!=="Processing\u2026"),m(),g("ngIf",!e.popupTranscript),m(),g("ngIf",e.errorMessage),m(2),g("disabled",!e.isRecording),m(2),g("disabled",!e.popupTranscript||e.popupTranscript==="Processing\u2026")}}function yO(t,n){if(t&1){let e=V();d(0,"div",104),D("click",function(){I(e);let r=w();return S(r.closeUserGuide())}),d(1,"div",105),D("click",function(r){return I(e),S(r.stopPropagation())}),d(2,"button",106),D("click",function(){I(e);let r=w();return S(r.closeUserGuide())}),u(3,"\xD7"),l(),d(4,"div",107)(5,"ol",108)(6,"li")(7,"b"),u(8,"Introduction"),l(),_(9,"br"),d(10,"ul",109)(11,"li"),u(12,"The Chat Module is an interactive learning environment designed to assist learners through text and voice-based communication."),l(),d(13,"li"),u(14,"Users can type their question or select from follow-up suggestions, using either the text input or the microphone."),l(),d(15,"li"),u(16,"Predefined questions appear above the input field for quick access."),l(),d(17,"li"),u(18,"This creates an engaging and personalised learning experience similar to interacting with a real tutor."),l()()(),d(19,"li")(20,"b"),u(21,"Starting the Chat"),l(),_(22,"br"),d(23,"ul",109)(24,"li"),u(25,"When learners open the module, they will see a text input box and a microphone icon. They can type a question or activate the microphone to speak."),l(),d(26,"li"),u(27,"While the microphone is active, a listening popup appears with options to mute or stop recording. Once the learner finishes speaking or typing, their question is displayed in the chat area along with a timestamp."),l(),d(28,"li"),u(29,"This simple interface ensures that both typing and speaking interactions are smooth and user-friendly."),l()()(),d(30,"li")(31,"b"),u(32,"Accessing the Syllabus"),l(),_(33,"br"),d(34,"ul",109)(35,"li"),u(36,"Before learners begin, an administrator uploads the syllabus or textbook in digital format."),l(),d(37,"li"),u(38,"The system analyses the document and automatically generates a list of predefined questions based on the uploaded syllabus."),l(),d(39,"li"),u(40,"These predefined questions are displayed above the input field, allowing learners to choose any topic without needing to type."),l(),d(41,"li"),u(42,"When a learner selects a question, the system locates the relevant section from the syllabus and prepares an answer. The response appears instantly in the chat area in a clear and readable format."),l()()(),d(43,"li")(44,"b"),u(45,"Receiving the Response"),l(),_(46,"br"),d(47,"ul",109)(48,"li"),u(49," After a question is sent, the system generates an immediate response that includes: "),d(50,"ul")(51,"li"),u(52,"A text-based explanation"),l(),d(53,"li"),u(54,"An audio narration in the tutor\u2019s real voice"),l(),d(55,"li"),u(56,"A derived video explanation, when applicable"),l()()(),d(57,"li"),u(58,"The response is first produced as text. If the learner chooses to listen, the system plays an audio narration that has been synthetically generated using the real voice of the teacher."),l(),d(59,"li"),u(60,"The voice is not a generic computer voice; it has been trained and modelled on the actual tutor\u2019s speech patterns, ensuring that the tone, pronunciation, and expression closely resemble the teacher\u2019s natural way of speaking."),l(),d(61,"li"),u(62,"Similarly, when a video explanation is requested, the system displays a derived video of the teacher. This video is not a pre-recorded clip or animation, but is generated to resemble the real teacher\u2019s voice and reactions."),l(),d(63,"li"),u(64,"All audio and video responses are created dynamically for each question, providing unique, real-time explanations. Learners can replay or stop the narration at any time, copy text responses, and follow the conversation naturally with the speaking indicator showing when the tutor\u2019s voice is active."),l(),d(65,"li"),u(66,"By default, audio is muted; you can enable it as needed."),l()()(),d(67,"li")(68,"b"),u(69,"Handling Out-of-Syllabus Questions"),l(),_(70,"br"),d(71,"ul",109)(72,"li"),u(73,"If a learner asks a question that is not part of the uploaded syllabus or textbook, the system responds with the message: \u201CThis topic is out of syllabus.\u201D"),l(),d(74,"li"),u(75,"Only administrators can configure whether such questions can be answered using external information sources."),l(),d(76,"li"),u(77,"This ensures that all discussions remain within the approved syllabus unless authorised otherwise."),l()()(),d(78,"li")(79,"b"),u(80,"Follow-Up and Progressive Learning"),l(),_(81,"br"),d(82,"ul",109)(83,"li"),u(84,"After each response, the system displays related or next-level questions below the chat. This feature helps learners progress through topics in a logical sequence."),l(),d(85,"li"),u(86,"A breadcrumb trail is also displayed, showing the topic flow and subtopics covered during the conversation."),l(),d(87,"li"),u(88,"Learners can easily revisit previous points and continue from where they left off."),l()()(),d(89,"li")(90,"b"),u(91,"Audio, Video, and Mode Controls"),l(),_(92,"br"),d(93,"ul",109)(94,"li"),u(95," At the top of the chat interface, four control buttons provide flexibility and accessibility: "),d(96,"ul")(97,"li"),u(98,"Audio Control \u2013 Enable or disable narration."),l(),d(99,"li"),u(100,"Video Control \u2013 Show or hide derived video explanations."),l(),d(101,"li"),u(102,"Syllabus Mode Control \u2013 Keep learning limited to syllabus topics."),l(),d(103,"li"),u(104,"Breadcrumb Control \u2013 Display or hide the topic trail."),l()()(),d(105,"li"),u(106,"Only administrators can modify the syllabus mode to include out-of-syllabus responses."),l()()(),d(107,"li")(108,"b"),u(109,"Interface and Usability"),l(),_(110,"br"),d(111,"ul",109)(112,"li"),u(113,"The chat interface presents a clear, conversational layout between the learner and the tutor. Each message includes a profile icon and timestamp for a natural reading flow."),l(),d(114,"li"),u(115,"Typing indicators appear while the system prepares responses, and a scroll button allows quick access to the most recent messages."),l(),d(116,"li"),u(117,"The design is responsive and adapts to different devices such as desktops, tablets, etc."),l()()(),d(118,"li")(119,"b"),u(120,"Summary"),l(),_(121,"br"),d(122,"ul",109)(123,"li"),u(124,"The Chat Module provides an engaging, syllabus-focused learning experience where learners can type or speak their questions and receive immediate answers through text, real teacher voice, and derived video."),l(),d(125,"li"),u(126,"With predefined questions, real-time explanations, structured progression, and easy-to-use controls, this module offers a complete and intelligent conversational learning environment\u2014all within a single platform."),l(),d(127,"li"),u(128,"Use this feature for summary-guided training."),l()()()()()()()}}function bO(t,n){if(t&1){let e=V();d(0,"video",110),D("ended",function(){I(e);let r=w();return S(r.clearVideoUrl())})("error",function(){I(e);let r=w();return S(r.clearVideoUrl())}),l()}if(t&2){let e=w();g("src",e.videoUrl,ee)}}var Ry=(()=>{class t{constructor(e,i,r,o){if(this.apiService=e,this.cdr=i,this.route=r,this.platformId=o,this.isRecording=!1,this.showMicPopup=!1,this.popupTranscript="",this.errorMessage="",this._recordingFinalBuffer="",this._recordingInterimBuffer="",this.audioContext=null,this.analyser=null,this.dataArray=null,this.mediaStream=null,this.animationFrameId=null,this._recognitionActive=!1,this._restartTimer=null,this._restartAttempts=0,this._maxRestartDelay=1500,this.showQuestions=!1,this.pdfQuestions=[],this.pdfLoading=!1,this.userInput="",this.messages=[],this.isTyping=!1,this.isListening=!1,this.isSpeaking=!1,this.isAudioPaused=!1,this.currentFollowups=[],this.videoUrl="",this.aiResponseInterval=null,this.isAiResponding=!1,this.isVideoEnabledIndex=[],this.serverAudio=null,this.serverAudioMessageIndex=null,this.isReadingIndex=null,this.isVideoPlayingIndex=null,this.copySuccessIndex=null,this.isVoiceEnabled=!1,this.isTutorEnabled=!1,this.isSyllabusEnabled=!0,this.isBreadcrumbEnabled=!1,this.shouldAutoScroll=!0,this.lastQuestion=null,this.lastAnswer=null,this.lastSourceIds=[],this.lastAnswerHasContext=!1,this.chatId=null,this.showUserGuide=!1,!Lt(this.platformId))return;let s=window.SpeechRecognition??window.webkitSpeechRecognition;if(s){this.recognition=new s,this.recognition.continuous=!0,this.recognition.interimResults=!0,this.recognition.lang="en-US";try{this.recognition.maxAlternatives=1}catch{}this.recognition.onstart=()=>{this._recognitionActive=!0,this._restartAttempts=0},this.recognition.onspeechstart=()=>{this._recognitionActive=!0},this.recognition.onspeechend=()=>{this._recognitionActive=!1},this.recognition.onresult=a=>{if(!this.isRecording)return;let c="",h="";for(let f=a.resultIndex;f<a.results.length;f++){let p=a.results[f],y=p[0]?.transcript??"";p.isFinal?h+=y+" ":c+=y+" "}h?(this._recordingFinalBuffer+=h,this._recordingInterimBuffer=""):this._recordingInterimBuffer=c,this.cdr.detectChanges()},this.recognition.onerror=a=>{if(a?.error==="not-allowed")this.errorMessage="Microphone access denied",this.isRecording=!1;else{let h=a?.error??"unknown";this.errorMessage=`Error: ${h}`}let c=a?.error;if(this.isRecording&&(c==="no-speech"||c==="aborted"||c==="network")){this._restartTimer&&clearTimeout(this._restartTimer);let h=Math.min(400*(this._restartAttempts+1),this._maxRestartDelay);this._restartTimer=setTimeout(()=>{try{this.recognition&&!this._recognitionActive&&this.recognition.start()}catch{this._restartAttempts++}},h)}else c!=="not-allowed"&&(this._recognitionActive=!1);this.cdr.detectChanges()},this.recognition.onend=()=>{if(this._recognitionActive=!1,this.isRecording&&this.showMicPopup){this._restartTimer&&clearTimeout(this._restartTimer);let a=Math.min(250+this._restartAttempts*200,this._maxRestartDelay);this._restartTimer=setTimeout(()=>{try{this.recognition&&!this._recognitionActive&&this.recognition.start()}catch{this._restartAttempts++}},a)}},this.recognition.onnomatch=()=>{}}}ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e&&(this.chatId=e,this.cdr.detectChanges())}ngOnDestroy(){if(Lt(this.platformId))try{window.speechSynthesis?.cancel()}catch{}this.stopServerAudio();try{window.speechSynthesis?.cancel()}catch{}}ngAfterViewInit(){this.chatBox.nativeElement.addEventListener("scroll",()=>{let e=this.chatBox.nativeElement,i=e.scrollHeight-e.clientHeight-e.scrollTop<50;this.shouldAutoScroll=i})}scrollToBottom(e=!1){if(!(!e&&!this.shouldAutoScroll)){try{let i=this.chatBox&&this.chatBox.nativeElement;if(i&&typeof i.scrollTo=="function"){requestAnimationFrame(()=>{try{i.scrollTo({top:i.scrollHeight,behavior:"smooth"})}catch{try{i.scrollTop=i.scrollHeight}catch{}}});return}}catch{}try{let i=document.querySelector('[id^="message-"]:last-of-type, .chat-message:last-child');i&&i.scrollIntoView({behavior:"smooth",block:"end"})}catch{}}}selectHardcodedQuestion(e){this.showQuestions=!1,this.sendMessage(e),this.userInput=""}showHardcodedQuestions(){setTimeout(()=>{this.showQuestions=!0,this.lastAnswer&&this.lastAnswerHasContext?this.fetchFollowupQuestions():this.fetchInitialQuestions()},100)}hideHardcodedQuestions(){setTimeout(()=>{this.showQuestions=!1},200)}fetchInitialQuestions(e=5){this.pdfLoading=!0,this.pdfQuestions=[],this.apiService.generateOpenQuestions({qtype:"OPEN",n:e,topic:""}).subscribe({next:i=>{let r=Array.isArray(i?.questions)?i.questions:[];this.pdfQuestions=r.map(o=>typeof o=="string"?o:o?.question||"").filter(Boolean),this.pdfLoading=!1,this.cdr.detectChanges()},error:()=>{this.pdfLoading=!1,this.pdfQuestions=[],this.cdr.detectChanges()}})}fetchFollowupQuestions(e=5){if(!this.lastQuestion||!this.lastAnswer||!this.lastAnswerHasContext||!this.lastSourceIds.length){this.fetchInitialQuestions(e);return}this.pdfLoading=!0,this.pdfQuestions=[],this.apiService.suggestFollowups({last_question:this.lastQuestion,last_answer:this.lastAnswer,n:e,source_ids:this.lastSourceIds}).subscribe({next:i=>{let r=Array.isArray(i?.suggestions)?i.suggestions:[];this.pdfQuestions=r.filter(o=>typeof o=="string"&&o.length>0),this.pdfLoading=!1,this.cdr.detectChanges()},error:()=>{this.pdfLoading=!1,this.pdfQuestions=[],this.cdr.detectChanges()}})}sendMessage(e){let i=e?e.trim():this.userInput.trim();if(!i)return;let r=new Date().toLocaleTimeString();this.messages.push({from:"user",text:i,timestamp:r}),this.userInput="",this.isTyping=!0,this.cdr.detectChanges(),this.shouldAutoScroll=!0,this.scrollToBottom(),this.apiService.explainGrammar({question:i,synthesize_audio:!!this.isVoiceEnabled,synthesize_video:!!this.isTutorEnabled,kdtalker:this.chatId==="2"}).subscribe({next:o=>{this.isTyping=!1;let s=(o?.answer||o?.response||o?.text||"No explanation available.").trim(),a=Array.isArray(o?.source_ids)?o.source_ids.filter(y=>typeof y=="string"&&y.trim().length>0):[],c=typeof o?.audio_url=="string"?o.audio_url:typeof o?.audioUrl=="string"?o.audioUrl:"",h=typeof o?.video_url=="string"?o.video_url:typeof o?.videoUrl=="string"?o.videoUrl:"";this.lastQuestion=i,this.lastSourceIds=a;let f=/No information available in the provided textbook content/i.test(s),p=a.length>0&&!f;this.streamAiAnswer(s,a,p,c||void 0,h||void 0)},error:()=>{this.isTyping=!1,this.streamAiAnswer("Error: Could not get a response from the server.",[],!1)}})}streamAiAnswer(e,i,r,o,s){let a=(e||"").trim()||"No explanation available.",c=new Date().toLocaleTimeString(),h=this.messages.push({from:"ai",text:"",timestamp:c,source_ids:i,pending:!0,audioUrl:o||"",videoUrl:s||"",playingVideoUrl:""})-1;this.isVideoEnabledIndex.length<=h&&(this.isVideoEnabledIndex[h]=!1),this.isAiResponding=!0,this.shouldAutoScroll=!0,this.cdr.detectChanges(),this.animateAiResponse(a,h,()=>{this.lastAnswer=a,this.lastAnswerHasContext=r,this.autoPlayMediaForMessage(h)}),!o&&this.isVoiceEnabled&&this.speakResponse(a)}autoPlayMediaForMessage(e){let i=this.messages[e];if(!i)return;let r=!!(i.videoUrl&&i.videoUrl.trim()),o=!!(i.audioUrl&&i.audioUrl.trim());if(r&&this.isTutorEnabled){try{this.stopServerAudio()}catch{}try{window.speechSynthesis?.cancel()}catch{}this.openMessageVideo(e,!0);return}if(o&&this.isVoiceEnabled){try{this.stopAllVideo()}catch{}this.playServerAudioForMessage(e)}}formatStructuredResponse(e){return e.replace(/\n/g,"<br>").replace(/(\d+)\.\s/g,"<b>$1.</b> ").replace(/\\s/g,"\u2714\uFE0F ").replace(/\-\s/g,"\u{1F539} ").replace(/(\*\*)(.*?)\1/g,"<b>$2</b>")}animateAiResponse(e,i,r){if(!e){this.isAiResponding=!1;return}let o=null;if(typeof i=="number"&&this.messages[i]?.from==="ai")o=i;else for(let f=this.messages.length-1;f>=0;f--)if(this.messages[f].from==="ai"){o=f;break}(o===null||o<0||!this.messages[o])&&(this.messages.push({from:"ai",text:"",timestamp:new Date().toLocaleTimeString()}),o=this.messages.length-1,this.isVideoEnabledIndex.push(!1));let s=this.messages[o];this.aiResponseInterval&&(clearInterval(this.aiResponseInterval),this.aiResponseInterval=null),s.text="",s.pending=!0,this.isAiResponding=!0,this.cdr.detectChanges();let a=e.split(/\s+/).filter(f=>f.length),c=0,h=200;this.aiResponseInterval=setInterval(()=>{c<a.length?(s.text=a.slice(0,c+1).join(" "),c++,this.cdr.detectChanges(),this.scrollToBottom()):(this.aiResponseInterval&&clearInterval(this.aiResponseInterval),this.aiResponseInterval=null,s.text=e,s.pending=!1,this.isAiResponding=!1,r&&r(),this.cdr.detectChanges(),this.scrollToBottom())},h)}stopAiResponse(){this.aiResponseInterval&&(clearInterval(this.aiResponseInterval),this.aiResponseInterval=null),this.stopServerAudio();try{window.speechSynthesis?.cancel()}catch{}let e=[...this.messages].reverse().findIndex(i=>i.from==="ai");if(e!==-1){let i=this.messages.length-1-e,r=this.messages[i];r.text="Response cancelled.",r.timestamp=new Date().toLocaleTimeString(),r.suggestions=[],r.audioUrl="",r.videoUrl="",r.playingVideoUrl="",r.pending=!1,this.isVideoEnabledIndex.length>i&&(this.isVideoEnabledIndex[i]=!1)}else this.messages.push({from:"ai",text:"Response cancelled.",timestamp:new Date().toLocaleTimeString()}),this.isVideoEnabledIndex.push(!1);this.isAiResponding=!1,this.isTyping=!1,this.isSpeaking=!1,this.isReadingIndex=null,this.cdr.detectChanges()}speakResponse(e){if(!e||!this.isVoiceEnabled)return;this.stopAllVideo();let i=new SpeechSynthesisUtterance;i.text=e,i.lang="en-US",i.pitch=1,i.rate=1,this.isSpeaking=!0;let r=window.speechSynthesis.getVoices(),o=["Google UK English Female","Google US English Female","Microsoft Zira - English (United States)","Microsoft Hazel - English (United Kingdom)","Google en-GB Female","Google en-US Female"];for(let s of o){let a=r.find(c=>c.name===s);if(a){i.voice=a;break}}!i.voice&&r.length&&(i.voice=r[0]),i.onend=()=>{this.isSpeaking=!1,this.cdr.detectChanges()};try{window.speechSynthesis.speak(i)}catch{this.isSpeaking=!1}}resumeAudio(){if(this.serverAudio&&this.serverAudio.paused){this.serverAudio.play().catch(()=>{}),this.isAudioPaused=!1,this.serverAudioMessageIndex!==null&&(this.messages[this.serverAudioMessageIndex].isPlaying=!0),this.cdr.detectChanges();return}window.speechSynthesis&&window.speechSynthesis.paused&&(window.speechSynthesis.resume(),this.isAudioPaused=!1,this.cdr.detectChanges())}pauseAudio(){window.speechSynthesis.speaking&&!window.speechSynthesis.paused&&(window.speechSynthesis.pause(),this.isAudioPaused=!0,this.cdr.detectChanges())}playServerAudioForMessage(e){let i=this.messages[e];if(!(!i||!i.audioUrl)){if(this.serverAudio&&this.serverAudioMessageIndex===e){this.serverAudio.paused?(this.serverAudio.play().catch(()=>{}),this.isAudioPaused=!1,i.isPlaying=!0):(this.serverAudio.pause(),this.isAudioPaused=!0,i.isPlaying=!1),this.cdr.detectChanges();return}this.stopAllVideo(),this.stopServerAudio();try{window.speechSynthesis?.cancel()}catch{}this.serverAudio=new Audio(i.audioUrl),this.serverAudioMessageIndex=e;try{this.serverAudio.volume=1}catch{}this.isReadingIndex=e,this.isAudioPaused=!1,i.isPlaying=!0,this.isSpeaking=!0,this.cdr.detectChanges(),this.serverAudio.onended=()=>{try{i.isPlaying=!1}catch{}this.isReadingIndex=null,this.serverAudio=null,this.serverAudioMessageIndex=null,this.isSpeaking=!1,this.cdr.detectChanges()},this.serverAudio.onerror=()=>{try{i.isPlaying=!1}catch{}this.isReadingIndex=null,this.serverAudio=null,this.serverAudioMessageIndex=null,this.isSpeaking=!1,this.cdr.detectChanges()},this.serverAudio.play().catch(()=>{try{i.isPlaying=!1}catch{}this.isReadingIndex=null,this.serverAudio=null,this.serverAudioMessageIndex=null,this.isSpeaking=!1,this.cdr.detectChanges()})}}stopServerAudio(){if(this.serverAudio){try{this.serverAudio.pause(),this.serverAudio.currentTime=0}catch{}this.serverAudio=null,this.serverAudioMessageIndex!==null&&this.messages[this.serverAudioMessageIndex]&&(this.messages[this.serverAudioMessageIndex].isPlaying=!1),this.serverAudioMessageIndex=null}this.isReadingIndex=null}synthesizeAudioAndPlay(e){let i=this.messages[e];if(!(!i||!i.text)){if(i.audioUrl){this.playServerAudioForMessage(e);return}i.isSynthesizing||(i.isSynthesizing=!0,this.cdr.detectChanges(),this.apiService.synthesizeAudio(i.text).subscribe({next:r=>{i.isSynthesizing=!1,r?.audio_url?(i.audioUrl=r.audio_url,this.playServerAudioForMessage(e)):this.errorMessage="Audio generation failed.",this.cdr.detectChanges()},error:()=>{i.isSynthesizing=!1,this.errorMessage="Audio generation failed.",this.cdr.detectChanges()}}))}}synthesizeVideoAndPlay(e){let i=this.messages[e];if(!(!i||!i.text)){if(i.videoUrl){this.openMessageVideo(e);return}i.isVideoSynthesizing||(i.isVideoSynthesizing=!0,this.cdr.detectChanges(),this.apiService.synthesizeVideo(i.text).subscribe({next:r=>{i.isVideoSynthesizing=!1,r?.video_url?(i.videoUrl=r.video_url,this.openMessageVideo(e)):this.errorMessage="Video generation failed.",this.cdr.detectChanges()},error:()=>{i.isVideoSynthesizing=!1,this.errorMessage="Video generation failed. Try again.",this.cdr.detectChanges()}}))}}generateTutorVideoFromText(e,i){let r=this.messages[e];if(!r)return;if(r.videoUrl){this.openMessageVideo(e);return}if(r.isVideoSynthesizing)return;let o=r.text&&r.text.trim()||i&&i.trim()||"";if(!o){this.errorMessage="No text available to generate a video.",this.cdr.detectChanges();return}r.isVideoSynthesizing=!0,this.cdr.detectChanges(),this.apiService.generateVideoFromText(o).subscribe({next:s=>{r.isVideoSynthesizing=!1,s?.video_url?(r.videoUrl=s.video_url,this.openMessageVideo(e)):this.errorMessage="Video URL not returned from server.",this.cdr.detectChanges()},error:()=>{r.isVideoSynthesizing=!1,this.errorMessage="Could not generate video.",this.cdr.detectChanges()}})}openMessageVideo(e,i=!1){let r=this.messages[e];if(r?.videoUrl){if(this.isVideoPlayingIndex===e){this.stopInlineVideo(e);return}this.stopServerAudio();try{window.speechSynthesis?.cancel()}catch{}this.stopAllVideo(),r.playingVideoUrl=r.videoUrl,this.isVideoEnabledIndex[e]=!0,this.cdr.detectChanges(),setTimeout(()=>{let o=document.getElementById(`inline-video-${e}`);if(!o){this.isVideoPlayingIndex=null,this.cdr.detectChanges();return}if(i)try{o.muted=!0}catch{}else try{o.muted=!1}catch{}o.onplay=()=>{this.isVideoPlayingIndex=e,this.cdr.detectChanges()},o.onpause=()=>{this.cdr.detectChanges()},o.onended=()=>{this.onMessageVideoEnded(e)},o.play().catch(()=>{this.isVideoPlayingIndex=null,r.playingVideoUrl="",this.isVideoEnabledIndex[e]=!1,this.cdr.detectChanges()})},50)}}toggleMessageVideo(e){let i=this.messages[e];!i||!i.videoUrl||(this.isVideoEnabledIndex[e]?this.stopInlineVideo(e):this.openMessageVideo(e))}stopInlineVideo(e){let i=document.getElementById(`inline-video-${e}`);if(i)try{i.pause(),i.currentTime=0}catch{}let r=this.messages[e];r&&(r.playingVideoUrl=""),this.isVideoEnabledIndex[e]=!1,this.isVideoPlayingIndex===e&&(this.isVideoPlayingIndex=null),this.cdr.detectChanges()}onMessageVideoEnded(e){let i=this.messages[e];i&&(i.playingVideoUrl=""),this.isVideoEnabledIndex[e]=!1,this.isVideoPlayingIndex===e&&(this.isVideoPlayingIndex=null),this.cdr.detectChanges()}toggleVoice(){this.isVoiceEnabled=!this.isVoiceEnabled}toggleTutor(){this.isTutorEnabled=!this.isTutorEnabled}toggleSyllabus(){this.isSyllabusEnabled=!this.isSyllabusEnabled,this.saveToggleStates()}toggleBreadcrumb(){this.isBreadcrumbEnabled=!this.isBreadcrumbEnabled,this.saveToggleStates()}saveToggleStates(){Lt(this.platformId)&&(localStorage.setItem("voiceEnabled",String(this.isVoiceEnabled)),localStorage.setItem("tutorEnabled",String(this.isTutorEnabled)),localStorage.setItem("syllabusEnabled",String(this.isSyllabusEnabled)),localStorage.setItem("breadcrumbEnabled",String(this.isBreadcrumbEnabled)))}clearVideoUrl(){this.videoUrl="",this.isTutorEnabled&&(this.isTutorEnabled=!1,this.saveToggleStates()),this.cdr.detectChanges()}stopAllVideo(){this.videoUrl="";try{Array.from(document.querySelectorAll('[id^="inline-video-"]')).forEach(i=>{try{i.pause(),i.currentTime=0}catch{}})}catch{}this.messages.forEach((e,i)=>{e.playingVideoUrl="",this.isVideoEnabledIndex[i]=!1}),this.cdr.detectChanges()}getButtonIcon(){return this.isAiResponding?"assets/images/chat/stop.png":this.serverAudio&&!this.serverAudio.paused?"assets/images/chat/microphone-icon.png":this.userInput.trim().length>0?"assets/images/chat/send-icon.png":this.isSpeaking&&!this.serverAudio?"assets/images/chat/pause-icon.png":this.isAudioPaused?"assets/images/chat/resume-icon.png":"assets/images/chat/microphone-icon.png"}openUserGuide(){this.showUserGuide=!0}closeUserGuide(){this.showUserGuide=!1}stopReadAloud(){try{this.stopServerAudio()}catch{}this.isReadingIndex=null,this.isSpeaking=!1,this.cdr.detectChanges()}openMicrophonePopup(){this._recordingFinalBuffer="",this._recordingInterimBuffer="",this.popupTranscript="",this.errorMessage="",this.showMicPopup=!0,setTimeout(()=>this.startRecording(),200)}closeMicrophonePopup(){this.stopRecording(),this.showMicPopup=!1,this.popupTranscript="",this._recordingFinalBuffer="",this._recordingInterimBuffer="",this.errorMessage="",this.cdr.detectChanges()}startRecording(){return We(this,null,function*(){if(!this.recognition){this.errorMessage="Speech recognition not supported.";return}this._recordingFinalBuffer="",this._recordingInterimBuffer="",this.popupTranscript="",this.errorMessage="",this.isRecording=!0;try{this.recognition.interimResults=!0}catch{}try{this.recognition.start()}catch{this._recognitionActive||setTimeout(()=>{try{this.recognition?.start()}catch{}},300)}try{yield this.startAnalyzer()}catch{}this.cdr.detectChanges()})}stopRecording(){return We(this,null,function*(){if(this._restartTimer&&(clearTimeout(this._restartTimer),this._restartTimer=null),this.recognition&&this.isRecording)try{this.recognition.stop()}catch{}try{this.stopAnalyzer()}catch{}this.isRecording=!1;let e=(this._recordingFinalBuffer||"").trim(),i=(this._recordingInterimBuffer||"").trim(),r=(e+" "+i).trim();if(!r){this.popupTranscript="",this.cdr.detectChanges();return}this.popupTranscript="Processing\u2026",this.cdr.detectChanges();let o=r;try{let h=this.apiService.punctuate(r),f=yield id(h);if(f&&typeof f.punctuated=="string"&&f.punctuated.trim().length){let p=f.punctuated.trim();o=this.extractAssistantContent(p)||p}}catch{o=r}let s=this.normalizeTranscript(o);!/[.?!]$/.test(s)&&/^(who|what|when|where|why|how|which|whom|whose|is|are|am|was|were|do|does|did|can|could|would|will|shall|should|have|has|had)\b/i.test(r)&&(s=s+"?"),this.popupTranscript=s,this.cdr.detectChanges()})}extractAssistantContent(e){if(!e)return e;try{let i=/message=ChatCompletionMessage\(\s*content=(['"])((?:\\.|(?!\1).)*)\1/,r=e.match(i);if(r&&r[2])return r[2].replace(/\\'/g,"'").replace(/\\"/g,'"').trim();let o=/ChatCompletionMessage\(\s*content=(['"])((?:\\.|(?!\1).)*)\1/,s=e.match(o);if(s&&s[2])return s[2].replace(/\\'/g,"'").replace(/\\"/g,'"').trim();let a=/content=(['"])((?:\\.|(?!\1).)*)\1/,c=e.match(a);if(c&&c[2])return c[2].replace(/\\'/g,"'").replace(/\\"/g,'"').trim()}catch{}return e.trim()}confirmAndSendTranscript(){let e=(this.popupTranscript||"").trim();if(!e){this.errorMessage="No speech captured";return}e=this.normalizeTranscript(e);try{this.sendMessage(e)}catch{}this._recordingFinalBuffer="",this._recordingInterimBuffer="",this.showMicPopup=!1,this.isRecording=!1,this._restartTimer&&(clearTimeout(this._restartTimer),this._restartTimer=null),this.popupTranscript="",this.cdr.detectChanges()}copyToClipboard(e,i){navigator.clipboard.writeText(e).then(()=>{this.copySuccessIndex=i,setTimeout(()=>{this.copySuccessIndex=null},2e3)}).catch(()=>{})}adjustTextareaHeight(e){let i=e.target;i.style.height="auto",i.style.height=`${i.scrollHeight}px`}handleEnterPress(e){if(this.isSpeaking&&!this.serverAudio){e.preventDefault();return}e.key==="Enter"&&(e.shiftKey?(e.preventDefault(),this.userInput+=`
`):(e.preventDefault(),this.handleButtonClick()))}handleButtonClick(){if(this.isAiResponding){this.stopAiResponse();return}if(this.userInput.trim().length>0){this.showQuestions=!1;let e=this.userInput;this.userInput="",this.sendMessage(e)}else this.isSpeaking&&!this.serverAudio?this.pauseAudio():this.isAudioPaused?this.resumeAudio():this.openMicrophonePopup()}normalizeTranscript(e){if(!e)return e;let i=e.trim(),r=[[/\b(full stop|period|dot)\b/gi,"."],[/\b(question mark|question)\b/gi,"?"],[/\b(exclamation mark|exclamation|exclaim)\b/gi,"!"],[/\b(comma)\b/gi,","],[/\b(colon)\b/gi,":"],[/\b(semicolon)\b/gi,";"],[/\b(ellipsis|dot dot dot|three dots)\b/gi,"..."],[/\b(new line|newline|new paragraph|line break)\b/gi,`
`],[/\b(open parenthesis|open bracket)\b/gi,"("],[/\b(close parenthesis|close bracket)\b/gi,")"],[/\b(double quote|quote|quotation)\b/gi,'"'],[/\b(single quote|apostrophe)\b/gi,"'"],[/\b(dash|hyphen)\b/gi,"-"],[/\b(percent|percent sign)\b/gi,"%"],[/\b(and sign|ampersand)\b/gi,"&"],[/\b(at sign)\b/gi,"@"],[/\b(forward slash|slash)\b/gi,"/"],[/\b(backslash)\b/gi,"\\\\"]];for(let[o,s]of r)i=i.replace(o,s);return i=i.replace(/\s+([,.:;?!%'\)\]\}])/g,"$1"),i=i.replace(/\s+([\(\[\{"'`])/g,"$1"),i=i.replace(/([.?!:;,%\)\]'"-]{1,3})(?!\s|\n|$)/g,"$1 "),i=i.replace(/[ \t]{2,}/g," "),i=i.split(`
`).map(o=>o.trim()).join(`
`),i=i.replace(/(^|[\n\.!\?]\s+)([a-z])/g,(o,s,a)=>s+a.toUpperCase()),i.trim()}startAnalyzer(){return We(this,null,function*(){if(Lt(this.platformId)&&!((!this.waveformCanvas||!this.waveformCanvas.nativeElement)&&(yield new Promise(e=>setTimeout(e,80)),!this.waveformCanvas||!this.waveformCanvas.nativeElement)))try{let e=window.AudioContext??window.webkitAudioContext;if(!this.audioContext||this.audioContext&&this.audioContext.state==="closed")this.audioContext=new e;else if(this.audioContext.state==="suspended")try{yield this.audioContext.resume()}catch{}if(this.mediaStream){try{this.mediaStream.getTracks().forEach(a=>a.stop())}catch{}this.mediaStream=null}let i=yield navigator.mediaDevices.getUserMedia({audio:!0});this.mediaStream=i;let r=this.audioContext.createMediaStreamSource(i);try{if(this.analyser)try{this.analyser.disconnect()}catch{}}catch{}let o=this.audioContext.createAnalyser();o.fftSize=2048,o.smoothingTimeConstant=.85,r.connect(o),this.analyser=o;let s=o.fftSize;this.dataArray=new Uint8Array(s),this.drawWaveform()}catch(e){try{this.mediaStream&&(this.mediaStream.getTracks().forEach(i=>i.stop()),this.mediaStream=null)}catch{}try{this.analyser&&(this.analyser.disconnect(),this.analyser=null)}catch{}throw this.dataArray=null,e}})}stopAnalyzer(){try{if(this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null),this.analyser){try{this.analyser.disconnect()}catch{}this.analyser=null}if(this.mediaStream){try{this.mediaStream.getTracks().forEach(e=>e.stop())}catch{}this.mediaStream=null}try{this.audioContext&&typeof this.audioContext.close=="function"?this.audioContext.close().catch(()=>{}).finally(()=>{this.audioContext=null}):this.audioContext=null}catch{this.audioContext=null}if(this.dataArray=null,this.waveformCanvas&&this.waveformCanvas.nativeElement){let e=this.waveformCanvas.nativeElement,i=e.getContext("2d");i&&i.clearRect(0,0,e.width,e.height)}}catch{}}drawWaveform(){if(!this.waveformCanvas||!this.waveformCanvas.nativeElement||!this.analyser||!this.dataArray)return;let e=this.waveformCanvas.nativeElement,i=e.getContext("2d");if(!i)return;let r=window.devicePixelRatio||1,o=()=>{let a=e.getBoundingClientRect(),c=Math.max(1,Math.floor(a.width*r)),h=Math.max(1,Math.floor(a.height*r));(e.width!==c||e.height!==h)&&(e.width=c,e.height=h)},s=()=>{if(!this.waveformCanvas||!this.waveformCanvas.nativeElement||!this.analyser||!this.dataArray){this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null);return}let a=e.getBoundingClientRect();if(a.width===0||a.height===0||!e.offsetParent){this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null);return}o();try{this.analyser.getByteTimeDomainData(this.dataArray)}catch{this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null);return}let c=0;for(let $=0;$<this.dataArray.length;$++){let F=this.dataArray[$]-128;c+=F*F}let h=Math.sqrt(c/this.dataArray.length)/128,f=Math.min(1,Math.max(0,h));i.clearRect(0,0,e.width,e.height);let p=e.height/2;i.save(),i.globalAlpha=.25,i.strokeStyle="#666",i.lineWidth=Math.max(1,1*r),i.setLineDash([2*r,3*r]),i.beginPath(),i.moveTo(0,p),i.lineTo(e.width,p),i.stroke(),i.setLineDash([]),i.restore(),i.lineWidth=Math.max(1,1*r),i.strokeStyle="rgba(37,168,90,0.95)",i.beginPath();let y=e.width/this.dataArray.length,v=0;for(let $=0;$<this.dataArray.length;$++){let ve=this.dataArray[$]/128*e.height/2,we=p-(ve-e.height/2)*.6;$===0?i.moveTo(v,we):i.lineTo(v,we),v+=y}i.stroke();let x=e.width*.7,E=Math.max(2*r,x*(.05+f*.95)),O=Math.max(4*r,6*r),R=(e.width-E)/2,j=p-O/2;i.save(),i.globalAlpha=.18+f*.3,i.fillStyle="#25a85a",i.fillRect(R-6*r,j-6*r,E+12*r,O+12*r),i.restore(),i.fillStyle="#25a85a",i.globalAlpha=1,i.fillRect(R,j,E,O),this.animationFrameId=requestAnimationFrame(s)};this.animationFrameId&&cancelAnimationFrame(this.animationFrameId),this.animationFrameId=requestAnimationFrame(s)}static{this.\u0275fac=function(i){return new(i||t)(C(Py),C(He),C(zn),C(Ze))}}static{this.\u0275cmp=me({type:t,selectors:[["app-chat"]],viewQuery:function(i,r){if(i&1&&(Ye(BA,5),Ye(UA,5)),i&2){let o;je(o=Be())&&(r.waveformCanvas=o.first),je(o=Be())&&(r.chatBox=o.first)}},standalone:!0,features:[Ue],decls:32,vars:24,consts:[["chatContent",""],["showCopy",""],["audioSpinner",""],["showPdfQs",""],["noPdfQs",""],["waveformCanvas",""],[1,"chat-container"],[3,"title"],["header-right","",1,"toggle-buttons-container","modern-toggle"],["title","Voice On/Off",1,"toggle-btn","modern",3,"click"],["alt","Voice Toggle",1,"toggle-icon",3,"src"],["title","Tutor On/Off",1,"toggle-btn","modern",3,"click"],["alt","Tutor",1,"toggle-icon",3,"src"],["disabled","","title","Syllabus On/Off",1,"toggle-btn","modern",3,"click"],["alt","Syllabus",1,"toggle-icon",3,"src"],["disabled","","title","Breadcrumb On/Off",1,"toggle-btn","modern",3,"click"],["src","assets/images/chat/breadcrumbs.png","alt","Breadcrumb",1,"toggle-icon"],["title","Open User Guide",1,"toggle-btn","modern",3,"click"],["src","assets/images/chat/info.png","alt","User Guide",1,"toggle-icon"],["src","assets/images/grammar-bg.png","alt","Chat Background",1,"grammar-bg"],[1,"chat-box"],[4,"ngFor","ngForOf"],["class","typing-indicator","aria-live","polite",4,"ngIf"],[1,"input-container"],[1,"input-box"],["placeholder","Type your message here...",3,"ngModelChange","focus","blur","input","keydown","ngModel","disabled"],["aria-label","Send or voice",3,"click","disabled"],["alt","Action",1,"button-icon",3,"src"],["type","button","aria-label","Scroll to bottom",1,"scroll-to-bottom-btn",3,"click"],["class","hardcoded-questions-container",4,"ngIf"],["class","mic-popup",4,"ngIf"],["class","user-guide-overlay",3,"click",4,"ngIf"],[2,"width","20vw","height","20vw","position","absolute","bottom","5vw","right","6vw"],["src","assets/pronunciation/listening.mp4","autoplay","","loop","","muted","",2,"width","100%","height","100%","object-fit","cover"],["class","tutor-video","controls","","autoplay","",3,"src","ended","error",4,"ngIf"],["class","message-wrapper user",4,"ngIf"],["class","message-wrapper ai",4,"ngIf"],[1,"message-wrapper","user"],[1,"profile-pic"],["src","assets/images/chat/rabbit.png","alt","User"],[1,"message"],[1,"message-timestamp"],[1,"message-wrapper","ai"],["src","assets/images/chat/natasha.png","alt","AI"],[1,"message","structured-response"],[3,"innerHTML"],["class","followups",4,"ngIf"],["title","Copy message",1,"icon-btn",3,"click"],[4,"ngIf","ngIfElse"],["class","icon-btn","aria-label","Play audio","title","Play audio",3,"click",4,"ngIf"],["class","icon-btn","aria-label","Stop audio","title","Stop audio",3,"click",4,"ngIf"],["class","icon-btn","aria-label","Generate audio","title","Generate audio",3,"disabled","click",4,"ngIf"],["class","icon-btn","aria-label","Generate video","title","Generate video",3,"click",4,"ngIf"],["class","icon-btn","disabled","",4,"ngIf"],["class","icon-btn","aria-label","Toggle video","title","Toggle video",3,"active","click",4,"ngIf"],[2,"width","20vw","height","20vw","position","absolute","bottom","5vw","right","6vw","z-index","2"],["style","width:100%; height:100%; object-fit:cover;","autoplay","",3,"src","ended",4,"ngIf"],[1,"followups"],[1,"followups-title"],["class","followup-chip","title","Ask this next",3,"click",4,"ngFor","ngForOf"],["title","Ask this next",1,"followup-chip",3,"click"],[1,"copy-tick"],["src","assets/images/chat/copy.png","alt","Copy",1,"meta-icon"],["aria-label","Play audio","title","Play audio",1,"icon-btn",3,"click"],["src","assets/images/chat/speaker.png","alt","Play audio",1,"meta-icon"],["aria-label","Stop audio","title","Stop audio",1,"icon-btn",3,"click"],["src","assets/images/chat/stop-button.png","alt","Stop audio",1,"meta-icon"],["aria-label","Generate audio","title","Generate audio",1,"icon-btn",3,"click","disabled"],["src","assets/images/chat/speaker.png","alt","Generate audio",1,"meta-icon"],["src","assets/images/chat/loading-spinner.gif","alt","Generating audio",1,"meta-icon"],["aria-label","Generate video","title","Generate video",1,"icon-btn",3,"click"],["src","assets/images/chat/video.png","alt","Generate video",1,"meta-icon"],["disabled","",1,"icon-btn"],["src","assets/images/chat/loading-spinner.gif","alt","Generating video",1,"meta-icon"],["aria-label","Toggle video","title","Toggle video",1,"icon-btn",3,"click"],["alt","Video",1,"meta-icon",3,"src"],["autoplay","",2,"width","100%","height","100%","object-fit","cover",3,"ended","src"],["aria-live","polite",1,"typing-indicator"],[1,"hardcoded-questions-container"],["class","loading-row",4,"ngIf"],[4,"ngIf"],[1,"loading-row"],[1,"hint-row"],["class","hardcoded-question",3,"disabled","mousedown",4,"ngFor","ngForOf"],[1,"hardcoded-question",3,"mousedown","disabled"],[1,"hardcoded-question","disabled"],[1,"mic-popup"],[1,"mic-header"],[1,"close",3,"click"],[1,"mic-body"],["aria-hidden","true",1,"waveform"],[1,"transcript-area"],[1,"status"],[1,"dot"],[1,"popup-transcript"],["class","hint",4,"ngIf"],["class","empty",4,"ngIf"],["class","error",4,"ngIf"],[1,"mic-actions"],[3,"click","disabled"],[3,"click"],[1,"hint"],[1,"empty"],[1,"error"],[1,"user-guide-overlay",3,"click"],[1,"user-guide-modal",3,"click"],["aria-label","Close",1,"user-guide-close-icon",3,"click"],[1,"user-guide-content"],[2,"text-align","justify","font-size","15px"],[2,"list-style","unset","margin-left","1.25rem"],["controls","","autoplay","",1,"tutor-video",3,"ended","error","src"]],template:function(i,r){if(i&1){let o=V();d(0,"div",6)(1,"app-header",7)(2,"div",8)(3,"button",9),D("click",function(){return I(o),S(r.toggleVoice())}),_(4,"img",10),l(),d(5,"button",11),D("click",function(){return I(o),S(r.toggleTutor())}),_(6,"img",12),l(),d(7,"button",13),D("click",function(){return I(o),S(r.toggleSyllabus())}),_(8,"img",14),l(),d(9,"button",15),D("click",function(){return I(o),S(r.toggleBreadcrumb())}),_(10,"img",16),l(),d(11,"button",17),D("click",function(){return I(o),S(r.openUserGuide())}),_(12,"img",18),l()()(),_(13,"img",19),d(14,"div",20,0),P(16,iO,3,2,"div",21)(17,rO,5,0,"div",22),l(),d(18,"div",23)(19,"div",24)(20,"textarea",25),Vo("ngModelChange",function(a){return I(o),_c(r.userInput,a)||(r.userInput=a),S(a)}),D("focus",function(){return I(o),S(r.showHardcodedQuestions())})("blur",function(){return I(o),S(r.hideHardcodedQuestions())})("input",function(a){return I(o),S(r.adjustTextareaHeight(a))})("keydown",function(a){return I(o),S(r.handleEnterPress(a))}),u(21,"      "),l(),d(22,"button",26),D("click",function(){return I(o),S(r.handleButtonClick())}),_(23,"img",27),l()(),d(24,"button",28),D("click",function(){return I(o),S(r.scrollToBottom(!0))}),u(25," \u2193 "),l(),P(26,fO,3,2,"div",29),l(),P(27,vO,26,9,"div",30)(28,yO,129,0,"div",31),d(29,"div",32),_(30,"video",33),l(),P(31,bO,1,1,"video",34),l()}i&2&&(m(),g("title","Grammar Chat"),m(2),ce("active",r.isVoiceEnabled)("muted",!r.isVoiceEnabled),m(),g("src",r.isVoiceEnabled?"assets/images/chat/volume.png":"assets/images/chat/volume-mute.png",ee),m(),ce("active",r.isTutorEnabled),m(),g("src",r.isTutorEnabled?"assets/images/chat/video.png":"assets/images/chat/no-video.png",ee),m(),ce("active",r.isSyllabusEnabled),m(),g("src",r.isSyllabusEnabled?"assets/images/chat/syllabus.png":"assets/images/chat/internet.png",ee),m(),ce("active",r.isBreadcrumbEnabled),m(7),g("ngForOf",r.messages),m(),g("ngIf",r.isTyping),m(3),Lo("ngModel",r.userInput),g("disabled",r.isAiResponding),m(2),g("disabled",r.isListening&&!r.showMicPopup),m(),g("src",r.getButtonIcon(),ee),m(3),g("ngIf",r.showQuestions),m(),g("ngIf",r.showMicPopup),m(),g("ngIf",r.showUserGuide),m(3),g("ngIf",r.isTutorEnabled&&r.videoUrl))},dependencies:[Hr,Cn,fi,Xo,wt,di,ct,Sl],styles:['.chat-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh;width:100%;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.chat-box[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow-y:auto;height:375px;padding:2vw;background-color:#2322206e;scroll-behavior:smooth;flex-grow:1;padding-bottom:375px;scroll-padding-bottom:375px}.input-container[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;width:100%;position:sticky;bottom:0;z-index:10}.input-box[_ngcontent-%COMP%]{display:flex;gap:10px;padding:8px;background:#009688;box-shadow:0 -2px 4px #0000001a;flex-shrink:0;width:100%;height:auto;min-height:40px;font-weight:700}.input-box[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{flex:1;height:auto;max-height:80px;overflow-y:auto;resize:none;padding:8px;font-size:1vw;line-height:1.2;border:1px solid rgb(93,145,195);border-radius:8px;background:#fff;color:#000;outline:none;transition:border-color .3s ease,box-shadow .3s ease;width:100%;box-sizing:border-box}.input-box[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#87b9eb;box-shadow:0 0 5px #5d91c399}.input-box[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#ffffff80}.input-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:55px;height:55px;display:flex;align-items:center;justify-content:center;background:#fff;border:none;border-radius:8px;cursor:pointer}.input-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 4px 10px #0ea5e966}.button-icon[_ngcontent-%COMP%]{width:34px;height:34px;object-fit:contain}.hardcoded-questions-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;gap:15px;padding:10px;background:#ffffff1a;border-radius:8px;margin-bottom:5px;flex-wrap:wrap;position:absolute;bottom:60px;left:10px;width:auto}.hardcoded-question[_ngcontent-%COMP%]{padding:10px 15px;background:#c8c8c84d;border-radius:5px;font-size:14px;font-weight:700;cursor:pointer;transition:background .3s ease,transform .2s ease;white-space:nowrap;border:1px solid rgba(0,0,0,.2)}.hardcoded-question[_ngcontent-%COMP%]:hover{background:#b4b4b480;transform:scale(1.05)}@media (max-width: 600px){.hardcoded-questions-container[_ngcontent-%COMP%]{width:90%;bottom:80px;left:10px}.hardcoded-question[_ngcontent-%COMP%]{font-size:12px;padding:8px 12px}}.message-wrapper[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1vw;margin-bottom:1vw}.message-wrapper.user[_ngcontent-%COMP%]{flex-direction:row-reverse;text-align:right}.message-wrapper.ai[_ngcontent-%COMP%]{flex-direction:row;text-align:left}.profile-pic[_ngcontent-%COMP%]{width:4vw;height:4vw;border-radius:50%;overflow:hidden;background-color:#ddd}.profile-pic[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.ai[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{align-self:flex-start;background:#56cdc273;color:#fff}.user[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{align-self:flex-end;background:#56cdc273;color:#fff}.message-timestamp[_ngcontent-%COMP%]{font-size:.8vw;color:#fffc;margin-top:.5vw;display:inline-block;text-align:right}.message[_ngcontent-%COMP%]{max-width:50vw;padding:1vw 2vw;border-radius:2vw;font-size:1vw;font-weight:600;line-height:1.5;box-shadow:0 .3vw .8vw #0000001a;background:#2b6296;color:#fff}.structured-response[_ngcontent-%COMP%]{background:#2b6296;color:#fff;padding:1vw;border-radius:1vw;margin-bottom:.3vw;box-shadow:0 .3vw .8vw #0000001a;line-height:1.4;max-width:48vw;word-break:break-word}.structured-response[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{display:inline-block;margin-top:.3vw}.structured-response[_ngcontent-%COMP%]   br[_ngcontent-%COMP%]{display:block;content:"";margin:.2vw 0}.structured-response[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .structured-response[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{padding-left:1.2vw;margin-bottom:0}.structured-response[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .structured-response[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.2vw;line-height:1.4}.message[_ngcontent-%COMP%], .structured-response[_ngcontent-%COMP%]{scroll-margin-bottom:var(--input-gap, 120px)}.scroll-to-bottom-btn[_ngcontent-%COMP%]{position:fixed;right:16px;bottom:calc(var(--input-gap, 120px) + 16px);width:51px;height:51px;border-radius:50%;border:none;background:#56cdc2;color:#fff;font-size:31px;box-shadow:0 6px 16px #00000040;cursor:pointer;transition:transform .15s ease,box-shadow .2s ease,background .2s ease;z-index:20}.scroll-to-bottom-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 10px 22px #0000004d;background:#56cdc2}.toggle-buttons-container[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center;margin-right:15px}.toggle-buttons-container.modern-toggle[_ngcontent-%COMP%]{display:flex;gap:18px;align-items:center;margin-right:15px}.toggle-btn[_ngcontent-%COMP%]{padding:8px 12px;border:2px solid #5d91c3;background:transparent;color:#fff;border-radius:20px;cursor:pointer;font-size:.9vw;font-weight:700;transition:all .3s ease;min-width:49px;white-space:nowrap}.toggle-btn[_ngcontent-%COMP%]:hover{background:#5d91c333;transform:scale(1.05)}.toggle-btn.active[_ngcontent-%COMP%]{background:#5d91c3;color:#fff;box-shadow:0 0 10px #5d91c380}.toggle-btn.modern[_ngcontent-%COMP%]{background:#f5f7fa;border:none;border-radius:24px;box-shadow:0 2px 8px #5d91c314;padding:8px 16px;display:flex;align-items:center;transition:background .2s,box-shadow .2s,transform .2s;cursor:pointer;min-width:48px;height:44px}.toggle-btn.modern[_ngcontent-%COMP%]   .toggle-icon[_ngcontent-%COMP%]{width:24px;height:24px;margin:0 auto;display:block}.toggle-btn.modern.active[_ngcontent-%COMP%]{background:#e3fcec;box-shadow:0 4px 16px #5d91c32e;transform:scale(1.08)}.toggle-btn.modern.muted[_ngcontent-%COMP%]{background:#ffeaea}.toggle-btn.modern[_ngcontent-%COMP%]:hover{background:#eaf1fb;box-shadow:0 6px 18px #5d91c32e;transform:scale(1.05)}.toggle-btn.modern[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;box-shadow:none}@media (max-width: 1200px){.toggle-btn[_ngcontent-%COMP%]{font-size:.8vw;min-width:70px;padding:6px 10px}}@media (max-width: 768px){.toggle-buttons-container[_ngcontent-%COMP%]{gap:5px;margin-right:10px}.toggle-btn[_ngcontent-%COMP%]{font-size:.7vw;min-width:60px;padding:4px 8px}}.icon-btn[_ngcontent-%COMP%]{background:none;border:none;padding:4px;cursor:pointer;border-radius:4px;transition:background .2s;margin-left:.5vw}.icon-btn[_ngcontent-%COMP%]:hover{background:#5d91c326}.meta-icon[_ngcontent-%COMP%]{width:20px;height:20px;display:inline-flex;align-items:center;justify-content:center;vertical-align:middle}.copy-tick[_ngcontent-%COMP%]{color:#fff;font-size:20px;font-weight:700;width:20px;height:20px;display:inline-flex;align-items:center;justify-content:center;vertical-align:middle;transition:color .2s}.tutor-video[_ngcontent-%COMP%]{position:fixed;right:24px;bottom:80px;width:380px;height:380px;border-radius:12px;box-shadow:0 4px 16px #00000040;z-index:2000;background:#000}@media (max-width: 600px){.tutor-video[_ngcontent-%COMP%]{width:90vw;height:28vw;right:5vw;bottom:5vw}}.typing-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#fff;font-size:1.2vw;margin-left:4vw;margin-top:1vw;background:#fff3;padding:.8vw 1.5vw;border-radius:2vw;width:fit-content;animation:_ngcontent-%COMP%_fadeIn .3s ease-in-out}.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:10px;height:10px;background-color:#fff;border-radius:50%;display:inline-block;animation:_ngcontent-%COMP%_typingDots 1.5s infinite ease-in-out}.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){animation-delay:0s}.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){animation-delay:.4s}@keyframes _ngcontent-%COMP%_typingDots{0%,to{transform:scale(.8);opacity:.3}50%{transform:scale(1);opacity:1}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(5px)}to{opacity:1;transform:translateY(0)}}.mic-popup[_ngcontent-%COMP%]{position:fixed;left:50%;top:18%;transform:translate(-50%);width:420px;background:#fff;border-radius:10px;box-shadow:0 10px 30px #00000026;z-index:1200;overflow:hidden;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial}.mic-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 14px;border-bottom:1px solid #eee}.mic-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{background:transparent;border:none;font-size:16px;cursor:pointer}.mic-body[_ngcontent-%COMP%]{padding:12px;display:flex;flex-direction:column;gap:10px}.waveform[_ngcontent-%COMP%]{width:100%;height:90px;background:#fafafa;border-radius:6px;display:block}.transcript-area[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.status[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#444;font-size:13px}.status[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;background:#bbb;display:inline-block}.status[_ngcontent-%COMP%]   .dot.recording[_ngcontent-%COMP%]{background:#d23;box-shadow:0 0 8px #d2232359}.popup-transcript[_ngcontent-%COMP%]{min-height:52px;background:#f7f8fa;padding:8px;border-radius:6px;white-space:pre-wrap;font-size:14px;color:#222}.popup-transcript[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{color:#666;font-size:13px}.popup-transcript[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{margin:0;font-family:inherit;white-space:pre-wrap}.mic-actions[_ngcontent-%COMP%]{display:flex;gap:8px;justify-content:flex-end;margin-top:6px}.mic-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 10px;border-radius:6px;border:1px solid #ddd;background:#fff;cursor:pointer}.mic-actions[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.error[_ngcontent-%COMP%]{color:#b00020;font-size:13px}.user-guide-modal[_ngcontent-%COMP%]{position:fixed;top:52%;left:50%;transform:translate(-50%,-50%);height:38vw;width:50vw;background:linear-gradient(135deg,#fff 80%,#e3fcec);color:#222;box-shadow:0 12px 40px #5d91c338;border-radius:18px;padding:1vw;z-index:2001;overflow:visible;border:10px solid var(--main-accent-color);box-sizing:border-box}.user-guide-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000059;z-index:2000}.user-guide-close-icon[_ngcontent-%COMP%]{top:-22px;right:-22px}.user-guide-modal[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{overflow-y:auto;max-height:34.6vw}.user-guide-modal[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:1.7;font-size:1.1vw;background:#5d91c312;padding:.5vw;box-shadow:0 2px 8px #5d91c30f}.user-guide-modal[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{color:#2b6296;font-size:1.15vw}@keyframes _ngcontent-%COMP%_blink{0%,50%{opacity:1}51%,to{opacity:0}}']})}}return t})();function Cs(t,n=0){return wO(t)?Number(t):n}function wO(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function Jr(t){return Array.isArray(t)?t:[t]}function $e(t){return t==null?"":typeof t=="string"?t:`${t}px`}function Gn(t){return t instanceof le?t.nativeElement:t}var jf;try{jf=typeof Intl<"u"&&Intl.v8BreakIterator}catch{jf=!1}var Ge=(()=>{class t{constructor(e){this._platformId=e,this.isBrowser=this._platformId?Lt(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||jf)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(i){return new(i||t)(b(Ze))}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var xs;function CO(){if(xs==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>xs=!0}))}finally{xs=xs||!1}return xs}function eo(t){return CO()?t:!!t.capture}var Yi;function Ny(){if(Yi==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Yi=!1,Yi;if("scrollBehavior"in document.documentElement.style)Yi=!0;else{let t=Element.prototype.scrollTo;t?Yi=!/\{\s*\[native code\]\s*\}/.test(t.toString()):Yi=!1}}return Yi}var Vf;function xO(){if(Vf==null){let t=typeof document<"u"?document.head:null;Vf=!!(t&&(t.createShadowRoot||t.attachShadow))}return Vf}function Fy(t){if(xO()){let n=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}function Ds(){let t=typeof document<"u"&&document?document.activeElement:null;for(;t&&t.shadowRoot;){let n=t.shadowRoot.activeElement;if(n===t)break;t=n}return t}function an(t){return t.composedPath?t.composedPath()[0]:t.target}function Es(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var DO=new k("cdk-dir-doc",{providedIn:"root",factory:EO});function EO(){return T(Q)}var IO=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function SO(t){let n=t?.toLowerCase()||"";return n==="auto"&&typeof navigator<"u"&&navigator?.language?IO.test(navigator.language)?"rtl":"ltr":n==="rtl"?"rtl":"ltr"}var Ss=(()=>{class t{constructor(e){if(this.value="ltr",this.change=new se,e){let i=e.body?e.body.dir:null,r=e.documentElement?e.documentElement.dir:null;this.value=SO(i||r||"ltr")}}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(i){return new(i||t)(b(DO,8))}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var yi=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Y({type:t})}static{this.\u0275inj=q({})}}return t})();var TO=20,Vy=(()=>{class t{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new H,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=TO){return this._platform.isBrowser?new J(i=>{this._globalSubscription||this._addGlobalListener();let r=e>0?this._scrolled.pipe(aa(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):L()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){let r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Me(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){let i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Gn(i),o=e.getElementRef().nativeElement;do if(r==o)return!0;while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let e=this._getWindow();return ho(e.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(i){return new(i||t)(b(B),b(Ge),b(Q,8))}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var AO=20,Bf=(()=>{class t{constructor(e,i,r){this._platform=e,this._change=new H,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){let o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect(),s=-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,a=-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0;return{top:s,left:a}}change(e=AO){return e>0?this._change.pipe(aa(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(i){return new(i||t)(b(Ge),b(B),b(Q,8))}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Ly=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Y({type:t})}static{this.\u0275inj=q({})}}return t})(),Uf=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Y({type:t})}static{this.\u0275inj=q({imports:[yi,Ly,yi,Ly]})}}return t})();var Ms=class{attach(n){return this._attachedHost=n,n.attach(this)}detach(){let n=this._attachedHost;n!=null&&(this._attachedHost=null,n.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(n){this._attachedHost=n}},to=class extends Ms{constructor(n,e,i,r,o){super(),this.component=n,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}},no=class extends Ms{constructor(n,e,i,r){super(),this.templateRef=n,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(n,e=this.context){return this.context=e,super.attach(n)}detach(){return this.context=void 0,super.detach()}},$f=class extends Ms{constructor(n){super(),this.element=n instanceof le?n.nativeElement:n}},io=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(n){if(n instanceof to)return this._attachedPortal=n,this.attachComponentPortal(n);if(n instanceof no)return this._attachedPortal=n,this.attachTemplatePortal(n);if(this.attachDomPortal&&n instanceof $f)return this._attachedPortal=n,this.attachDomPortal(n)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(n){this._disposeFn=n}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Ml=class extends io{constructor(n,e,i,r,o){super(),this.outletElement=n,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{this._document;let a=s.element;a.parentNode;let c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=o}attachComponentPortal(n){let i=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component),r;return n.viewContainerRef?(r=n.viewContainerRef.createComponent(i,n.viewContainerRef.length,n.injector||n.viewContainerRef.injector,n.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(n.injector||this._defaultInjector||Fe.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=n,r}attachTemplatePortal(n){let e=n.viewContainerRef,i=e.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);r!==-1&&e.remove(r)}),this._attachedPortal=n,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(n){return n.hostView.rootNodes[0]}};var Ts=(()=>{class t extends io{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new se,this.attachDomPortal=o=>{this._document;let s=o.element;s.parentNode;let a=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);let i=e.viewContainerRef!=null?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),s=i.createComponent(o,i.length,e.injector||i.injector,e.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=e,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(e){e.setAttachedHost(this);let i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){let e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static{this.\u0275fac=function(i){return new(i||t)(C(ai),C(Dt),C(Q))}}static{this.\u0275dir=pe({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[W.None,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[Ke]})}}return t})();var Qi=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Y({type:t})}static{this.\u0275inj=q({})}}return t})();function Tl(t,...n){return n.length?n.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}var jy=Ny(),Hf=class{constructor(n,e){this._viewportRuler=n,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){let n=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=n.style.left||"",this._previousHTMLStyles.top=n.style.top||"",n.style.left=$e(-this._previousScrollPosition.left),n.style.top=$e(-this._previousScrollPosition.top),n.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let n=this._document.documentElement,e=this._document.body,i=n.style,r=e.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,n.classList.remove("cdk-global-scrollblock"),jy&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),jy&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}};var zf=class{constructor(n,e,i,r){this._scrollDispatcher=n,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(n){this._overlayRef,this._overlayRef=n}enable(){if(this._scrollSubscription)return;let n=this._scrollDispatcher.scrolled(0).pipe(Me(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=n.subscribe(()=>{let e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=n.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Al=class{enable(){}disable(){}attach(){}};function Gf(t,n){return n.some(e=>{let i=t.bottom<e.top,r=t.top>e.bottom,o=t.right<e.left,s=t.left>e.right;return i||r||o||s})}function By(t,n){return n.some(e=>{let i=t.top<e.top,r=t.bottom>e.bottom,o=t.left<e.left,s=t.right>e.right;return i||r||o||s})}var Wf=class{constructor(n,e,i,r){this._scrollDispatcher=n,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(n){this._overlayRef,this._overlayRef=n}enable(){if(!this._scrollSubscription){let n=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(n).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();Gf(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},kO=(()=>{class t{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new Al,this.close=s=>new zf(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new Hf(this._viewportRuler,this._document),this.reposition=s=>new Wf(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}static{this.\u0275fac=function(i){return new(i||t)(b(Vy),b(Bf),b(B),b(Q))}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),As=class{constructor(n){if(this.scrollStrategy=new Al,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,n){let e=Object.keys(n);for(let i of e)n[i]!==void 0&&(this[i]=n[i])}}};var qf=class{constructor(n,e){this.connectionPair=n,this.scrollableViewProperties=e}};var Gy=(()=>{class t{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){let i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}static{this.\u0275fac=function(i){return new(i||t)(b(Q))}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),PO=(()=>{class t extends Gy{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{let o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){let a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(i){return new(i||t)(b(Q),b(B,8))}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),RO=(()=>{class t extends Gy{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=an(o)},this._clickListener=o=>{let s=an(o),a=o.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;let c=this._attachedOverlays.slice();for(let h=c.length-1;h>-1;h--){let f=c[h];if(f._outsidePointerEvents.observers.length<1||!f.hasAttached())continue;if(f.overlayElement.contains(s)||f.overlayElement.contains(a))break;let p=f._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>p.next(o)):p.next(o)}}}add(e){if(super.add(e),!this._isAttached){let i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(i){return new(i||t)(b(Q),b(Ge),b(B,8))}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ro=(()=>{class t{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e="cdk-overlay-container";if(this._platform.isBrowser||Es()){let r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}let i=this._document.createElement("div");i.classList.add(e),Es()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static{this.\u0275fac=function(i){return new(i||t)(b(Q),b(Ge))}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Wn=class{constructor(n,e,i,r,o,s,a,c,h,f=!1){this._portalOutlet=n,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=c,this._outsideClickDispatcher=h,this._animationsDisabled=f,this._backdropElement=null,this._backdropClick=new H,this._attachments=new H,this._detachments=new H,this._locationChanges=Ie.EMPTY,this._backdropClickHandler=p=>this._backdropClick.next(p),this._backdropTransitionendHandler=p=>{this._disposeBackdrop(p.target)},this._keydownEvents=new H,this._outsidePointerEvents=new H,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(n){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let e=this._portalOutlet.attach(n);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(qe(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof e?.onDestroy=="function"&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let n=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),n}dispose(){let n=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,n&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(n){n!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=n,this.hasAttached()&&(n.attach(this),this.updatePosition()))}updateSize(n){this._config=A(A({},this._config),n),this._updateElementSize()}setDirection(n){this._config=fe(A({},this._config),{direction:n}),this._updateElementDirection()}addPanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!0)}removePanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!1)}getDirection(){let n=this._config.direction;return n?typeof n=="string"?n:n.value:"ltr"}updateScrollStrategy(n){n!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=n,this.hasAttached()&&(n.attach(this),n.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let n=this._pane.style;n.width=$e(this._config.width),n.height=$e(this._config.height),n.minWidth=$e(this._config.minWidth),n.minHeight=$e(this._config.minHeight),n.maxWidth=$e(this._config.maxWidth),n.maxHeight=$e(this._config.maxHeight)}_togglePointerEvents(n){this._pane.style.pointerEvents=n?"":"none"}_attachBackdrop(){let n="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(n)})}):this._backdropElement.classList.add(n)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let n=this._backdropElement;if(n){if(this._animationsDisabled){this._disposeBackdrop(n);return}n.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{n.addEventListener("transitionend",this._backdropTransitionendHandler)}),n.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(n)},500))}}_toggleClasses(n,e,i){let r=Jr(e||[]).filter(o=>!!o);r.length&&(i?n.classList.add(...r):n.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{let n=this._ngZone.onStable.pipe(ft(fo(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),n.unsubscribe())})})}_disposeScrollStrategy(){let n=this._scrollStrategy;n&&(n.disable(),n.detach&&n.detach())}_disposeBackdrop(n){n&&(n.removeEventListener("click",this._backdropClickHandler),n.removeEventListener("transitionend",this._backdropTransitionendHandler),n.remove(),this._backdropElement===n&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},Uy="cdk-overlay-connected-position-bounding-box",NO=/([A-Za-z%]+)$/,Yf=class{get positions(){return this._preferredPositions}constructor(n,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new H,this._resizeSubscription=Ie.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(n)}attach(n){this._overlayRef&&this._overlayRef,this._validatePositions(),n.hostElement.classList.add(Uy),this._overlayRef=n,this._boundingBox=n.hostElement,this._pane=n.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let n=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[],s;for(let a of this._preferredPositions){let c=this._getOriginPoint(n,r,a),h=this._getOverlayPoint(c,e,a),f=this._getOverlayFit(h,e,i,a);if(f.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,c);return}if(this._canFitWithFlexibleDimensions(f,h,i)){o.push({position:a,origin:c,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(c,a)});continue}(!s||s.overlayFit.visibleArea<f.visibleArea)&&(s={overlayFit:f,overlayPoint:h,originPoint:c,position:a,overlayRect:e})}if(o.length){let a=null,c=-1;for(let h of o){let f=h.boundingBoxRect.width*h.boundingBoxRect.height*(h.position.weight||1);f>c&&(c=f,a=h)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Zi(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Uy),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let n=this._lastPosition;if(n){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._getOriginPoint(this._originRect,this._containerRect,n);this._applyPosition(n,e)}else this.apply()}withScrollableContainers(n){return this._scrollables=n,this}withPositions(n){return this._preferredPositions=n,n.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(n){return this._viewportMargin=n,this}withFlexibleDimensions(n=!0){return this._hasFlexibleDimensions=n,this}withGrowAfterOpen(n=!0){return this._growAfterOpen=n,this}withPush(n=!0){return this._canPush=n,this}withLockedPosition(n=!0){return this._positionLocked=n,this}setOrigin(n){return this._origin=n,this}withDefaultOffsetX(n){return this._offsetX=n,this}withDefaultOffsetY(n){return this._offsetY=n,this}withTransformOriginOn(n){return this._transformOriginSelector=n,this}_getOriginPoint(n,e,i){let r;if(i.originX=="center")r=n.left+n.width/2;else{let s=this._isRtl()?n.right:n.left,a=this._isRtl()?n.left:n.right;r=i.originX=="start"?s:a}e.left<0&&(r-=e.left);let o;return i.originY=="center"?o=n.top+n.height/2:o=i.originY=="top"?n.top:n.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(n,e,i){let r;i.overlayX=="center"?r=-e.width/2:i.overlayX==="start"?r=this._isRtl()?-e.width:0:r=this._isRtl()?0:-e.width;let o;return i.overlayY=="center"?o=-e.height/2:o=i.overlayY=="top"?0:-e.height,{x:n.x+r,y:n.y+o}}_getOverlayFit(n,e,i,r){let o=Hy(e),{x:s,y:a}=n,c=this._getOffset(r,"x"),h=this._getOffset(r,"y");c&&(s+=c),h&&(a+=h);let f=0-s,p=s+o.width-i.width,y=0-a,v=a+o.height-i.height,x=this._subtractOverflows(o.width,f,p),E=this._subtractOverflows(o.height,y,v),O=x*E;return{visibleArea:O,isCompletelyWithinViewport:o.width*o.height===O,fitsInViewportVertically:E===o.height,fitsInViewportHorizontally:x==o.width}}_canFitWithFlexibleDimensions(n,e,i){if(this._hasFlexibleDimensions){let r=i.bottom-e.y,o=i.right-e.x,s=$y(this._overlayRef.getConfig().minHeight),a=$y(this._overlayRef.getConfig().minWidth),c=n.fitsInViewportVertically||s!=null&&s<=r,h=n.fitsInViewportHorizontally||a!=null&&a<=o;return c&&h}return!1}_pushOverlayOnScreen(n,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:n.x+this._previousPushAmount.x,y:n.y+this._previousPushAmount.y};let r=Hy(e),o=this._viewportRect,s=Math.max(n.x+r.width-o.width,0),a=Math.max(n.y+r.height-o.height,0),c=Math.max(o.top-i.top-n.y,0),h=Math.max(o.left-i.left-n.x,0),f=0,p=0;return r.width<=o.width?f=h||-s:f=n.x<this._viewportMargin?o.left-i.left-n.x:0,r.height<=o.height?p=c||-a:p=n.y<this._viewportMargin?o.top-i.top-n.y:0,this._previousPushAmount={x:f,y:p},{x:n.x+f,y:n.y+p}}_applyPosition(n,e){if(this._setTransformOrigin(n),this._setOverlayElementStyles(e,n),this._setBoundingBoxStyles(e,n),n.panelClass&&this._addPanelClasses(n.panelClass),this._positionChanges.observers.length){let i=this._getScrollVisibility();if(n!==this._lastPosition||!this._lastScrollVisibility||!FO(this._lastScrollVisibility,i)){let r=new qf(n,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=n,this._isInitialRender=!1}_setTransformOrigin(n){if(!this._transformOriginSelector)return;let e=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,r=n.overlayY;n.overlayX==="center"?i="center":this._isRtl()?i=n.overlayX==="start"?"right":"left":i=n.overlayX==="start"?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(n,e){let i=this._viewportRect,r=this._isRtl(),o,s,a;if(e.overlayY==="top")s=n.y,o=i.height-s+this._viewportMargin;else if(e.overlayY==="bottom")a=i.height-n.y+this._viewportMargin*2,o=i.height-a+this._viewportMargin;else{let v=Math.min(i.bottom-n.y+i.top,n.y),x=this._lastBoundingBoxSize.height;o=v*2,s=n.y-v,o>x&&!this._isInitialRender&&!this._growAfterOpen&&(s=n.y-x/2)}let c=e.overlayX==="start"&&!r||e.overlayX==="end"&&r,h=e.overlayX==="end"&&!r||e.overlayX==="start"&&r,f,p,y;if(h)y=i.width-n.x+this._viewportMargin*2,f=n.x-this._viewportMargin;else if(c)p=n.x,f=i.right-n.x;else{let v=Math.min(i.right-n.x+i.left,n.x),x=this._lastBoundingBoxSize.width;f=v*2,p=n.x-v,f>x&&!this._isInitialRender&&!this._growAfterOpen&&(p=n.x-x/2)}return{top:s,left:p,bottom:a,right:y,width:f,height:o}}_setBoundingBoxStyles(n,e){let i=this._calculateBoundingBoxRect(n,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=$e(i.height),r.top=$e(i.top),r.bottom=$e(i.bottom),r.width=$e(i.width),r.left=$e(i.left),r.right=$e(i.right),e.overlayX==="center"?r.alignItems="center":r.alignItems=e.overlayX==="end"?"flex-end":"flex-start",e.overlayY==="center"?r.justifyContent="center":r.justifyContent=e.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=$e(o)),s&&(r.maxWidth=$e(s))}this._lastBoundingBoxSize=i,Zi(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Zi(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Zi(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(n,e){let i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){let f=this._viewportRuler.getViewportScrollPosition();Zi(i,this._getExactOverlayY(e,n,f)),Zi(i,this._getExactOverlayX(e,n,f))}else i.position="static";let a="",c=this._getOffset(e,"x"),h=this._getOffset(e,"y");c&&(a+=`translateX(${c}px) `),h&&(a+=`translateY(${h}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=$e(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=$e(s.maxWidth):o&&(i.maxWidth="")),Zi(this._pane.style,i)}_getExactOverlayY(n,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,n);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),n.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;r.bottom=`${s-(o.y+this._overlayRect.height)}px`}else r.top=$e(o.y);return r}_getExactOverlayX(n,e,i){let r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,n);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i));let s;if(this._isRtl()?s=n.overlayX==="end"?"left":"right":s=n.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;r.right=`${a-(o.x+this._overlayRect.width)}px`}else r.left=$e(o.x);return r}_getScrollVisibility(){let n=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:By(n,i),isOriginOutsideView:Gf(n,i),isOverlayClipped:By(e,i),isOverlayOutsideView:Gf(e,i)}}_subtractOverflows(n,...e){return e.reduce((i,r)=>i-Math.max(r,0),n)}_getNarrowedViewportRect(){let n=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+n-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:n-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(n,e){return e==="x"?n.offsetX==null?this._offsetX:n.offsetX:n.offsetY==null?this._offsetY:n.offsetY}_validatePositions(){}_addPanelClasses(n){this._pane&&Jr(n).forEach(e=>{e!==""&&this._appliedPanelClasses.indexOf(e)===-1&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(n=>{this._pane.classList.remove(n)}),this._appliedPanelClasses=[])}_getOriginRect(){let n=this._origin;if(n instanceof le)return n.nativeElement.getBoundingClientRect();if(n instanceof Element)return n.getBoundingClientRect();let e=n.width||0,i=n.height||0;return{top:n.y,bottom:n.y+i,left:n.x,right:n.x+e,height:i,width:e}}};function Zi(t,n){for(let e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t}function $y(t){if(typeof t!="number"&&t!=null){let[n,e]=t.split(NO);return!e||e==="px"?parseFloat(n):null}return t||null}function Hy(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}function FO(t,n){return t===n?!0:t.isOriginClipped===n.isOriginClipped&&t.isOriginOutsideView===n.isOriginOutsideView&&t.isOverlayClipped===n.isOverlayClipped&&t.isOverlayOutsideView===n.isOverlayOutsideView}var zy="cdk-global-overlay-wrapper",Qf=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(n){let e=n.getConfig();this._overlayRef=n,this._width&&!e.width&&n.updateSize({width:this._width}),this._height&&!e.height&&n.updateSize({height:this._height}),n.hostElement.classList.add(zy),this._isDisposed=!1}top(n=""){return this._bottomOffset="",this._topOffset=n,this._alignItems="flex-start",this}left(n=""){return this._xOffset=n,this._xPosition="left",this}bottom(n=""){return this._topOffset="",this._bottomOffset=n,this._alignItems="flex-end",this}right(n=""){return this._xOffset=n,this._xPosition="right",this}start(n=""){return this._xOffset=n,this._xPosition="start",this}end(n=""){return this._xOffset=n,this._xPosition="end",this}width(n=""){return this._overlayRef?this._overlayRef.updateSize({width:n}):this._width=n,this}height(n=""){return this._overlayRef?this._overlayRef.updateSize({height:n}):this._height=n,this}centerHorizontally(n=""){return this.left(n),this._xPosition="center",this}centerVertically(n=""){return this.top(n),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let n=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,c=(r==="100%"||r==="100vw")&&(!s||s==="100%"||s==="100vw"),h=(o==="100%"||o==="100vh")&&(!a||a==="100%"||a==="100vh"),f=this._xPosition,p=this._xOffset,y=this._overlayRef.getConfig().direction==="rtl",v="",x="",E="";c?E="flex-start":f==="center"?(E="center",y?x=p:v=p):y?f==="left"||f==="end"?(E="flex-end",v=p):(f==="right"||f==="start")&&(E="flex-start",x=p):f==="left"||f==="start"?(E="flex-start",v=p):(f==="right"||f==="end")&&(E="flex-end",x=p),n.position=this._cssPosition,n.marginLeft=c?"0":v,n.marginTop=h?"0":this._topOffset,n.marginBottom=this._bottomOffset,n.marginRight=c?"0":x,e.justifyContent=E,e.alignItems=h?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let n=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(zy),i.justifyContent=i.alignItems=n.marginTop=n.marginBottom=n.marginLeft=n.marginRight=n.position="",this._overlayRef=null,this._isDisposed=!0}},LO=(()=>{class t{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new Qf}flexibleConnectedTo(e){return new Yf(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(i){return new(i||t)(b(Bf),b(Q),b(Ge),b(ro))}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),VO=0,cn=(()=>{class t{constructor(e,i,r,o,s,a,c,h,f,p,y,v){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=c,this._document=h,this._directionality=f,this._location=p,this._outsideClickDispatcher=y,this._animationsModuleType=v}create(e){let i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new As(e);return s.direction=s.direction||this._directionality.value,new Wn(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations")}position(){return this._positionBuilder}_createPaneElement(e){let i=this._document.createElement("div");return i.id=`cdk-overlay-${VO++}`,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){let e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Vn)),new Ml(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(i){return new(i||t)(b(kO),b(ro),b(ai),b(LO),b(PO),b(Fe),b(B),b(Q),b(Ss),b(wn),b(RO),b(kn,8))}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var jO=new k("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let t=T(cn);return()=>t.scrollStrategies.reposition()}});function BO(t){return()=>t.scrollStrategies.reposition()}var UO={provide:jO,deps:[cn],useFactory:BO},Ol=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Y({type:t})}static{this.\u0275inj=q({providers:[cn,UO],imports:[yi,Qi,Uf,Uf]})}}return t})();var $O=(()=>{class t{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var qy=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Y({type:t})}static{this.\u0275inj=q({providers:[$O]})}}return t})();var Yy=new Set,Ki,HO=(()=>{class t{constructor(e,i){this._platform=e,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):GO}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&zO(e,this._nonce),this._matchMedia(e)}static{this.\u0275fac=function(i){return new(i||t)(b(Ge),b(ko,8))}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function zO(t,n){if(!Yy.has(t))try{Ki||(Ki=document.createElement("style"),n&&Ki.setAttribute("nonce",n),Ki.setAttribute("type","text/css"),document.head.appendChild(Ki)),Ki.sheet&&(Ki.sheet.insertRule(`@media ${t} {body{ }}`,0),Yy.add(t))}catch(e){console.error(e)}}function GO(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var Zy=(()=>{class t{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new H}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return Qy(Jr(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let r=Qy(Jr(e)).map(s=>this._registerQuery(s).observable),o=Ei(r);return o=qn(o.pipe(qe(1)),o.pipe(po(1),Qn(0))),o.pipe(z(s=>{let a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:h})=>{a.matches=a.matches||c,a.breakpoints[h]=c}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let i=this._mediaMatcher.matchMedia(e),o={observable:new J(s=>{let a=c=>this._zone.run(()=>s.next(c));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(pn(i),z(({matches:s})=>({query:e,matches:s})),ft(this._destroySubject)),mql:i};return this._queries.set(e,o),o}static{this.\u0275fac=function(i){return new(i||t)(b(HO),b(B))}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Qy(t){return t.map(n=>n.split(",")).reduce((n,e)=>n.concat(e)).map(n=>n.trim())}var Os=(()=>{class t{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return qO(e)&&getComputedStyle(e).visibility==="visible"}isTabbable(e){if(!this._platform.isBrowser)return!1;let i=WO(tk(e));if(i&&(Ky(i)===-1||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=Ky(e);return e.hasAttribute("contenteditable")?o!==-1:r==="iframe"||r==="object"||this._platform.WEBKIT&&this._platform.IOS&&!JO(e)?!1:r==="audio"?e.hasAttribute("controls")?o!==-1:!1:r==="video"?o===-1?!1:o!==null?!0:this._platform.FIREFOX||e.hasAttribute("controls"):e.tabIndex>=0}isFocusable(e,i){return ek(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}static{this.\u0275fac=function(i){return new(i||t)(b(Ge))}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function WO(t){try{return t.frameElement}catch{return null}}function qO(t){return!!(t.offsetWidth||t.offsetHeight||typeof t.getClientRects=="function"&&t.getClientRects().length)}function YO(t){let n=t.nodeName.toLowerCase();return n==="input"||n==="select"||n==="button"||n==="textarea"}function QO(t){return KO(t)&&t.type=="hidden"}function ZO(t){return XO(t)&&t.hasAttribute("href")}function KO(t){return t.nodeName.toLowerCase()=="input"}function XO(t){return t.nodeName.toLowerCase()=="a"}function eb(t){if(!t.hasAttribute("tabindex")||t.tabIndex===void 0)return!1;let n=t.getAttribute("tabindex");return!!(n&&!isNaN(parseInt(n,10)))}function Ky(t){if(!eb(t))return null;let n=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(n)?-1:n}function JO(t){let n=t.nodeName.toLowerCase(),e=n==="input"&&t.type;return e==="text"||e==="password"||n==="select"||n==="textarea"}function ek(t){return QO(t)?!1:YO(t)||ZO(t)||t.hasAttribute("contenteditable")||eb(t)}function tk(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}var Kf=class{get enabled(){return this._enabled}set enabled(n){this._enabled=n,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}constructor(n,e,i,r,o=!1){this._element=n,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){let n=this._startAnchor,e=this._endAnchor;n&&(n.removeEventListener("focus",this.startAnchorListener),n.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(n){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(n)))})}focusFirstTabbableElementWhenReady(n){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(n)))})}focusLastTabbableElementWhenReady(n){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(n)))})}_getRegionBoundary(n){let e=this._element.querySelectorAll(`[cdk-focus-region-${n}], [cdkFocusRegion${n}], [cdk-focus-${n}]`);return n=="start"?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(n){let e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){let i=this._getFirstTabbableElement(e);return i?.focus(n),!!i}return e.focus(n),!0}return this.focusFirstTabbableElement(n)}focusFirstTabbableElement(n){let e=this._getRegionBoundary("start");return e&&e.focus(n),!!e}focusLastTabbableElement(n){let e=this._getRegionBoundary("end");return e&&e.focus(n),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;let e=n.children;for(let i=0;i<e.length;i++){let r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;let e=n.children;for(let i=e.length-1;i>=0;i--){let r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){let n=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,n),n.classList.add("cdk-visually-hidden"),n.classList.add("cdk-focus-trap-anchor"),n.setAttribute("aria-hidden","true"),n}_toggleAnchorTabIndex(n,e){n?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(n){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}_executeOnStable(n){this._ngZone.isStable?n():this._ngZone.onStable.pipe(qe(1)).subscribe(n)}},Rl=(()=>{class t{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new Kf(e,this._checker,this._ngZone,this._document,i)}static{this.\u0275fac=function(i){return new(i||t)(b(Os),b(B),b(Q))}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Xf(t){return t.buttons===0||t.detail===0}function Jf(t){let n=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!n&&n.identifier===-1&&(n.radiusX==null||n.radiusX===1)&&(n.radiusY==null||n.radiusY===1)}var nk=new k("cdk-input-modality-detector-options"),ik={ignoreKeys:[18,17,224,91,16]},tb=650,oo=eo({passive:!0,capture:!0}),rk=(()=>{class t{get mostRecentModality(){return this._modality.value}constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new Oe(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=an(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<tb||(this._modality.next(Xf(s)?"keyboard":"mouse"),this._mostRecentTarget=an(s))},this._onTouchstart=s=>{if(Jf(s)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=an(s)},this._options=A(A({},ik),o),this.modalityDetected=this._modality.pipe(po(1)),this.modalityChanged=this.modalityDetected.pipe(Kn()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,oo),r.addEventListener("mousedown",this._onMousedown,oo),r.addEventListener("touchstart",this._onTouchstart,oo)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,oo),document.removeEventListener("mousedown",this._onMousedown,oo),document.removeEventListener("touchstart",this._onTouchstart,oo))}static{this.\u0275fac=function(i){return new(i||t)(b(Ge),b(B),b(Q),b(nk,8))}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Pl=function(t){return t[t.IMMEDIATE=0]="IMMEDIATE",t[t.EVENTUAL=1]="EVENTUAL",t}(Pl||{}),ok=new k("cdk-focus-monitor-default-options"),kl=eo({passive:!0,capture:!0}),so=(()=>{class t{constructor(e,i,r,o,s){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new H,this._rootNodeFocusAndBlurListener=a=>{let c=an(a);for(let h=c;h;h=h.parentElement)a.type==="focus"?this._onFocus(a,h):this._onBlur(a,h)},this._document=o,this._detectionMode=s?.detectionMode||Pl.IMMEDIATE}monitor(e,i=!1){let r=Gn(e);if(!this._platform.isBrowser||r.nodeType!==1)return L();let o=Fy(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;let a={checkChildren:i,subject:new H,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(e){let i=Gn(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){let o=Gn(e),s=this._getDocument().activeElement;o===s?this._getClosestElementsInfo(o).forEach(([a,c])=>this._originChanged(a,i,c)):(this._setOrigin(i),typeof o.focus=="function"&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===Pl.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused",i==="touch"),e.classList.toggle("cdk-keyboard-focused",i==="keyboard"),e.classList.toggle("cdk-mouse-focused",i==="mouse"),e.classList.toggle("cdk-program-focused",i==="program")}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=e,this._originFromTouchInteraction=e==="touch"&&i,this._detectionMode===Pl.IMMEDIATE){clearTimeout(this._originTimeoutId);let r=this._originFromTouchInteraction?tb:1;this._originTimeoutId=setTimeout(()=>this._origin=null,r)}})}_onFocus(e,i){let r=this._elementInfo.get(i),o=an(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){let r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;let i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,kl),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,kl)}),this._rootNodeFocusListenerCount.set(i,r+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ft(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){let i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){let r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,kl),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,kl),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){let i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(e){let{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if(r!=="mouse"||!i||i===e||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA"||e.disabled)return!1;let o=e.labels;if(o){for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0}return!1}static{this.\u0275fac=function(i){return new(i||t)(b(B),b(Ge),b(rk),b(Q,8),b(ok,8))}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Xi=function(t){return t[t.NONE=0]="NONE",t[t.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",t[t.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",t}(Xi||{}),Xy="cdk-high-contrast-black-on-white",Jy="cdk-high-contrast-white-on-black",Zf="cdk-high-contrast-active",ep=(()=>{class t{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=T(Zy).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Xi.NONE;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Xi.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Xi.BLACK_ON_WHITE}return Xi.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(Zf,Xy,Jy),this._hasCheckedHighContrastMode=!0;let i=this.getHighContrastMode();i===Xi.BLACK_ON_WHITE?e.add(Zf,Xy):i===Xi.WHITE_ON_BLACK&&e.add(Zf,Jy)}}static{this.\u0275fac=function(i){return new(i||t)(b(Ge),b(Q))}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),nb=(()=>{class t{constructor(e){e._applyBodyHighContrastModeCssClasses()}static{this.\u0275fac=function(i){return new(i||t)(b(ep))}}static{this.\u0275mod=Y({type:t})}static{this.\u0275inj=q({imports:[qy]})}}return t})();function sk(t,n){}var Ji=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}};var ip=(()=>{class t extends io{constructor(e,i,r,o,s,a,c,h){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=s,this._ngZone=a,this._overlayRef=c,this._focusMonitor=h,this._platform=T(Ge),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=T(He),this.attachDomPortal=f=>{this._portalOutlet.hasAttached();let p=this._portalOutlet.attachDomPortal(f);return this._contentAttached(),p},this._document=r,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){let i=this._ariaLabelledByQueue.indexOf(e);i>-1&&(this._ariaLabelledByQueue.splice(i,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){let e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}}_restoreFocus(){let e=this._config.restoreFocus,i=null;if(typeof e=="string"?i=this._document.querySelector(e):typeof e=="boolean"?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&typeof i.focus=="function"){let r=Ds(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let e=this._elementRef.nativeElement,i=Ds();return e===i||e.contains(i)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Ds()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static{this.\u0275fac=function(i){return new(i||t)(C(le),C(Rl),C(Q,8),C(Ji),C(Os),C(B),C(Wn),C(so))}}static{this.\u0275cmp=me({type:t,selectors:[["cdk-dialog-container"]],viewQuery:function(i,r){if(i&1&&Ye(Ts,7),i&2){let o;je(o=Be())&&(r._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,r){i&2&&he("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},standalone:!0,features:[Ke,Ue],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){i&1&&P(0,sk,0,0,"ng-template",0)},dependencies:[Ts],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}}return t})(),ks=class{constructor(n,e){this.overlayRef=n,this.config=e,this.closed=new H,this.disableClose=e.disableClose,this.backdropClick=n.backdropClick(),this.keydownEvents=n.keydownEvents(),this.outsidePointerEvents=n.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{i.keyCode===27&&!this.disableClose&&!Tl(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=n.detachments().subscribe(()=>{e.closeOnOverlayDetachments!==!1&&this.close()})}close(n,e){if(this.containerInstance){let i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(n),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(n="",e=""){return this.overlayRef.updateSize({width:n,height:e}),this}addPanelClass(n){return this.overlayRef.addPanelClass(n),this}removePanelClass(n){return this.overlayRef.removePanelClass(n),this}},ak=new k("DialogScrollStrategy",{providedIn:"root",factory:()=>{let t=T(cn);return()=>t.scrollStrategies.block()}}),ck=new k("DialogData"),lk=new k("DefaultDialogConfig");var dk=0,rp=(()=>{class t{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,i,r,o,s,a){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new H,this._afterOpenedAtThisLevel=new H,this._ariaHiddenElements=new Map,this.afterAllClosed=Yn(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(pn(void 0))),this._scrollStrategy=a}open(e,i){let r=this._defaultOptions||new Ji;i=A(A({},r),i),i.id=i.id||`cdk-dialog-${dk++}`,i.id&&this.getDialogById(i.id);let o=this._getOverlayConfig(i),s=this._overlay.create(o),a=new ks(s,i),c=this._attachContainer(s,a,i);return a.containerInstance=c,this._attachDialogContent(e,a,c,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){tp(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){tp(this._openDialogsAtThisLevel,e=>{e.config.closeOnDestroy===!1&&this._removeOpenDialog(e,!1)}),tp(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){let i=new As({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){let o=r.injector||r.viewContainerRef?.injector,s=[{provide:Ji,useValue:r},{provide:ks,useValue:i},{provide:Wn,useValue:e}],a;r.container?typeof r.container=="function"?a=r.container:(a=r.container.type,s.push(...r.container.providers(r))):a=ip;let c=new to(a,r.viewContainerRef,Fe.create({parent:o||this._injector,providers:s}),r.componentFactoryResolver);return e.attach(c).instance}_attachDialogContent(e,i,r,o){if(e instanceof Ct){let s=this._createInjector(o,i,r,void 0),a={$implicit:o.data,dialogRef:i};o.templateContext&&(a=A(A({},a),typeof o.templateContext=="function"?o.templateContext():o.templateContext)),r.attachTemplatePortal(new no(e,null,a,s))}else{let s=this._createInjector(o,i,r,this._injector),a=r.attachComponentPortal(new to(e,o.viewContainerRef,s,o.componentFactoryResolver));i.componentRef=a,i.componentInstance=a.instance}}_createInjector(e,i,r,o){let s=e.injector||e.viewContainerRef?.injector,a=[{provide:ck,useValue:e.data},{provide:ks,useValue:i}];return e.providers&&(typeof e.providers=="function"?a.push(...e.providers(i,e,r)):a.push(...e.providers)),e.direction&&(!s||!s.get(Ss,null,{optional:!0}))&&a.push({provide:Ss,useValue:{value:e.direction,change:L()}}),Fe.create({parent:s||o,providers:a})}_removeOpenDialog(e,i){let r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let e=this._overlayContainer.getContainerElement();if(e.parentElement){let i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){let o=i[r];o!==e&&o.nodeName!=="SCRIPT"&&o.nodeName!=="STYLE"&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static{this.\u0275fac=function(i){return new(i||t)(b(cn),b(Fe),b(lk,8),b(t,12),b(ro),b(ak))}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function tp(t,n){let e=t.length;for(;e--;)n(t[e])}var ib=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Y({type:t})}static{this.\u0275inj=q({providers:[rp],imports:[Ol,Qi,nb,Qi]})}}return t})();var uk=["mat-internal-form-field",""],hk=["*"];function fk(){return!0}var pk=new k("mat-sanity-checks",{providedIn:"root",factory:fk}),Ht=(()=>{class t{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return Es()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[e]}static{this.\u0275fac=function(i){return new(i||t)(b(ep),b(pk,8),b(Q))}}static{this.\u0275mod=Y({type:t})}static{this.\u0275inj=q({imports:[yi,yi]})}}return t})();var $t=function(t){return t[t.FADING_IN=0]="FADING_IN",t[t.VISIBLE=1]="VISIBLE",t[t.FADING_OUT=2]="FADING_OUT",t[t.HIDDEN=3]="HIDDEN",t}($t||{}),op=class{constructor(n,e,i,r=!1){this._renderer=n,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=$t.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},rb=eo({passive:!0,capture:!0}),sp=class{constructor(){this._events=new Map,this._delegateEventHandler=n=>{let e=an(n);e&&this._events.get(n.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(o=>o.handleEvent(n))})}}addHandler(n,e,i,r){let o=this._events.get(e);if(o){let s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),n.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,rb)})}removeHandler(n,e,i){let r=this._events.get(n);if(!r)return;let o=r.get(e);o&&(o.delete(i),o.size===0&&r.delete(e),r.size===0&&(this._events.delete(n),document.removeEventListener(n,this._delegateEventHandler,rb)))}},ob={enterDuration:225,exitDuration:150},mk=800,sb=eo({passive:!0,capture:!0}),ab=["mousedown","touchstart"],cb=["mouseup","mouseleave","touchend","touchcancel"],ap=class t{static{this._eventManager=new sp}constructor(n,e,i,r){this._target=n,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Gn(i))}fadeInRipple(n,e,i={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=A(A({},ob),i.animation);i.centered&&(n=r.left+r.width/2,e=r.top+r.height/2);let s=i.radius||gk(n,e,r),a=n-r.left,c=e-r.top,h=o.enterDuration,f=document.createElement("div");f.classList.add("mat-ripple-element"),f.style.left=`${a-s}px`,f.style.top=`${c-s}px`,f.style.height=`${s*2}px`,f.style.width=`${s*2}px`,i.color!=null&&(f.style.backgroundColor=i.color),f.style.transitionDuration=`${h}ms`,this._containerElement.appendChild(f);let p=window.getComputedStyle(f),y=p.transitionProperty,v=p.transitionDuration,x=y==="none"||v==="0s"||v==="0s, 0s"||r.width===0&&r.height===0,E=new op(this,f,i,x);f.style.transform="scale3d(1, 1, 1)",E.state=$t.FADING_IN,i.persistent||(this._mostRecentTransientRipple=E);let O=null;return!x&&(h||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let R=()=>this._finishRippleTransition(E),j=()=>this._destroyRipple(E);f.addEventListener("transitionend",R),f.addEventListener("transitioncancel",j),O={onTransitionEnd:R,onTransitionCancel:j}}),this._activeRipples.set(E,O),(x||!h)&&this._finishRippleTransition(E),E}fadeOutRipple(n){if(n.state===$t.FADING_OUT||n.state===$t.HIDDEN)return;let e=n.element,i=A(A({},ob),n.config.animation);e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",n.state=$t.FADING_OUT,(n._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(n)}fadeOutAll(){this._getActiveRipples().forEach(n=>n.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(n=>{n.config.persistent||n.fadeOut()})}setupTriggerEvents(n){let e=Gn(n);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,ab.forEach(i=>{t._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(n){n.type==="mousedown"?this._onMousedown(n):n.type==="touchstart"?this._onTouchStart(n):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{cb.forEach(e=>{this._triggerElement.addEventListener(e,this,sb)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(n){n.state===$t.FADING_IN?this._startFadeOutTransition(n):n.state===$t.FADING_OUT&&this._destroyRipple(n)}_startFadeOutTransition(n){let e=n===this._mostRecentTransientRipple,{persistent:i}=n.config;n.state=$t.VISIBLE,!i&&(!e||!this._isPointerDown)&&n.fadeOut()}_destroyRipple(n){let e=this._activeRipples.get(n)??null;this._activeRipples.delete(n),this._activeRipples.size||(this._containerRect=null),n===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),n.state=$t.HIDDEN,e!==null&&(n.element.removeEventListener("transitionend",e.onTransitionEnd),n.element.removeEventListener("transitioncancel",e.onTransitionCancel)),n.element.remove()}_onMousedown(n){let e=Xf(n),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+mk;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(n.clientX,n.clientY,this._target.rippleConfig))}_onTouchStart(n){if(!this._target.rippleDisabled&&!Jf(n)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let e=n.changedTouches;if(e)for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(n=>{let e=n.state===$t.VISIBLE||n.config.terminateOnPointerUp&&n.state===$t.FADING_IN;!n.config.persistent&&e&&n.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let n=this._triggerElement;n&&(ab.forEach(e=>t._eventManager.removeHandler(e,n,this)),this._pointerUpEventsRegistered&&(cb.forEach(e=>n.removeEventListener(e,this,sb)),this._pointerUpEventsRegistered=!1))}};function gk(t,n,e){let i=Math.max(Math.abs(t-e.left),Math.abs(t-e.right)),r=Math.max(Math.abs(n-e.top),Math.abs(n-e.bottom));return Math.sqrt(i*i+r*r)}var _k=new k("mat-ripple-global-options"),lb=(()=>{class t{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,r,o,s){this._elementRef=e,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new ap(this,i,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:A(A(A({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return typeof e=="number"?this._rippleRenderer.fadeInRipple(e,i,A(A({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,A(A({},this.rippleConfig),e))}static{this.\u0275fac=function(i){return new(i||t)(C(le),C(B),C(Ge),C(_k,8),C(kn,8))}}static{this.\u0275dir=pe({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){i&2&&ce("mat-ripple-unbounded",r.unbounded)},inputs:{color:[W.None,"matRippleColor","color"],unbounded:[W.None,"matRippleUnbounded","unbounded"],centered:[W.None,"matRippleCentered","centered"],radius:[W.None,"matRippleRadius","radius"],animation:[W.None,"matRippleAnimation","animation"],disabled:[W.None,"matRippleDisabled","disabled"],trigger:[W.None,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}}return t})();var db=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=me({type:t,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(i,r){i&2&&ce("mdc-form-field--align-end",r.labelPosition==="before")},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[Ue],attrs:uk,ngContentSelectors:hk,decls:1,vars:0,template:function(i,r){i&1&&(Rn(),Nn(0))},styles:[".mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-form-field{font-family:var(--mdc-form-field-label-text-font);line-height:var(--mdc-form-field-label-text-line-height);font-size:var(--mdc-form-field-label-text-size);font-weight:var(--mdc-form-field-label-text-weight);letter-spacing:var(--mdc-form-field-label-text-tracking);color:var(--mdc-form-field-label-text-color)}.mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}"],encapsulation:2,changeDetection:0})}}return t})();var Ps=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(Ps||{});function ub(t,n){return{type:Ps.Trigger,name:t,definitions:n,options:{}}}function cp(t,n=null){return{type:Ps.Animate,styles:n,timings:t}}function Fl(t){return{type:Ps.Style,styles:t,offset:null}}function lp(t,n,e=null){return{type:Ps.Transition,expr:t,animation:n,options:e}}function vk(t,n){}var Rs=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}},dp="mdc-dialog--open",hb="mdc-dialog--opening",fb="mdc-dialog--closing",yk=150,bk=75,wk=(()=>{class t extends ip{constructor(e,i,r,o,s,a,c,h,f){super(e,i,r,o,s,a,c,f),this._animationMode=h,this._animationStateChanged=new se,this._animationsEnabled=this._animationMode!=="NoopAnimations",this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?mb(this._config.enterAnimationDuration)??yk:0,this._exitAnimationDuration=this._animationsEnabled?mb(this._config.exitAnimationDuration)??bk:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(pb,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(hb,dp)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(dp),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(dp),this._animationsEnabled?(this._hostElement.style.setProperty(pb,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(fb)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(e){this._actionSectionCount+=e,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(hb,fb)}_waitForAnimationToComplete(e,i){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(e):e()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(e){let i=super.attachComponentPortal(e);return i.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),i}static{this.\u0275fac=function(i){return new(i||t)(C(le),C(Rl),C(Q,8),C(Rs),C(Os),C(B),C(Wn),C(kn,8),C(so))}}static{this.\u0275cmp=me({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(i,r){i&2&&(kr("id",r._config.id),he("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),ce("_mat-animation-noopable",!r._animationsEnabled)("mat-mdc-dialog-container-with-actions",r._actionSectionCount>0))},standalone:!0,features:[Ke,Ue],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,r){i&1&&(d(0,"div",0)(1,"div",1),P(2,vk,0,0,"ng-template",2),l()())},dependencies:[Ts],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0;transform:scale(0.8)}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--closing .mdc-dialog__surface{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{opacity:1}.mdc-dialog--open .mdc-dialog__surface{transform:none}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{width:100%;height:100%}.mat-mdc-dialog-component-host{display:contents}.mat-mdc-dialog-container{--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition:opacity linear var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container .mdc-dialog__surface{transition:transform var(--mat-dialog-transition-duration, 0ms) 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container,.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__surface{transition:none}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-title{padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}}return t})(),pb="--mat-dialog-transition-duration";function mb(t){return t==null?null:typeof t=="number"?t:t.endsWith("ms")?Cs(t.substring(0,t.length-2)):t.endsWith("s")?Cs(t.substring(0,t.length-1))*1e3:t==="0"?0:null}var Ll=function(t){return t[t.OPEN=0]="OPEN",t[t.CLOSING=1]="CLOSING",t[t.CLOSED=2]="CLOSED",t}(Ll||{}),Ns=class{constructor(n,e,i){this._ref=n,this._containerInstance=i,this._afterOpened=new H,this._beforeClosed=new H,this._state=Ll.OPEN,this.disableClose=e.disableClose,this.id=n.id,n.addPanelClass("mat-mdc-dialog-panel"),i._animationStateChanged.pipe(Me(r=>r.state==="opened"),qe(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(Me(r=>r.state==="closed"),qe(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),n.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),fo(this.backdropClick(),this.keydownEvents().pipe(Me(r=>r.keyCode===27&&!this.disableClose&&!Tl(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),Ck(this,r.type==="keydown"?"keyboard":"mouse"))})}close(n){this._result=n,this._containerInstance._animationStateChanged.pipe(Me(e=>e.state==="closing"),qe(1)).subscribe(e=>{this._beforeClosed.next(n),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=Ll.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(n){let e=this._ref.config.positionStrategy;return n&&(n.left||n.right)?n.left?e.left(n.left):e.right(n.right):e.centerHorizontally(),n&&(n.top||n.bottom)?n.top?e.top(n.top):e.bottom(n.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(n="",e=""){return this._ref.updateSize(n,e),this}addPanelClass(n){return this._ref.addPanelClass(n),this}removePanelClass(n){return this._ref.removePanelClass(n),this}getState(){return this._state}_finishDialogClose(){this._state=Ll.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function Ck(t,n,e){return t._closeInteractionType=n,t.close(e)}var up=new k("MatMdcDialogData"),xk=new k("mat-mdc-dialog-default-options"),Dk=new k("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let t=T(cn);return()=>t.scrollStrategies.block()}});var Ek=0,hp=(()=>{class t{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,i,r,o,s,a,c,h){this._overlay=e,this._defaultOptions=o,this._scrollStrategy=s,this._parentDialog=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new H,this._afterOpenedAtThisLevel=new H,this.dialogConfigClass=Rs,this.afterAllClosed=Yn(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(pn(void 0))),this._dialog=i.get(rp),this._dialogRefConstructor=Ns,this._dialogContainerType=wk,this._dialogDataToken=up}open(e,i){let r;i=A(A({},this._defaultOptions||new Rs),i),i.id=i.id||`mat-mdc-dialog-${Ek++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();let o=this._dialog.open(e,fe(A({},i),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:Ji,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(s,a,c)=>(r=new this._dialogRefConstructor(s,i,c),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:c},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:r}])}));return r.componentRef=o.componentRef,r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{let s=this.openDialogs.indexOf(r);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}static{this.\u0275fac=function(i){return new(i||t)(b(cn),b(Fe),b(wn,8),b(xk,8),b(Dk),b(t,12),b(ro),b(kn,8))}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var gb=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Y({type:t})}static{this.\u0275inj=q({providers:[hp],imports:[ib,Ol,Qi,Ht,Ht]})}}return t})();var zt={production:!0,apiBaseUrl:"https://pylearn-backend-production.up.railway.app",appName:"Py-Learn",version:"1.0.0"};var vb=(()=>{class t{scorePronunciation(e,i){let r=new FormData;return r.append("audio",e,"student.webm"),r.append("word",i.toLowerCase()),this.http.post(this.scoreEndpoint,r)}constructor(e){this.http=e,this.apiBase=zt.apiBaseUrl.replace(/\/+$/,""),this.scoreEndpoint=`${this.apiBase}/pronunciation/score`}static{this.\u0275fac=function(i){return new(i||t)(b(Mt))}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Sk=["videoEl"];function Mk(t,n){if(t&1){let e=V();d(0,"video",42),D("ended",function(){I(e);let r=w();return S(r.onVideoEnded())}),u(1," Your browser does not support the video tag. "),l()}}function Tk(t,n){if(t&1){let e=V();d(0,"video",43,0),D("play",function(){I(e);let r=w();return S(r.onVideoPlay())})("pause",function(){I(e);let r=w();return S(r.onVideoPause())})("ended",function(){I(e);let r=w();return S(r.onVideoEnded())}),u(2," Your browser does not support the video tag. "),l()}if(t&2){let e=w();g("src",e.videoSrc,ee)}}function Ak(t,n){t&1&&(d(0,"span",44),u(1,"\u{1F399}\uFE0F"),l())}function Ok(t,n){t&1&&(d(0,"span",44),u(1,"\u{1F3A4}"),l())}function kk(t,n){if(t&1&&(d(0,"span",45),u(1),Fn(2,"number"),l()),t&2){let e=w();m(),Ae(li(2,1,e.timeLeft,"1.0-0"))}}var yb=(()=>{class t{get current(){return this.items[this.index]}constructor(e,i,r,o){this.api=e,this.dialogRef=i,this.data=r,this.cdr=o,this.showVideo=!1,this.videoSrc="",this.isPlayingVideo=!1,this.playIconDataUrl="assets/pronunciation/play.png",this.pauseIconDataUrl="assets/pronunciation/pause.png",this.items=[{letter:"A",word:"Apple",phonetics:"/\u02C8\xE6p\u0259l/",imgSrc:"assets/pronunciation/animvideo/apple.mp4",audioSrc:"assets/pronunciation/audio/apple.mp3"},{letter:"B",word:"Ball",phonetics:"/b\u0254\u02D0l/",imgSrc:"assets/pronunciation/animvideo/ball.mp4",audioSrc:"assets/pronunciation/audio/ball.mp3"},{letter:"C",word:"Cat",phonetics:"/k\xE6t/",imgSrc:"assets/pronunciation/animvideo/cat.mp4",audioSrc:"assets/pronunciation/audio/cat.mp3"},{letter:"D",word:"Dog",phonetics:"/d\u0252\u0261/",imgSrc:"assets/pronunciation/animvideo/dog.mp4",audioSrc:"assets/pronunciation/audio/dog.mp3"},{letter:"E",word:"Egg",phonetics:"/e\u0261/",imgSrc:"assets/pronunciation/animvideo/egg.mp4",audioSrc:"assets/pronunciation/audio/egg.mp3"},{letter:"F",word:"Fish",phonetics:"/f\u026A\u0283/",imgSrc:"assets/pronunciation/animvideo/fish.mp4",audioSrc:"assets/pronunciation/audio/fish.mp3"},{letter:"G",word:"Grapes",phonetics:"/\u0261re\u026Aps/",imgSrc:"assets/pronunciation/animvideo/grapes.mp4",audioSrc:"assets/pronunciation/audio/grapes.mp3"},{letter:"H",word:"Hat",phonetics:"/h\xE6t/",imgSrc:"assets/pronunciation/animvideo/hat.mp4",audioSrc:"assets/pronunciation/audio/hat.mp3"},{letter:"I",word:"Ice cream",phonetics:"/\u02C8a\u026As \u02CCkri\u02D0m/",imgSrc:"assets/pronunciation/animvideo/icecream.mp4",audioSrc:"assets/pronunciation/audio/icecream.mp3"},{letter:"J",word:"Jar",phonetics:"/d\u0292\u0251\u02D0r/",imgSrc:"assets/pronunciation/animvideo/jar.mp4",audioSrc:"assets/pronunciation/audio/jar.mp3"},{letter:"K",word:"Kite",phonetics:"/ka\u026At/",imgSrc:"assets/pronunciation/animvideo/kite.mp4",audioSrc:"assets/pronunciation/audio/kite.mp3"},{letter:"L",word:"Lion",phonetics:"/\u02C8la\u026A\u0259n/",imgSrc:"assets/pronunciation/animvideo/lion.mp4",audioSrc:"assets/pronunciation/audio/lion.mp3"},{letter:"M",word:"Moon",phonetics:"/mu\u02D0n/",imgSrc:"assets/pronunciation/animvideo/moon.mp4",audioSrc:"assets/pronunciation/audio/moon.mp3"},{letter:"N",word:"Nest",phonetics:"/nest/",imgSrc:"assets/pronunciation/animvideo/nest.mp4",audioSrc:"assets/pronunciation/audio/nest.mp3"},{letter:"O",word:"Orange",phonetics:"/\u02C8\u0252r\u026And\u0292/",imgSrc:"assets/pronunciation/animvideo/orange.mp4",audioSrc:"assets/pronunciation/audio/orange.mp3"},{letter:"P",word:"Pig",phonetics:"/p\u026A\u0261/",imgSrc:"assets/pronunciation/animvideo/pig.mp4",audioSrc:"assets/pronunciation/audio/pig.mp3"},{letter:"Q",word:"Queen",phonetics:"/kwi\u02D0n/",imgSrc:"assets/pronunciation/animvideo/queen.mp4",audioSrc:"assets/pronunciation/audio/queen.mp3"},{letter:"R",word:"Rabbit",phonetics:"/\u02C8r\xE6b\u026At/",imgSrc:"assets/pronunciation/animvideo/rabbit.mp4",audioSrc:"assets/pronunciation/audio/rabbit.mp3"},{letter:"S",word:"Sun",phonetics:"/s\u028Cn/",imgSrc:"assets/pronunciation/animvideo/sun.mp4",audioSrc:"assets/pronunciation/audio/sun.mp3"},{letter:"T",word:"Tree",phonetics:"/tri\u02D0/",imgSrc:"assets/pronunciation/animvideo/tree.mp4",audioSrc:"assets/pronunciation/audio/tree.mp3"},{letter:"U",word:"Umbrella",phonetics:"/\u028Cm\u02C8brel\u0259/",imgSrc:"assets/pronunciation/animvideo/umbrella.mp4",audioSrc:"assets/pronunciation/audio/umbrella.mp3"},{letter:"V",word:"Van",phonetics:"/v\xE6n/",imgSrc:"assets/pronunciation/animvideo/van.mp4",audioSrc:"assets/pronunciation/audio/van.mp3"},{letter:"W",word:"Watch",phonetics:"/w\u0252t\u0283/",imgSrc:"assets/pronunciation/animvideo/watch.mp4",audioSrc:"assets/pronunciation/audio/watch.mp3"},{letter:"X",word:"Xylophone",phonetics:"/\u02C8za\u026Al\u0259f\u0259\u028An/",imgSrc:"assets/pronunciation/animvideo/xylophone.mp4",audioSrc:"assets/pronunciation/audio/xylophone.mp3"},{letter:"Y",word:"Yarn",phonetics:"/j\u0251\u02D0n/",imgSrc:"assets/pronunciation/animvideo/yarn.mp4",audioSrc:"assets/pronunciation/audio/yarn.mp3"},{letter:"Z",word:"Zebra",phonetics:"/\u02C8zebr\u0259/",imgSrc:"assets/pronunciation/animvideo/zebra.mp4",audioSrc:"assets/pronunciation/audio/zebra.mp3"}],this.index=0,this.isRecording=!1,this.isScoring=!1,this.isOscillating=!1,this.chunks=[],this.currentMimeType="audio/webm",this.recordedAudioUrl=null,this.lastRecordedBlob=null,this.lastSpeechAt=0,this.recordingStartedAt=0,this.hasSpoken=!1,this.silenceMs=3e3,this.startSilenceMs=3e3,this.silenceThreshold=.01,this.duration=3,this.isCountingDown=!1,this.timeLeft=this.duration,this.radius=38,this.circumference=2*Math.PI*this.radius,this.strokeDashoffset=this.circumference,this.showResult=!1,this.score=0,this.videoUrl="",this.lastVideoBlobUrl=null,this.shortfeedback="",this.cancelScoring$=new H,this.recordRunId=0}ngOnInit(){this.setupBestMimeType(),this.resetResult()}ngOnDestroy(){if(this.cancelScoring$.next(),this.cancelScoring$.complete(),this.stopTracks(),this.safeStopRecorder(),this.teardownAudioGraph(),this.lastVideoBlobUrl){try{URL.revokeObjectURL(this.lastVideoBlobUrl)}catch{}this.lastVideoBlobUrl=null}}toggleRecording(){return We(this,null,function*(){if(this.isRecording){this.stopRecording(!1);return}this.startPreRecordCountdown()})}startPreRecordCountdown(){if(this.score=0,this.shortfeedback="",this.isCountingDown||this.isRecording)return;this.cancelScoring$.next(),this.isScoring=!1,this.isOscillating=!1,this.isCountingDown=!0,this.timeLeft=this.duration;let e=this.duration*1e3,i=performance.now();this.strokeDashoffset=this.circumference,this.preRecordIntervalId=window.setInterval(()=>{let r=performance.now()-i,o=Math.min(1,r/e);if(this.strokeDashoffset=this.circumference*(1-o),this.timeLeft=Math.ceil((e-r)/1e3),r>=e){if(this.preRecordIntervalId){try{clearInterval(this.preRecordIntervalId)}catch{}this.preRecordIntervalId=void 0}this.startRecordingInternal()}try{this.cdr.detectChanges()}catch{}},100)}startRecordingInternal(){return We(this,null,function*(){this.isCountingDown=!1;let e=++this.recordRunId;this.mediaStream=yield navigator.mediaDevices.getUserMedia({audio:!0}),this.mediaRecorder=new MediaRecorder(this.mediaStream,{mimeType:this.currentMimeType}),this.chunks=[],this.mediaRecorder.ondataavailable=i=>i.data.size&&this.chunks.push(i.data),this.mediaRecorder.onstop=()=>{e===this.recordRunId&&this.onRecordingStopped(e)},this.isRecording=!0,this.setupSilenceDetection(this.mediaStream),this.mediaRecorder.start();try{this.cdr.detectChanges()}catch{}})}stopRecording(e=!1){if(this.isRecording){if(this.preRecordIntervalId){try{clearInterval(this.preRecordIntervalId)}catch{}this.preRecordIntervalId=void 0}this.isCountingDown=!1,this.isRecording=!1,this.safeStopRecorder(),this.stopTracks(),this.teardownAudioGraph();try{this.cdr.detectChanges()}catch{}}}safeStopRecorder(){try{this.mediaRecorder&&this.mediaRecorder.state!=="inactive"&&this.mediaRecorder.stop()}catch{}}onRecordingStopped(e){if(e!==this.recordRunId)return;let i=new Blob(this.chunks,{type:this.currentMimeType});if(this.chunks=[],!i||i.size<2e3){this.isOscillating=!1,this.isScoring=!1,this.shortfeedback="No voice detected. Please try again.",this.showResult=!0;try{this.cdr.detectChanges()}catch{}return}this.lastRecordedBlob=i,this.isOscillating=!0;try{this.cdr.detectChanges()}catch{}this.sendForScoring(i,this.current.word,e)}setupSilenceDetection(e){this.teardownAudioGraph(),this.audioCtx=new AudioContext,this.analyser=this.audioCtx.createAnalyser(),this.analyser.fftSize=2048,this.micSource=this.audioCtx.createMediaStreamSource(e),this.micSource.connect(this.analyser),this.recordingStartedAt=performance.now(),this.lastSpeechAt=this.recordingStartedAt,this.hasSpoken=!1;let i=()=>{if(!this.analyser||!this.isRecording)return;let r=new Float32Array(this.analyser.fftSize);this.analyser.getFloatTimeDomainData(r);let o=0;for(let c=0;c<r.length;c++)o+=r[c]*r[c];let s=Math.sqrt(o/r.length),a=performance.now();if(s>this.silenceThreshold&&(this.lastSpeechAt=a,this.hasSpoken=!0),!this.hasSpoken&&a-this.recordingStartedAt>this.startSilenceMs){this.stopRecording(!0);return}if(this.hasSpoken&&a-this.lastSpeechAt>this.silenceMs){this.stopRecording(!0);return}this.silenceCheckId=window.setTimeout(i,100)};i()}teardownAudioGraph(){if(this.silenceCheckId){try{clearTimeout(this.silenceCheckId)}catch{}this.silenceCheckId=void 0}try{this.micSource?.disconnect()}catch{}try{this.analyser?.disconnect()}catch{}try{this.audioCtx?.close()}catch{}this.micSource=void 0,this.analyser=void 0,this.audioCtx=void 0}stopTracks(){this.mediaStream?.getTracks().forEach(e=>e.stop()),this.mediaStream=void 0}sendForScoring(e,i,r){r===this.recordRunId&&(this.isScoring=!0,this.api.scorePronunciation(e,i).pipe(ft(this.cancelScoring$),ht(()=>{this.isScoring=!1,this.isOscillating=!1;try{this.cdr.detectChanges()}catch{}})).subscribe(o=>{if(r===this.recordRunId){if(this.score=this.normalizeScore(o.score),this.shortfeedback=o.feedback,this.showResult=!0,o.videoBlobBase64){let s=Uint8Array.from(atob(o.videoBlobBase64),c=>c.charCodeAt(0)),a=new Blob([s],{type:"video/mp4"});if(this.lastVideoBlobUrl)try{URL.revokeObjectURL(this.lastVideoBlobUrl)}catch{}this.videoUrl=URL.createObjectURL(a),this.lastVideoBlobUrl=this.videoUrl,this.tryPlayFeedbackVideo(this.videoUrl)}try{this.cdr.detectChanges()}catch{}}},o=>{if(r===this.recordRunId){this.shortfeedback="Error while scoring. Please try again.",this.showResult=!0;try{this.cdr.detectChanges()}catch{}}}))}cancelAllRunningProcesses(){if(this.recordRunId++,this.cancelScoring$.next(),this.isScoring=!1,this.isOscillating=!1,this.preRecordIntervalId){try{clearInterval(this.preRecordIntervalId)}catch{}this.preRecordIntervalId=void 0}this.isCountingDown=!1,this.timeLeft=this.duration,this.strokeDashoffset=this.circumference,this.isRecording=!1,this.safeStopRecorder(),this.stopTracks(),this.teardownAudioGraph(),this.chunks=[],this.resetVideoPlayerState();try{this.cdr.detectChanges()}catch{}}resetVideoPlayerState(){try{let e=this.videoElRef?.nativeElement;e&&(e.pause(),e.currentTime=0,e.removeAttribute("src"),e.load())}catch{}this.showVideo=!1,this.videoSrc="",this.isPlayingVideo=!1}normalizeScore(e){let i=Number(e);return isNaN(i)?0:Math.min(100,Math.max(0,Math.round(i)))}tryPlayFeedbackVideo(e){this.showVideo=!0,this.videoSrc=e,setTimeout(()=>{let i=this.videoElRef?.nativeElement;i&&(i.src=e,i.load(),i.play().then(()=>{this.isPlayingVideo=!0;try{this.cdr.detectChanges()}catch{}}).catch(()=>{this.isPlayingVideo=!1;try{this.cdr.detectChanges()}catch{}}))},0)}setupBestMimeType(){let e=["audio/webm;codecs=opus","audio/webm","audio/ogg;codecs=opus","audio/ogg"];for(let i of e)try{if(typeof MediaRecorder<"u"&&typeof MediaRecorder.isTypeSupported=="function"&&MediaRecorder.isTypeSupported(i)){this.currentMimeType=i;return}}catch{}}resetResult(){this.showResult=!1,this.score=0,this.showVideo=!1,this.videoSrc="",this.shortfeedback=""}playWordAudio(){let e=this.current?.audioSrc||this.getAudioSrcFromWord(this.current.word);if(e)try{let i=new Audio(e);i.currentTime=0,i.play().catch(()=>{})}catch{}}getAudioSrcFromWord(e){return e?`assets/pronunciation/audio/${e.trim().toLowerCase().replace(/\s+/g,"-")}.mp3`:""}onVideoEnded(){this.resetVideoPlayerState(),this.isOscillating=!1;try{this.cdr.detectChanges()}catch{}}onVideoPlay(){this.isPlayingVideo=!0;try{this.cdr.detectChanges()}catch{}}onVideoPause(){this.isPlayingVideo=!1;try{this.cdr.detectChanges()}catch{}}toggleVideoPlay(){try{let e=this.videoElRef?.nativeElement;if(!this.showVideo){this.videoSrc=this.getVideoSrcFromWord(this.current.word),this.showVideo=!0,setTimeout(()=>{let i=this.videoElRef?.nativeElement;i&&(i.src=this.videoSrc,i.load(),i.play().then(()=>{this.isPlayingVideo=!0;try{this.cdr.detectChanges()}catch{}}).catch(()=>{this.isPlayingVideo=!1;try{this.cdr.detectChanges()}catch{}}))},0);return}if(!e)return;if(e.paused)e.play().then(()=>{this.isPlayingVideo=!0;try{this.cdr.detectChanges()}catch{}}).catch(()=>{this.isPlayingVideo=!1;try{this.cdr.detectChanges()}catch{}});else{e.pause(),this.isPlayingVideo=!1;try{this.cdr.detectChanges()}catch{}}}catch{}}getVideoSrcFromWord(e){return e?`assets/pronunciation/videos/${e.trim().toLowerCase().replace(/\s+/g,"-")}.mp4`:""}get needleAngle(){return-90+Math.max(0,Math.min(100,Number(this.score||0)))*1.8}prev(){this.index<=0||(this.cancelAllRunningProcesses(),this.index--,this.resetAfterNavigation())}next(){this.index>=this.items.length-1||(this.cancelAllRunningProcesses(),this.index++,this.resetAfterNavigation())}resetAfterNavigation(){if(this.cancelAllRunningProcesses(),this.score=0,this.showResult=!1,this.shortfeedback="",this.lastRecordedBlob=null,this.recordedAudioUrl){try{URL.revokeObjectURL(this.recordedAudioUrl)}catch{}this.recordedAudioUrl=null}try{this.cdr.detectChanges()}catch{}}closePopup(){this.cancelAllRunningProcesses(),this.dialogRef.close()}static{this.\u0275fac=function(i){return new(i||t)(C(vb),C(Ns),C(up),C(He))}}static{this.\u0275cmp=me({type:t,selectors:[["app-pronunciation"]],viewQuery:function(i,r){if(i&1&&Ye(Sk,5),i&2){let o;je(o=Be())&&(r.videoElRef=o.first)}},decls:53,vars:26,consts:[["videoEl",""],[1,"pp-page"],[1,"pp-header"],[1,"pp-main"],[1,"pp-left"],[1,"word-card"],[1,"word-img-wrap"],[1,"video-frame","square"],["autoplay","","loop","","muted","","preload","auto","playsinline","",3,"src"],[1,"word-text"],[1,"phonetic-pill"],[1,"image-container"],["src","assets/pronunciation/audio.png","alt","Play audio",1,"round-image",3,"click"],[1,"pp-center"],[1,"word-card","center-card"],[1,"center-media"],["src","assets/pronunciation/listening.mp4","class","media-rounded","autoplay","","loop","","muted","","height","469","width","521",3,"ended",4,"ngIf"],["class","media-rounded","autoplay","","muted","","height","469","width","521",3,"src","play","pause","ended",4,"ngIf"],[1,"controls-row"],["role","button","tabindex","0",1,"listen-img",3,"click","keydown.enter","keydown.space","src"],["type","button",1,"progress-btn",3,"click"],["width","85","height","85","viewBox","0 0 90 90","aria-hidden","true",1,"progress-ring"],["stroke","#3aaea8","stroke-width","6","fill","transparent","r","38","cx","45","cy","45",1,"progress-ring__background"],["stroke","#3aaea8","stroke-linecap","round","stroke-width","6","fill","transparent","r","38","cx","45","cy","45",1,"progress-ring__bar"],["aria-hidden","true",1,"label"],["class","action-text",4,"ngIf"],["class","seconds",4,"ngIf"],[1,"pp-right"],[1,"gauge-wrapper"],[1,"gauge"],[1,"gauge-arc"],[1,"needle"],[1,"mic-badge"],[1,"score-span"],[1,"fb-board"],["src","assets/pronunciation/board.png","alt","Slate"],[1,"center-text1"],[1,"container"],[1,"arrow","left",3,"click","disabled"],[1,"center-text"],[1,"arrow","right",3,"click","disabled"],["aria-label","Close",1,"user-guide-close-icon",3,"click"],["src","assets/pronunciation/listening.mp4","autoplay","","loop","","muted","","height","469","width","521",1,"media-rounded",3,"ended"],["autoplay","","muted","","height","469","width","521",1,"media-rounded",3,"play","pause","ended","src"],[1,"action-text"],[1,"seconds"]],template:function(i,r){i&1&&(d(0,"div",1)(1,"div",2)(2,"h1"),u(3,"Pronunciation Practice"),l()(),d(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"video",8),u(10," Your browser does not support the video tag. "),l()()(),d(11,"div",9),u(12),l(),d(13,"div",10),u(14),l(),d(15,"div",11)(16,"img",12),D("click",function(){return r.playWordAudio()}),l()()()(),d(17,"div",13)(18,"div",14)(19,"div",15),P(20,Mk,2,0,"video",16)(21,Tk,3,1,"video",17),l(),d(22,"div",18)(23,"img",19),D("click",function(){return r.toggleVideoPlay()})("keydown.enter",function(){return r.toggleVideoPlay()})("keydown.space",function(s){return r.toggleVideoPlay(),s.preventDefault()}),l(),d(24,"button",20),D("click",function(){return r.toggleRecording()}),rc(),d(25,"svg",21),_(26,"circle",22)(27,"circle",23),l(),Bg(),d(28,"div",24),P(29,Ak,2,0,"span",25)(30,Ok,2,0,"span",25)(31,kk,3,4,"span",26),l()()()()(),d(32,"div",27)(33,"div",28)(34,"div",29),_(35,"div",30)(36,"div",31),l(),d(37,"div",32)(38,"span",33),u(39),l()()(),d(40,"div",34),_(41,"img",35),d(42,"div",36),u(43),l()(),d(44,"div",37)(45,"button",38),D("click",function(){return r.prev()}),u(46,"\u2039"),l(),d(47,"span",39),u(48),l(),d(49,"button",40),D("click",function(){return r.next()}),u(50,"\u203A"),l()()()()(),d(51,"button",41),D("click",function(){return r.closePopup()}),u(52,"\xD7"),l()),i&2&&(m(9),g("src",r.current.imgSrc,ee),m(3),Ae(r.current.word),m(2),de(" ",r.current.phonetics," "),m(6),g("ngIf",!r.showVideo),m(),g("ngIf",r.showVideo),m(2),g("src",r.isPlayingVideo?r.pauseIconDataUrl:r.playIconDataUrl,ee),he("alt",r.isPlayingVideo?"Pause pronunciation":"Play pronunciation")("aria-label",r.isPlayingVideo?"Pause pronunciation":"Play pronunciation")("aria-pressed",r.isPlayingVideo),m(),ce("recording",r.isRecording),he("aria-pressed",r.isRecording),m(3),he("stroke-dasharray",r.circumference)("stroke-dashoffset",r.strokeDashoffset),m(2),g("ngIf",r.isRecording),m(),g("ngIf",!r.isCountingDown&&!r.isRecording),m(),g("ngIf",r.isCountingDown),m(5),Fo("--angle",r.needleAngle+"deg"),ce("oscillate",r.isOscillating),m(3),de("",r.score,"%"),m(4),de(" ",r.shortfeedback?r.shortfeedback:"Speak to get feedback"," "),m(2),g("disabled",r.index===0),m(3),Ae(r.current.letter),m(),g("disabled",r.index===r.items.length-1))},dependencies:[ct,G_],styles:["[_nghost-%COMP%]{display:block;font-family:Raleway,Roboto,Helvetica Neue,sans-serif}.pp-page[_ngcontent-%COMP%]{height:85vh;padding:28px 24px 18px;box-sizing:border-box;border:7px solid #3aaea8;border-radius:1vw}.pp-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:18px}.pp-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:42px;font-weight:800;color:#3aaea8;letter-spacing:.3px}.pp-main[_ngcontent-%COMP%]{display:flex;gap:1vw;align-items:start;justify-content:space-around}.pp-left[_ngcontent-%COMP%]{display:flex;justify-content:center}.word-card[_ngcontent-%COMP%]{width:22vw;height:34vw;background:#e9f7f6;border-radius:18px;padding:22px 18px 26px;text-align:center;box-shadow:0 12px 26px #00000014;border:3px dashed #3aaea8;gap:.5vw;display:flex;flex-direction:column;align-items:center;justify-content:space-between}.word-img-wrap[_ngcontent-%COMP%]{width:20vw;height:20vw;display:flex;align-items:center;justify-content:center}.word-text[_ngcontent-%COMP%]{font-size:3vw;font-weight:800;color:#1f2b2a}.phonetic-pill[_ngcontent-%COMP%]{color:#3aaea8;font-size:1.5vw;font-weight:600}.pp-center[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:14px;position:relative}.center-card[_ngcontent-%COMP%]{width:30vw}.center-media[_ngcontent-%COMP%]{width:29vw;height:26vw;background-color:#e9f7f6}.center-media[_ngcontent-%COMP%] > video[_ngcontent-%COMP%]{object-fit:cover;border-radius:1vw}.controls-row[_ngcontent-%COMP%]{display:flex;margin-top:1.8vw;gap:2vw}.gauge-wrapper[_ngcontent-%COMP%]{position:relative;width:20vw;height:10vw}.gauge[_ngcontent-%COMP%]{position:absolute;left:50%;top:0;transform:translate(-50%);width:100%;height:100%;border-radius:260px 260px 0 0;overflow:hidden;background:#f3f3f3;box-shadow:0 4px 10px #00000040 inset}.gauge-arc[_ngcontent-%COMP%]{position:absolute;inset:0;border-radius:50%;background:conic-gradient(from 270deg,#e53935 0deg 45deg,#fb8c00 45deg 90deg,#fbc02d 90deg 135deg,#43a047 135deg 180deg,transparent 180deg 360deg);height:20vw}.needle[_ngcontent-%COMP%]{position:absolute;bottom:0vw;left:50%;width:.7vw;height:8vw;background:#333;transform:translate(-50%) rotate(var(--angle, -90deg));transform-origin:50% 100%;transition:transform .7s cubic-bezier(.2,.9,.2,1);border-radius:10px;box-shadow:0 2px 6px #00000080}@keyframes _ngcontent-%COMP%_needleOscillate{0%{transform:translate(-50%) rotate(-70deg)}25%{transform:translate(-50%) rotate(-20deg)}50%{transform:translate(-50%) rotate(60deg)}75%{transform:translate(-50%) rotate(-10deg)}to{transform:translate(-50%) rotate(-70deg)}}.needle.oscillate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_needleOscillate 1.2s ease-in-out infinite;transition:none}.mic-badge[_ngcontent-%COMP%]{position:absolute;bottom:-.3vw;left:50%;transform:translate(-50%,35%);width:3vw;height:3vw;border-radius:50%;background:#000;box-shadow:0 8px 18px #0006;display:flex;align-items:center;justify-content:center}.score-span[_ngcontent-%COMP%]{color:#fff;font-size:1vw;font-weight:700}.fb-board[_ngcontent-%COMP%]{position:relative;top:-1vw;left:2vw;width:17vw}.fb-board[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;display:block}.center-text1[_ngcontent-%COMP%]{position:absolute;top:60%;left:50%;transform:translate(-50%,-50%);color:#fff;font-size:1.2vw;font-weight:700;text-align:center;width:14vw}.video-frame[_ngcontent-%COMP%]{width:100%;aspect-ratio:16 / 9;border-radius:1vw;overflow:hidden;box-shadow:0 2px 6px #0000002e,0 12px 24px #00000029,0 24px 48px #0000001f}.video-frame.square[_ngcontent-%COMP%]{aspect-ratio:1 / 1}.video-frame[_ngcontent-%COMP%] > video[_ngcontent-%COMP%]{width:100%;height:100%;display:block;object-fit:cover}.listen-img[_ngcontent-%COMP%]{width:4.8vw;height:4.8vw;border-radius:50%;display:inline-block;object-fit:contain;cursor:pointer;-webkit-user-select:none;user-select:none;margin-right:1vw;box-shadow:0 10px 30px #0006;transition:all .3s ease;border:none}.listen-img[_ngcontent-%COMP%]:active{transform:scale(.98)}.listen-img.playing[_ngcontent-%COMP%], .listen-img[aria-pressed=true][_ngcontent-%COMP%]{filter:brightness(.95);box-shadow:0 18px 30px #00000029}.listen-img[_ngcontent-%COMP%]:focus{outline:3px solid rgba(58,174,168,.18);outline-offset:3px}.progress-btn[_ngcontent-%COMP%]{width:4.8vw;height:4.8vw;border-radius:50%;display:inline-flex;align-items:center;justify-content:center;padding:0;border:none;background:#f07b48;position:relative;cursor:pointer;box-shadow:0 10px 30px #0006;transition:transform .12s ease,box-shadow .12s ease}.progress-btn[_ngcontent-%COMP%]:active{transform:scale(.98)}.progress-btn.recording[_ngcontent-%COMP%]{filter:brightness(.95);animation:_ngcontent-%COMP%_recPulse 1s infinite}@keyframes _ngcontent-%COMP%_recPulse{0%{box-shadow:0 0 #f07b48}70%{box-shadow:0 0 0 18px #f07b4800}to{box-shadow:0 0 #f07b4800}}.progress-ring[_ngcontent-%COMP%]{width:100%;height:100%;transform:rotate(-90deg);display:block}.progress-ring__background[_ngcontent-%COMP%]{stroke:#eee;opacity:1}.progress-ring__bar[_ngcontent-%COMP%]{stroke:#3aaea8;transition:stroke-dashoffset .12s linear}.label[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;pointer-events:none;font-weight:700;color:#222;font-size:2.5rem}.seconds[_ngcontent-%COMP%]{color:#fff;padding:4px 8px;border-radius:6px}.container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:40px}.arrow[_ngcontent-%COMP%]{font-size:3.3vw;background-color:#e0f7fa;border:none;width:4.8vw;height:4.8vw;border-radius:50%;display:flex;justify-content:center;align-items:center;cursor:pointer;box-shadow:4px 4px 15px #0003;color:#00796b;transition:background-color .3s,color .3s}.arrow[_ngcontent-%COMP%]:disabled{background-color:#cfd8dc;color:#90a4ae;cursor:not-allowed;box-shadow:none}.center-text[_ngcontent-%COMP%]{font-size:5rem;font-weight:700;color:#00796b;width:4vw;text-align:center}.image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.round-image[_ngcontent-%COMP%]{width:4.8vw;height:4.8vw;border-radius:50%;box-shadow:0 10px 30px #0006;transition:all .3s ease;cursor:pointer}.round-image[_ngcontent-%COMP%]:active{transform:scale(1.1)}.user-guide-close-icon[_ngcontent-%COMP%]{position:fixed;top:3vw;right:4vw;background:#009688;border:none;width:44px;height:44px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:2vw;color:#000;cursor:pointer;z-index:2010;box-shadow:0 2px 8px #5d91c32e;transition:background .2s,color .2s}@media (max-width: 980px){.listen-img[_ngcontent-%COMP%]{width:72px;height:72px;padding:14px}}.pp-right[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5vw}"]})}}return t})();var bi=(()=>{class t{constructor(e,i){this.http=e,this.router=i,this.API_BASE_URL=zt.apiBaseUrl,this.TOKEN_REFRESH_INTERVAL=12*60*1e3,this.LOGIN_ENDPOINT="/auth/login",this.LOGOUT_ENDPOINT="/auth/logout",this.REFRESH_ENDPOINT="/auth/refresh",this.CHECK_AUTH_ENDPOINT="/auth/check-auth",this.loggedInSubject=new Oe(!1),this.refreshIntervalId=null,this.isLoggedIn$=this.loggedInSubject.asObservable(),this.initializeAuthState()}initializeAuthState(){let e=this.hasValidSession();this.loggedInSubject.next(e)}hasValidSession(){return typeof localStorage<"u"&&!!localStorage.getItem("username")}isLoggedIn(){return this.loggedInSubject.value}setLoggedIn(e){this.loggedInSubject.next(e)}login(e){let i={username:e.username,password:e.password};return this.http.post(`${this.API_BASE_URL}${this.LOGIN_ENDPOINT}`,i,{withCredentials:!0}).pipe(ke(()=>{this.setLoggedIn(!0),this.startAutoRefresh(),localStorage.setItem("username",e.username)}),nt(this.handleAuthError.bind(this)))}logout(){return this.http.post(`${this.API_BASE_URL}${this.LOGOUT_ENDPOINT}`,{},{withCredentials:!0}).pipe(ke(()=>this.handleLogoutSuccess()),nt(e=>(this.handleLogoutSuccess(),un(()=>e))),ht(()=>this.handleLogoutSuccess()))}checkSession(){return this.http.get(`${this.API_BASE_URL}${this.CHECK_AUTH_ENDPOINT}`,{withCredentials:!0}).pipe(ke(()=>{this.setLoggedIn(!0),this.startAutoRefresh()}),Qe(()=>[!0]),nt(e=>e.status===401?this.attemptTokenRefresh():(this.setLoggedIn(!1),[!1])))}startAutoRefresh(){this.refreshIntervalId||(this.refreshIntervalId=window.setInterval(()=>{this.refreshAccessToken().subscribe({error:()=>this.handleRefreshError()})},this.TOKEN_REFRESH_INTERVAL))}clearAutoRefresh(){this.refreshIntervalId&&(clearInterval(this.refreshIntervalId),this.refreshIntervalId=null)}refreshAccessToken(){return this.http.post(`${this.API_BASE_URL}${this.REFRESH_ENDPOINT}`,{},{withCredentials:!0}).pipe(nt(this.handleRefreshError.bind(this)))}attemptTokenRefresh(){return this.http.post(`${this.API_BASE_URL}${this.REFRESH_ENDPOINT}`,{},{withCredentials:!0}).pipe(ke(()=>{this.setLoggedIn(!0),this.startAutoRefresh()}),Qe(()=>[!0]),nt(()=>(this.setLoggedIn(!1),[!1])))}handleAuthError(e){let i="Authentication failed";return e.error?.message?i=e.error.message:e.status===401?i="Invalid credentials":e.status===0&&(i="Network error - please check your connection"),un(()=>({message:i,status:e.status}))}handleRefreshError(){return this.clearTokens(),this.setLoggedIn(!1),this.router.navigate(["/login"]),un(()=>new Error("Session expired"))}handleLogoutSuccess(){this.clearTokens(),this.clearAutoRefresh(),this.setLoggedIn(!1),localStorage.removeItem("username")}clearTokens(){document.cookie="access_token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; secure; samesite=strict",document.cookie="refresh_token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; secure; samesite=strict"}getAccessToken(){if(typeof document>"u")return null;let i=document.cookie.split("; ").find(r=>r.startsWith("access_token="));return i?i.split("=")[1]:null}ngOnDestroy(){this.clearAutoRefresh()}static{this.\u0275fac=function(i){return new(i||t)(b(Mt),b(et))}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Pk(t,n){if(t&1){let e=V();d(0,"div")(1,"div",18),D("click",function(){I(e);let r=w(3);return S(r.closePrivacyPopup())}),l(),d(2,"div",19)(3,"button",20),D("click",function(){I(e);let r=w(3);return S(r.closePrivacyPopup())}),u(4,"\xD7"),l(),d(5,"ul",21)(6,"li",22)(7,"b"),u(8,"Privacy Policy \u2014 Py-learn"),l(),_(9,"br"),d(10,"ul",23)(11,"li")(12,"b"),u(13,"Last Updated:"),l(),u(14," November 2025"),l(),d(15,"li")(16,"b"),u(17,"Who we are:"),l(),u(18," Py-learn is operated by "),d(19,"b"),u(20,"Pykara Technologies Private Limited"),l(),u(21," (\u201Cwe\u201D, \u201Cus\u201D, \u201Cour\u201D), the data controller for personal data processed through the platform."),l(),d(22,"li")(23,"b"),u(24,"Contact:"),l(),d(25,"a",24),u(26,"info@pykara.ai"),l()()()(),d(27,"li")(28,"b"),u(29,"Overview"),l(),_(30,"br"),d(31,"ul",23)(32,"li"),u(33,"We collect limited personal data to deliver an AI-powered e-learning experience (chatbots, video lessons, quizzes) and to improve learning outcomes."),l(),d(34,"li"),u(35,"We comply with applicable laws, including GDPR where relevant to users in the EEA/UK."),l()()(),d(36,"li")(37,"b"),u(38,"Information We Collect"),l(),_(39,"br"),d(40,"ul",23)(41,"li")(42,"b"),u(43,"Account Data:"),l(),u(44," name, email, password (hashed), profile details."),l(),d(45,"li")(46,"b"),u(47,"Learning Data:"),l(),u(48," enrolled courses, lessons viewed, quiz results, progress analytics, feedback."),l(),d(49,"li")(50,"b"),u(51,"Technical Data:"),l(),u(52," device/browser info, IP address, timestamps, logs, approximate location from IP."),l(),d(53,"li")(54,"b"),u(55,"Cookies & Similar Tech:"),l(),u(56," preferences, session management, analytics (see \u201CCookies\u201D)."),l()()(),d(57,"li")(58,"b"),u(59,"Purposes of Processing"),l(),_(60,"br"),d(61,"ul",23)(62,"li"),u(63,"Provide and secure the service; authenticate users; maintain accounts."),l(),d(64,"li"),u(65,"Personalise content, recommendations, and difficulty levels."),l(),d(66,"li"),u(67,"Measure performance, improve features, and fix issues."),l(),d(68,"li"),u(69,"Send essential service communications (policy changes, security notices)."),l(),d(70,"li"),u(71,"Comply with legal obligations and enforce Terms."),l()()(),d(72,"li")(73,"b"),u(74,"Legal Bases (GDPR)"),l(),_(75,"br"),d(76,"ul",23)(77,"li")(78,"b"),u(79,"Contract necessity:"),l(),u(80," to deliver core features you request."),l(),d(81,"li")(82,"b"),u(83,"Legitimate interests:"),l(),u(84," service improvement, security, fraud prevention (balanced against your rights)."),l(),d(85,"li")(86,"b"),u(87,"Consent:"),l(),u(88," non-essential cookies, optional marketing (you can withdraw at any time)."),l(),d(89,"li")(90,"b"),u(91,"Legal obligation:"),l(),u(92," records, compliance, and requests from authorities where required by law."),l()()(),d(93,"li")(94,"b"),u(95,"Automated Processing & AI"),l(),_(96,"br"),d(97,"ul",23)(98,"li"),u(99,"AI is used to generate explanations, hints, and recommendations. We do not make decisions with legal or similarly significant effects solely by automated means."),l()()(),d(100,"li")(101,"b"),u(102,"Third-Party Processors & Transfers"),l(),_(103,"br"),d(104,"ul",23)(105,"li"),u(106,"We use reputable vendors for AI inference, hosting, analytics, email delivery, and content streaming. They act under contracts and process data only on our instructions."),l(),d(107,"li"),u(108,"Where data is transferred outside your country (including outside the EEA/UK), appropriate safeguards are applied (e.g., Standard Contractual Clauses)."),l()()(),d(109,"li")(110,"b"),u(111,"Data Sharing"),l(),_(112,"br"),d(113,"ul",23)(114,"li"),u(115,"With service providers under confidentiality and security obligations."),l(),d(116,"li"),u(117,"For legal reasons (court orders, to protect users and our rights, prevent fraud or abuse)."),l(),d(118,"li"),u(119,"Business changes (merger, acquisition); we will ensure comparable protections or notify you of material changes."),l()()(),d(120,"li")(121,"b"),u(122,"Data Security & Retention"),l(),_(123,"br"),d(124,"ul",23)(125,"li"),u(126,"We apply technical and organisational measures (encryption at rest/in transit, access controls, monitoring)."),l(),d(127,"li"),u(128,"We retain personal data only as long as needed for the purposes above or as required by law. "),d(129,"b"),u(130,"Inactive accounts may be deleted after 24 months."),l()()()(),d(131,"li")(132,"b"),u(133,"Cookies & Similar Technologies"),l(),_(134,"br"),d(135,"ul",23)(136,"li")(137,"b"),u(138,"Essential:"),l(),u(139," login/session, security, load balancing."),l(),d(140,"li")(141,"b"),u(142,"Preferences:"),l(),u(143," UI settings, language, playback choices."),l(),d(144,"li")(145,"b"),u(146,"Analytics:"),l(),u(147," usage statistics to improve features."),l(),d(148,"li"),u(149,"You may control cookies via your browser. Disabling some cookies may affect functionality."),l()()(),d(150,"li")(151,"b"),u(152,"Children\u2019s Privacy"),l(),_(153,"br"),d(154,"ul",23)(155,"li"),u(156,"The service is intended for users aged 13+. If we learn that data from a child under 13 was collected without appropriate consent, we will delete it."),l()()(),d(157,"li")(158,"b"),u(159,"Your Rights (EEA/UK where applicable)"),l(),_(160,"br"),d(161,"ul",23)(162,"li"),u(163,"Access, rectify, erase, restrict processing, object, and data portability."),l(),d(164,"li"),u(165,"Withdraw consent (for consent-based processing) without affecting prior lawful processing."),l(),d(166,"li"),u(167,"Lodge a complaint with a supervisory authority. We encourage contacting us first at "),d(168,"a",24),u(169,"info@pykara.ai"),l(),u(170,"."),l()()(),d(171,"li")(172,"b"),u(173,"Data Breach Notification"),l(),_(174,"br"),d(175,"ul",23)(176,"li"),u(177,"We will notify affected users and relevant authorities when legally required."),l()()(),d(178,"li")(179,"b"),u(180,"Changes to this Policy"),l(),_(181,"br"),d(182,"ul",23)(183,"li"),u(184,"We may update this policy. The \u201CLast Updated\u201D date reflects the latest version; material changes may be additionally notified in-app or by email."),l()()(),d(185,"li")(186,"b"),u(187,"Contact"),l(),_(188,"br"),d(189,"ul",23)(190,"li"),u(191,"Email: "),d(192,"a",24),u(193,"info@pykara.ai"),l()(),d(194,"li"),u(195,"Registered Office: Pykara Technologies Private Limited, Chennai, Tamil Nadu, India"),l()()()()()()}}function Rk(t,n){if(t&1){let e=V();d(0,"div")(1,"div",18),D("click",function(){I(e);let r=w(3);return S(r.closeTermsPopup())}),l(),d(2,"div",25)(3,"button",20),D("click",function(){I(e);let r=w(3);return S(r.closeTermsPopup())}),u(4,"\xD7"),l(),d(5,"ul",21)(6,"li",26)(7,"b"),u(8,"Terms & Conditions \u2014 Py-learn"),l(),_(9,"br"),d(10,"ul",23)(11,"li")(12,"b"),u(13,"Last Updated:"),l(),u(14," November 2025"),l(),d(15,"li"),u(16,"By using Py-learn, you agree to these Terms and our Privacy Policy."),l()()(),d(17,"li")(18,"b"),u(19,"Eligibility & Accounts"),l(),_(20,"br"),d(21,"ul",23)(22,"li"),u(23,"You must be 13+ (or the age of digital consent in your region). Users under 18 require parental/guardian consent."),l(),d(24,"li"),u(25,"You are responsible for the accuracy of your information and for safeguarding your credentials."),l()()(),d(26,"li")(27,"b"),u(28,"Permitted Use & Prohibited Conduct"),l(),_(29,"br"),d(30,"ul",23)(31,"li"),u(32,"Use the service for lawful, educational purposes only."),l(),d(33,"li"),u(34,"Do not attempt unauthorised access, disrupt the service, reverse engineer components, or misuse AI features."),l(),d(35,"li"),u(36,"International users must comply with local laws."),l()()(),d(37,"li")(38,"b"),u(39,"Content & Intellectual Property"),l(),_(40,"br"),d(41,"ul",23)(42,"li"),u(43,"All software, UI, designs, text, graphics, videos, and datasets are owned by Pykara Technologies or its licensors."),l(),d(44,"li"),u(45,"Copying, redistribution, or commercial use requires prior written consent."),l(),d(46,"li"),u(47,"When you submit content (e.g., answers, uploads), you grant us a non-exclusive, royalty-free licence to host and process it to operate and improve the service (including for AI model quality and safety, where allowed by law and your settings)."),l()()(),d(48,"li")(49,"b"),u(50,"AI Outputs & Educational Disclaimer"),l(),_(51,"br"),d(52,"ul",23)(53,"li"),u(54,"AI responses support learning but may contain errors. Verify outputs before relying on them; they are not professional advice."),l()()(),d(55,"li")(56,"b"),u(57,"Fees, Trials & Refunds"),l(),_(58,"br"),d(59,"ul",23)(60,"li"),u(61,"Some features may be paid (subscriptions or one-off fees). Prices and taxes are shown at checkout."),l(),d(62,"li"),u(63,"Payments are processed securely by third-party providers. Unless required by law, payments are non-refundable."),l()()(),d(64,"li")(65,"b"),u(66,"Third-Party Links & Services"),l(),_(67,"br"),d(68,"ul",23)(69,"li"),u(70,"We may link to third-party content or integrate with providers (hosting, analytics, AI). We are not responsible for third-party terms or policies."),l()()(),d(71,"li")(72,"b"),u(73,"Termination & Suspension"),l(),_(74,"br"),d(75,"ul",23)(76,"li"),u(77,"We may suspend or terminate access for violations, fraud, or security risks. You may request account closure at any time."),l()()(),d(78,"li")(79,"b"),u(80,"Warranties & Liability"),l(),_(81,"br"),d(82,"ul",23)(83,"li"),u(84,"The service is provided \u201Cas is\u201D and \u201Cas available\u201D without warranties of any kind."),l(),d(85,"li"),u(86,"To the fullest extent permitted by law, we are not liable for indirect, incidental, special, consequential, or punitive damages."),l()()(),d(87,"li")(88,"b"),u(89,"Indemnity"),l(),_(90,"br"),d(91,"ul",23)(92,"li"),u(93,"You agree to indemnify and hold us harmless from claims arising from your misuse of the service or breach of these Terms."),l()()(),d(94,"li")(95,"b"),u(96,"Changes to the Service or Terms"),l(),_(97,"br"),d(98,"ul",23)(99,"li"),u(100,"We may modify features or these Terms. Continued use after changes indicates acceptance; material updates may be additionally notified in-app or by email."),l()()(),d(101,"li")(102,"b"),u(103,"Governing Law & Disputes"),l(),_(104,"br"),d(105,"ul",23)(106,"li"),u(107,"Governing law: India. Exclusive jurisdiction: courts in Chennai, Tamil Nadu, India."),l()()(),d(108,"li")(109,"b"),u(110,"Contact"),l(),_(111,"br"),d(112,"ul",23)(113,"li"),u(114,"Support & legal queries: "),d(115,"a",24),u(116,"info@pykara.ai"),l()(),d(117,"li"),u(118,"Registered Office: Pykara Technologies Private Limited, Chennai, Tamil Nadu, India"),l()()()()()()}}function Nk(t,n){if(t&1){let e=V();xe(0),d(1,"p"),u(2,"\xA9 2025 Pykara Technologies Pvt. Ltd. All rights reserved."),l(),d(3,"a",3),u(4,"Contact Us"),l(),u(5," | "),d(6,"a",4),D("click",function(r){I(e);let o=w(2);return S(o.openPrivacyPopup(r))}),u(7,"Privacy Policy"),l(),u(8," | "),d(9,"a",4),D("click",function(r){I(e);let o=w(2);return S(o.openTermsPopup(r))}),u(10,"Terms & Conditions"),l(),d(11,"div",5)(12,"a",6),_(13,"i",7),l(),d(14,"a",8),_(15,"i",9),l(),d(16,"a",10),_(17,"i",11),l(),d(18,"a",12),_(19,"i",13),l(),d(20,"a",14),_(21,"i",15),l()(),P(22,Pk,196,0,"div",0)(23,Rk,119,0,"div",0),d(24,"div",16)(25,"a",17),u(26,"www.pykara.ai"),l()(),De()}if(t&2){let e=w(2);m(12),g("href",e.brandService.socialLinksCurrent.linkedin,ee),m(2),g("href",e.brandService.socialLinksCurrent.youtube,ee),m(2),g("href",e.brandService.socialLinksCurrent.facebook,ee),m(2),g("href",e.brandService.socialLinksCurrent.instagram,ee),m(2),g("href",e.brandService.socialLinksCurrent.website,ee),m(2),g("ngIf",e.showPrivacyPopup),m(),g("ngIf",e.showTermsPopup)}}function Fk(t,n){if(t&1){let e=V();d(0,"div")(1,"div",18),D("click",function(){I(e);let r=w(3);return S(r.closePrivacyPopup())}),l(),d(2,"div",19)(3,"button",20),D("click",function(){I(e);let r=w(3);return S(r.closePrivacyPopup())}),u(4,"\xD7"),l(),d(5,"ul",21)(6,"li",22)(7,"b"),u(8,"Privacy Policy \u2014 Majema"),l(),_(9,"br"),d(10,"ul",23)(11,"li")(12,"b"),u(13,"What personal data is collected?"),l(),_(14,"br"),u(15,"Majemaf\xF6rlaget AB processes personal data that you provide to us. Personal data that will be processed includes, for example, name, social security number, school affiliation, role, interests related to teaching, address, e-mail address and telephone number. You provide the personal data yourself in connection with ordering, expressions of interest, by telephone or when visiting teaching material exhibitions, school visits and teacher meetings. On our website we use cookies and save your IP address."),l(),d(16,"li"),u(17,"It is voluntary to provide your personal data, but in some cases we cannot provide you with the service and/or product you have ordered if you do not provide your personal data."),l(),d(18,"li"),u(19,"We do not collect any personal information from third-party companies. Advertising may occur on external websites and then we can obtain statistics that are not personal through cookies."),l(),d(20,"li")(21,"b"),u(22,"Purposes of personal data processing"),l(),_(23,"br"),u(24,"Your personal data will be processed in order for us to fulfill our commitments to you. We may also process your data for the purposes below as well as for our market and customer analyses and statistics in order to provide you with a better offer and better service. We may, unless you have objected to direct marketing in writing, also use your personal data to provide various offers of services and/or products from us. You may unsubscribe from receiving such offers at any time with each marketing message. If we process data for other purposes, we will inform you of this."),l(),d(25,"li")(26,"b"),u(27,"Storage of personal data"),l(),_(28,"br"),u(29,"We may transfer your data to IT service providers and other service providers who then process the data on our behalf. If we transfer your data outside the EU, we ensure that we have a legal basis for such transfer. This can be done through the EU Commission's standard contractual clauses. Majema takes the greatest possible security measures to protect your personal data. All identifiable personal data is subject to access restrictions to prevent unauthorized access, alteration or misuse. We will store your data for as long as necessary to fulfill our obligations to you."),l(),d(30,"li")(31,"b"),u(32,"Our legal basis"),l(),_(33,"br"),u(34,"We process your data based on our legitimate interest or to enable us to fulfill our obligations to you."),l(),d(35,"li")(36,"b"),u(37,"Cookies \u2013 Information collected via www.majema.se"),l(),_(38,"br"),u(39,"www.majema.se is managed by Majemaf\xF6rlaget AB. Majema's website uses cookies to give you access to additional functions, such as previous orders and to simplify logging into your account. You can refuse the use of cookies through your browser settings. Majema uses analysis tools to get a picture of how visitors use our websites, in order to improve the content, navigation and structure of the websites. The analysis tools use JavaScript and cookies and the information generated by these through your use of the website (including your IP address) will be forwarded to the analysis tools' service providers and may be stored on servers outside the EU. The service providers may also transfer this information to third parties if required by law or in cases where a third party processes the information on their behalf. By using Majema's websites without declining third-party cookies, you agree that the service providers process your data in the manner and for the purposes described above. If you do not want your visits to Majema's website to be included in the service providers' statistics, there is an add-on that you can install in your browser."),l(),d(40,"li")(41,"b"),u(42,"Your rights"),l(),_(43,"br"),u(44,'According to applicable data protection legislation, you have the right to request that incorrect personal data be corrected, blocked, restricted or deleted. In addition, you can also object to processing or request that your data be transferred to another data controller, so-called data portability. You also have the right to request written information, a so-called register extract, about the personal data we process about you once a year, free of charge, by sending a written signed application to our address below. Mark the application with "Request for register extract". If you are dissatisfied with our processing, you have the right to file a complaint with the Swedish Data Protection Authority.'),l(),d(45,"li")(46,"b"),u(47,"Contact information"),l(),_(48,"br"),u(49,"Majemaf\xF6rlaget AB, 556414-9135, is the data controller for the processing of your personal data that you provide when filling out contact forms on the website. Address: Majemaf\xF6rlaget AB, Box 4016, 131 04 Nacka"),l()()()()()()}}function Lk(t,n){if(t&1){let e=V();d(0,"div")(1,"div",18),D("click",function(){I(e);let r=w(3);return S(r.closeTermsPopup())}),l(),d(2,"div",25)(3,"button",20),D("click",function(){I(e);let r=w(3);return S(r.closeTermsPopup())}),u(4,"\xD7"),l(),d(5,"ul",21)(6,"li",26)(7,"b"),u(8,"Terms & Conditions \u2014 Majema"),l(),_(9,"br"),d(10,"ul",23)(11,"li"),u(12,"By using Majema, you agree to these Terms and our Privacy Policy."),l()()(),d(13,"li")(14,"b"),u(15,"System requirements"),l(),_(16,"br"),d(17,"ul",23)(18,"li"),u(19,"Majema's digital learning materials work on computers, tablets and interactive whiteboards. Our digital learning materials are based on HTML5 and JavaScript. This means that older versions of browsers are not always fully supported. We recommend using an updated version of the Chrome browser to best experience our digital learning materials."),l(),d(20,"li"),u(21,"Here you can download "),d(22,"a",29),u(23,"Google Chrome for free"),l(),u(24,"."),l(),d(25,"li"),u(26," For the best user experience, you should make sure these four points are met: "),d(27,"ol",30)(28,"li"),u(29,"Make sure your browser is set to 100% zoom. This is important for the content to look correct on the screen."),l(),d(30,"li"),u(31,"Update your browser."),l(),d(32,"li"),u(33,"Clear your cache. Select: settings, privacy and security, clear browsing data. (If clearing the cache isn't enough, you can open a new incognito window in Chrome and log in from there.)"),l(),d(34,"li"),u(35,"If you are using a tablet \u2013 update your operating system. This is done under settings."),l()()(),d(36,"li")(37,"b"),u(38,"Web browser"),l(),_(39,"br"),u(40," We recommend that you always update your browser to the latest version."),_(41,"br"),u(42," We test our digital learning materials against the following browsers: Chrome, Edge, Safari and Firefox. "),l(),d(43,"li")(44,"b"),u(45,"License management"),l(),_(46,"br"),u(47," All of our websites are licensed to apply to one teacher and class for one year from the date of activation."),_(48,"br"),u(49," If there is a student website, it is activated at the same time as you activate the teacher website."),_(50,"br"),u(51," To extend a license, you need to make a new purchase, in the webshop, through a retailer or with our customer service."),_(52,"br"),u(53," Should a license need to be transferred from one teacher to another, please contact our customer service and we will help you with this."),_(54,"br"),u(55," You can change your account details yourself under the My Account tab when you are logged in. "),l(),d(56,"li")(57,"b"),u(58,"Operating system"),l(),_(59,"br"),u(60," We recommend that you always update your operating system to the latest version."),_(61,"br"),d(62,"ul",31)(63,"li"),u(64,"Windows 7, 8, 10, 11"),l(),d(65,"li"),u(66,"Chrome OS (Chromebook)"),l(),d(67,"li"),u(68,"Mac OS (11 and later)"),l(),d(69,"li"),u(70,"Android tablet 11 or later (with Chrome browser)"),l(),d(71,"li"),u(72,"iOS 14 and later (iPad operating system)"),l()(),u(73," Majema does not guarantee support for devices and operating systems that are no longer updated by the manufacturer. "),l()()()()()()}}function Vk(t,n){if(t&1){let e=V();xe(0),d(1,"p"),u(2,"\xA9 2025 Majemaf\xF6rlaget. All rights reserved."),l(),d(3,"a",27),u(4,"Contact Us"),l(),u(5," | "),d(6,"a",4),D("click",function(r){I(e);let o=w(2);return S(o.openPrivacyPopup(r))}),u(7,"Privacy Policy"),l(),u(8," | "),d(9,"a",4),D("click",function(r){I(e);let o=w(2);return S(o.openTermsPopup(r))}),u(10,"Terms & Conditions"),l(),d(11,"div",5)(12,"a",6),_(13,"i",7),l(),d(14,"a",8),_(15,"i",9),l(),d(16,"a",10),_(17,"i",11),l(),d(18,"a",12),_(19,"i",13),l(),d(20,"a",14),_(21,"i",15),l()(),P(22,Fk,50,0,"div",0)(23,Lk,74,0,"div",0),d(24,"div",16)(25,"a",28),u(26,"www.majema.se"),l()(),De()}if(t&2){let e=w(2);m(12),g("href",e.brandService.socialLinksCurrent.linkedin,ee),m(2),g("href",e.brandService.socialLinksCurrent.youtube,ee),m(2),g("href",e.brandService.socialLinksCurrent.facebook,ee),m(2),g("href",e.brandService.socialLinksCurrent.instagram,ee),m(2),g("href",e.brandService.socialLinksCurrent.website,ee),m(2),g("ngIf",e.showPrivacyPopup),m(),g("ngIf",e.showTermsPopup)}}function jk(t,n){if(t&1&&(d(0,"footer"),xe(1,1),P(2,Nk,27,7,"ng-container",2)(3,Vk,27,7,"ng-container",2),De(),l()),t&2){let e=w();m(),g("ngSwitch",e.brandService.name),m(),g("ngSwitchCase","Py-Learn"),m(),g("ngSwitchCase","MJ-Learn")}}var Vl=(()=>{class t{constructor(e){this.brandService=e,this.showPrivacyPopup=!1,this.showTermsPopup=!1}openPrivacyPopup(e){e.preventDefault(),this.showPrivacyPopup=!0}closePrivacyPopup(){this.showPrivacyPopup=!1}openTermsPopup(e){e.preventDefault(),this.showTermsPopup=!0}closeTermsPopup(){this.showTermsPopup=!1}static{this.\u0275fac=function(i){return new(i||t)(C(En))}}static{this.\u0275cmp=me({type:t,selectors:[["app-footer"]],standalone:!0,features:[Ue],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["href","https://pykara.ai/contact-us/","target","blank"],["href","#",3,"click"],[1,"social-icons"],["target","_blank","aria-label","LinkedIn",1,"social-icon","linkedin",3,"href"],[1,"fab","fa-linkedin-in"],["target","_blank","aria-label","YouTube",1,"social-icon","youtube",3,"href"],[1,"fab","fa-youtube"],["target","_blank","aria-label","Facebook",1,"social-icon","facebook",3,"href"],[1,"fab","fa-facebook-f"],["target","_blank","aria-label","Instagram",1,"social-icon","instagram",3,"href"],[1,"fab","fa-instagram"],["target","_blank","aria-label","Website",1,"social-icon","website",3,"href"],[1,"fas","fa-globe"],[1,"footer-watermark-row"],["href","https://www.pykara.ai","target","_blank",1,"footer-watermark"],[1,"user-guide-overlay",3,"click"],["role","dialog","aria-modal","true","aria-labelledby","privacyTitle",1,"user-guide-modal"],["aria-label","Close",1,"user-guide-close-icon",3,"click"],[2,"text-align","justify","font-size","15px"],["id","privacyTitle"],[2,"list-style","unset","margin-left","1.25rem"],["href","mailto:info@pykara.ai"],["role","dialog","aria-modal","true","aria-labelledby","termsTitle",1,"user-guide-modal"],["id","termsTitle"],["href","https://www.majema.se/pages/kontakta-kundtjanst","target","_blank"],["href","https://www.majema.se","target","_blank",1,"footer-watermark"],["href","https://www.google.com/chrome/","target","_blank"],[2,"margin-left","1.5rem"],[2,"list-style","disc","margin-left","1.5rem"]],template:function(i,r){i&1&&P(0,jk,4,3,"footer",0),i&2&&g("ngIf",r.brandService.showFooter)},dependencies:[wt,ct,Uo,Vc],styles:[".user-guide-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000059;z-index:2000}.user-guide-modal[_ngcontent-%COMP%]{position:fixed;top:52%;left:50%;transform:translate(-50%,-50%);height:38vw;width:50vw;background:linear-gradient(135deg,#fff 80%,#e3fcec);color:#222;box-shadow:0 12px 40px #5d91c338;border-radius:18px;padding:1vw;z-index:2001;overflow:visible;border:10px solid var(--main-accent-color);box-sizing:border-box;font-weight:lighter}.user-guide-modal[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%], .user-guide-modal[_ngcontent-%COMP%] > ol[_ngcontent-%COMP%]{max-height:34.6vw;overflow-y:auto;padding-right:.5vw;margin:0}.user-guide-close-icon[_ngcontent-%COMP%]{top:-22px;right:-22px}.user-guide-modal[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:1.7;font-size:1.1vw;background:#5d91c312;padding:.5vw;box-shadow:0 2px 8px #5d91c30f}.user-guide-modal[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{color:#2b6296;font-size:1.15vw}.user-guide-modal[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#137ec4;text-decoration:underline;font-weight:600}.user-guide-modal[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#009688;text-decoration:underline}footer[_ngcontent-%COMP%]{background:linear-gradient(to right,#011022,#01030a);color:#fff;padding:15px 10px;text-align:center;width:100%;position:relative;font-size:18px;font-weight:700;font-family:Inter,Segoe UI,-apple-system,BlinkMacSystemFont,sans-serif}p.footer[_ngcontent-%COMP%]{line-height:1;margin-top:1vw}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;margin:0 5px;margin-bottom:.5vw;display:inline-block}footer[_ngcontent-%COMP%]   .social-icons[_ngcontent-%COMP%]{margin-top:.5vw;display:flex;justify-content:center;gap:28px;flex-wrap:wrap}footer[_ngcontent-%COMP%]   .social-icons[_ngcontent-%COMP%]   .social-icon[_ngcontent-%COMP%]{width:42px;height:42px;display:inline-flex;align-items:center;justify-content:center;border-radius:50%;background-color:#fff;color:#38bdf8;font-size:18px;box-shadow:0 0 0 1px #214055,0 4px 14px #0006;transition:background-color .25s,color .25s,transform .25s,box-shadow .25s;text-decoration:none}footer[_ngcontent-%COMP%]   .social-icons[_ngcontent-%COMP%]   .social-icon[_ngcontent-%COMP%]:hover{background-color:#38bdf8;color:#fff;transform:translateY(-4px);box-shadow:0 6px 20px #38bdf8aa,0 0 0 2px #38bdf8 inset}footer[_ngcontent-%COMP%]   .social-icons[_ngcontent-%COMP%]   .social-icon.facebook[_ngcontent-%COMP%]{color:#1877f2}footer[_ngcontent-%COMP%]   .social-icons[_ngcontent-%COMP%]   .social-icon.youtube[_ngcontent-%COMP%]{color:red}footer[_ngcontent-%COMP%]   .social-icons[_ngcontent-%COMP%]   .social-icon.linkedin[_ngcontent-%COMP%]{color:#0a66c2}footer[_ngcontent-%COMP%]   .social-icons[_ngcontent-%COMP%]   .social-icon.instagram[_ngcontent-%COMP%]{color:#fd5949}footer[_ngcontent-%COMP%]   .social-icons[_ngcontent-%COMP%]   .social-icon.facebook[_ngcontent-%COMP%]:hover{background-color:#1877f2;color:#fff}footer[_ngcontent-%COMP%]   .social-icons[_ngcontent-%COMP%]   .social-icon.youtube[_ngcontent-%COMP%]:hover{background-color:red;color:#fff}footer[_ngcontent-%COMP%]   .social-icons[_ngcontent-%COMP%]   .social-icon.linkedin[_ngcontent-%COMP%]:hover{background-color:#0a66c2;color:#fff}footer[_ngcontent-%COMP%]   .social-icons[_ngcontent-%COMP%]   .social-icon.instagram[_ngcontent-%COMP%]:hover{background:radial-gradient(circle at 30% 110%,#fdf497,#fd5949 45%,#d6249f 60%,#285aeb 90%);color:#fff;filter:brightness(1.15);box-shadow:0 6px 22px #fd594999}.footer-watermark-row[_ngcontent-%COMP%]{width:100%;text-align:right;margin-top:-40px}.footer-watermark[_ngcontent-%COMP%]{color:#38bdf8;font-weight:700;text-decoration:underline;font-size:1.1em;transition:color .2s}.footer-watermark[_ngcontent-%COMP%]:hover{color:#137ec4}@media (max-width: 600px){.user-guide-modal[_ngcontent-%COMP%]{width:90vw;height:60vw;border-radius:12px;padding:4vw 2vw 2vw}.user-guide-modal[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%], .user-guide-modal[_ngcontent-%COMP%] > ol[_ngcontent-%COMP%]{max-height:52vw;overflow-y:auto;padding-right:1.5vw}.user-guide-close-icon[_ngcontent-%COMP%]{font-size:6vw;top:2vw;right:2vw;width:6vw;height:6vw;display:flex;align-items:center;justify-content:center;line-height:1}.footer-watermark-row[_ngcontent-%COMP%]{text-align:center;margin-top:8px}}"]})}}return t})();function Uk(t,n){if(t&1){let e=V();d(0,"div",36),D("mouseleave",function(){I(e);let r=w(2);return S(r.closeAccountMenu())}),d(1,"div",37)(2,"div",38),u(3),l(),d(4,"div",39)(5,"div",40),u(6),l(),d(7,"div",41),u(8),l()()(),d(9,"div",42),D("click",function(){I(e);let r=w(2);return S(r.goToAccount())}),u(10,"My account"),l(),_(11,"hr"),d(12,"div",42),D("click",function(){I(e);let r=w(2);return S(r.logout())}),u(13,"Logout"),l()()}if(t&2){let e=w(2);m(3),Ae(e.usernameInitial),m(3),Ae(e.displayName),m(2),Ae(e.displayEmail)}}function $k(t,n){if(t&1){let e=V();xe(0),d(1,"div",34),D("click",function(){I(e);let r=w();return S(r.toggleAccountMenu())}),u(2),l(),P(3,Uk,14,3,"div",35),De()}if(t&2){let e=w();m(),he("title",e.usernameInitial),m(),de(" ",e.usernameInitial," "),m(),g("ngIf",e.showAccountMenu)}}function Hk(t,n){t&1&&(d(0,"a",43),_(1,"i",44),l()),t&2&&he("title","Login")}function zk(t,n){if(t&1){let e=V();d(0,"div",45),D("click",function(){let r=I(e).$implicit,o=w();return S(o.handleCardAction(r))})("keydown.enter",function(){let r=I(e).$implicit,o=w();return S(o.handleCardAction(r))})("keydown.space",function(){let r=I(e).$implicit,o=w();return S(o.handleCardAction(r))}),d(1,"div",46),_(2,"img",47),l(),d(3,"div",48)(4,"div",49)(5,"button",50),D("click",function(r){let o=I(e).$implicit,s=w();return r.stopPropagation(),S(s.openGuidePopup(o.title))}),u(6,"Know More"),l()()()()}if(t&2){let e=n.$implicit;ce("card--disabled",e.disabled),g("tabindex",e.disabled?-1:0),m(2),g("src",e.image,ee)("alt",e.title),m(3),g("disabled",e.disabled)}}function Gk(t,n){t&1&&(xe(0),d(1,"ul",56)(2,"li")(3,"b"),u(4,"Introduction"),l(),_(5,"br"),d(6,"ul",57)(7,"li"),u(8,"The Chat Module is an interactive learning environment designed to assist learners through text and voice-based communication."),l(),d(9,"li"),u(10,"Users can type their question or select from follow-up suggestions, using either the text input or the microphone."),l(),d(11,"li"),u(12,"Predefined questions appear above the input field for quick access."),l(),d(13,"li"),u(14,"This creates an engaging and personalised learning experience similar to interacting with a real tutor."),l()()(),d(15,"li")(16,"b"),u(17,"Starting the Chat"),l(),_(18,"br"),d(19,"ul",57)(20,"li"),u(21,"When learners open the module, they will see a text input box and a microphone icon. They can type a question or activate the microphone to speak."),l(),d(22,"li"),u(23,"While the microphone is active, a listening popup appears with options to mute or stop recording. Once the learner finishes speaking or typing, their question is displayed in the chat area along with a timestamp."),l(),d(24,"li"),u(25,"This simple interface ensures that both typing and speaking interactions are smooth and user-friendly."),l()()(),d(26,"li")(27,"b"),u(28,"Accessing the Syllabus"),l(),_(29,"br"),d(30,"ul",57)(31,"li"),u(32,"Before learners begin, an administrator uploads the syllabus or textbook in digital format."),l(),d(33,"li"),u(34,"The system analyses the document and automatically generates a list of predefined questions based on the uploaded syllabus."),l(),d(35,"li"),u(36,"These predefined questions are displayed above the input field, allowing learners to choose any topic without needing to type."),l(),d(37,"li"),u(38,"When a learner selects a question, the system locates the relevant section from the syllabus and prepares an answer. The response appears instantly in the chat area in a clear and readable format."),l()()(),d(39,"li")(40,"b"),u(41,"Receiving the Response"),l(),_(42,"br"),d(43,"ul",57)(44,"li"),u(45," After a question is sent, the system generates an immediate response that includes: "),d(46,"ul")(47,"li"),u(48,"A text-based explanation"),l(),d(49,"li"),u(50,"An audio narration in the tutor's real voice"),l(),d(51,"li"),u(52,"A derived video explanation, when applicable"),l()()(),d(53,"li"),u(54,"The response is first produced as text. If the learner chooses to listen, the system plays an audio narration that has been synthetically generated using the real voice of the teacher."),l(),d(55,"li"),u(56,"The voice is not a generic computer voice; it has been trained and modelled on the actual tutor's speech patterns, ensuring that the tone, pronunciation, and expression closely resemble the teacher's natural way of speaking."),l(),d(57,"li"),u(58,"Similarly, when a video explanation is requested, the system displays a derived video of the teacher. This video is not a pre-recorded clip or animation, but is generated to resemble the real teacher's voice and reactions."),l(),d(59,"li"),u(60,"All audio and video responses are created dynamically for each question, providing unique, real-time explanations. Learners can replay or stop the narration at any time, copy text responses, and follow the conversation naturally with the speaking indicator showing when the tutor's voice is active."),l(),d(61,"li"),u(62,"By default, audio is muted; you can enable it as needed."),l()()(),d(63,"li")(64,"b"),u(65,"Handling Out-of-Syllabus Questions"),l(),_(66,"br"),d(67,"ul",57)(68,"li"),u(69,'If a learner asks a question that is not part of the uploaded syllabus or textbook, the system responds with the message: "This topic is out of syllabus."'),l(),d(70,"li"),u(71,"Only administrators can configure whether such questions can be answered using external information sources."),l(),d(72,"li"),u(73,"This ensures that all discussions remain within the approved syllabus unless authorised otherwise."),l()()(),d(74,"li")(75,"b"),u(76,"Follow-Up and Progressive Learning"),l(),_(77,"br"),d(78,"ul",57)(79,"li"),u(80,"After each response, the system displays related or next-level questions below the chat. This feature helps learners progress through topics in a logical sequence."),l(),d(81,"li"),u(82,"A breadcrumb trail is also displayed, showing the topic flow and subtopics covered during the conversation."),l(),d(83,"li"),u(84,"Learners can easily revisit previous points and continue from where they left off."),l()()(),d(85,"li")(86,"b"),u(87,"Audio, Video, and Mode Controls"),l(),_(88,"br"),d(89,"ul",57)(90,"li"),u(91," At the top of the chat interface, four control buttons provide flexibility and accessibility: "),d(92,"ul")(93,"li"),u(94,"Audio Control \u2013 Enable or disable narration."),l(),d(95,"li"),u(96,"Video Control \u2013 Show or hide derived video explanations."),l(),d(97,"li"),u(98,"Syllabus Mode Control \u2013 Keep learning limited to syllabus topics."),l(),d(99,"li"),u(100,"Breadcrumb Control \u2013 Display or hide the topic trail."),l()()(),d(101,"li"),u(102,"Only administrators can modify the syllabus mode to include out-of-syllabus responses."),l()()(),d(103,"li")(104,"b"),u(105,"Interface and Usability"),l(),_(106,"br"),d(107,"ul",57)(108,"li"),u(109,"The chat interface presents a clear, conversational layout between the learner and the tutor. Each message includes a profile icon and timestamp for a natural reading flow."),l(),d(110,"li"),u(111,"Typing indicators appear while the system prepares responses, and a scroll button allows quick access to the most recent messages."),l(),d(112,"li"),u(113,"The design is responsive and adapts to different devices such as desktops, tablets, etc."),l()()(),d(114,"li")(115,"b"),u(116,"Summary"),l(),_(117,"br"),d(118,"ul",57)(119,"li"),u(120,"The Chat Module provides an engaging, syllabus-focused learning experience where learners can type or speak their questions and receive immediate answers through text, real teacher voice, and derived video."),l(),d(121,"li"),u(122,"With predefined questions, real-time explanations, structured progression, and easy-to-use controls, this module offers a complete and intelligent conversational learning environment\u2014all within a single platform."),l(),d(123,"li"),u(124,"Use this feature for summary-guided training."),l()()()(),De())}function Wk(t,n){t&1&&(xe(0),d(1,"ul",56)(2,"li")(3,"b"),u(4,"Introduction"),l(),_(5,"br"),d(6,"ul",57)(7,"li"),u(8,"The "),d(9,"b"),u(10,"Generate Questions"),l(),u(11," module helps children practise English grammar with step-by-step questions, instant feedback, and level-based progression."),l(),d(12,"li"),u(13,"All questions, hints, and follow-ups are drawn from a "),d(14,"b"),u(15,"predefined syllabus"),l(),u(16," prepared by your school or administrator."),l(),d(17,"li"),u(18,"The layout is simple and child-friendly, with clear buttons and readable text."),l()()(),d(19,"li")(20,"b"),u(21,"Syllabus Source"),l(),_(22,"br"),d(23,"ul",57)(24,"li"),u(25,"The module uses a "),d(26,"b"),u(27,"predefined syllabus"),l(),u(28," that includes topics, chapters, sections, and pages."),l(),d(29,"li"),u(30,"Predefined content ensures that practice stays aligned with the lessons taught in class."),l(),d(31,"li"),u(32,"If a topic is not found in the syllabus, the system displays a clear message (see \u201COut-of-Syllabus Control\u201D)."),l()()(),d(33,"li")(34,"b"),u(35,"Choose a Topic"),l(),_(36,"br"),d(37,"ul",57)(38,"li"),u(39,"Type a grammar topic (e.g., "),d(40,"i"),u(41,"verbs"),l(),u(42,", "),d(43,"i"),u(44,"nouns"),l(),u(45,", "),d(46,"i"),u(47,"tenses"),l(),u(48,", "),d(49,"i"),u(50,"subject\u2013verb agreement"),l(),u(51,") or select from the suggestion list."),l(),d(52,"li"),u(53,"Use specific terms (e.g., "),d(54,"i"),u(55,"simple past tense"),l(),u(56,") for better results."),l(),d(57,"li"),u(58,"If the topic is unclear or unrelated to grammar, the system may show: \u201CPlease enter a valid "),d(59,"b"),u(60,"grammar topic"),l(),u(61,", not a general word or unrelated question.\u201D"),l()()(),d(62,"li")(63,"b"),u(64,"Generate Questions"),l(),_(65,"br"),d(66,"ul",57)(67,"li"),u(68,"Click "),d(69,"b"),u(70,"Generate"),l(),u(71," to create a set of questions based on the chosen topic from the predefined syllabus."),l(),d(72,"li"),u(73,"A brief loading screen appears while the questions are prepared."),l(),d(74,"li"),u(75,"To keep the practice consistent, the topic may be locked after generation until you reset the session."),l()()(),d(76,"li")(77,"b"),u(78,"Answer the Questions"),l(),_(79,"br"),d(80,"ul",57)(81,"li"),u(82,"Each "),d(83,"b"),u(84,"question"),l(),u(85," presents a sentence with a "),d(86,"b"),u(87,"blank"),l(),u(88,". The learner may type any suitable "),d(89,"b"),u(90,"answer"),l(),u(91," in the blank."),l(),d(92,"li"),u(93,"All blanks must be filled before you can check answers. The "),d(94,"b"),u(95,"Validate/Check Answers"),l(),u(96," button enables automatically."),l(),d(97,"li"),u(98,"The input fields are designed for easy typing and clear visibility."),l()()(),d(99,"li")(100,"b"),u(101,"Check Your Answers"),l(),_(102,"br"),d(103,"ul",57)(104,"li"),u(105,"Click "),d(106,"b"),u(107,"Check Answers"),l(),u(108," to validate all responses together."),l(),d(109,"li")(110,"b"),u(111,"Color guidance:"),l(),u(112," correct answers are shown in green with the label "),d(113,"b"),u(114,"Correct"),l(),u(115,"; incorrect answers are shown in red with the label "),d(116,"b"),u(117,"Wrong"),l(),u(118,"."),l(),d(119,"li"),u(120,"During validation or timed messages, inputs may be temporarily read-only to prevent accidental edits."),l()()(),d(121,"li")(122,"b"),u(123,"Try Again (First Wrong Attempt)"),l(),_(124,"br"),d(125,"ul",57)(126,"li"),u(127,"For each incorrect "),d(128,"b"),u(129,"answer"),l(),u(130,", a "),d(131,"b"),u(132,"\u201CTry Again\u201D"),l(),u(133," message appears with a short countdown."),l(),d(134,"li"),u(135,"After the countdown, the wrong entry is cleared so the learner can attempt again."),l(),d(136,"li"),u(137,"This encourages self-correction with gentle guidance."),l()()(),d(138,"li")(139,"b"),u(140,"Show Correct Answer (Second Wrong Attempt)"),l(),_(141,"br"),d(142,"ul",57)(143,"li"),u(144,"If a "),d(145,"b"),u(146,"question"),l(),u(147," remains incorrect after the second attempt, another countdown appears."),l(),d(148,"li"),u(149,"When the countdown ends, the "),d(150,"b"),u(151,"correct answer"),l(),u(152," is shown and filled automatically."),l(),d(153,"li"),u(154,"This provides closure and allows the learner to continue smoothly."),l()()(),d(155,"li")(156,"b"),u(157,"Hints and Teacher Coaching"),l(),_(158,"br"),d(159,"ul",57)(160,"li"),u(161,"Click the "),d(162,"b"),u(163,"Hint"),l(),u(164," icon to open helpful hints based on the same syllabus section as the questions."),l(),d(165,"li"),u(166,"When a hint is displayed or when an answer is incorrect, the module can also present the teacher\u2019s voice and a short teacher video that explains the idea in simple words."),l(),d(167,"li"),u(168,"Audio is muted by default; you may enable it. You can play, pause, or close the video at any time."),l()()(),d(169,"li")(170,"b"),u(171,"Breadcrumb and Follow-Up Questions"),l(),_(172,"br"),d(173,"ul",57)(174,"li"),u(175,"The "),d(176,"b"),u(177,"breadcrumb"),l(),u(178," shows the learning path (Topic ? Chapter ? Section ? Page). Clicking a level focuses the practice on that part."),l(),d(179,"li")(180,"b"),u(181,"Predefined follow-up questions"),l(),u(182," appear below the main set. They come from the same syllabus section and guide the next step (e.g., identification, transformation, short explanation)."),l(),d(183,"li"),u(184,"As answers are submitted, the follow-ups adjust to reinforce areas that need more practice."),l()()(),d(185,"li")(186,"b"),u(187,"Out-of-Syllabus Control"),l(),_(188,"br"),d(189,"ul",57)(190,"li"),u(191,"If a learner asks about a topic that is not part of the predefined syllabus, the system shows: \u201CThis topic is out of syllabus.\u201D"),l(),d(192,"li"),u(193,"Only administrators can decide whether such questions may be answered using other sources."),l(),d(194,"li"),u(195,"This keeps practice within approved lessons unless specific permission is given."),l()()(),d(196,"li")(197,"b"),u(198,"Level Progress and Progress Bar"),l(),_(199,"br"),d(200,"ul",57)(201,"li"),u(202,"The module uses three levels: "),d(203,"b"),u(204,"Basic ? Intermediate ? Expert"),l(),u(205,"."),l(),d(206,"li"),u(207,"A "),d(208,"b"),u(209,"progress bar"),l(),u(210," with level markers shows the current level and the remaining path."),l(),d(211,"li"),u(212,"Clear labels and gentle animations help children track progress."),l()()(),d(213,"li")(214,"b"),u(215,"Moving to the Next Level"),l(),_(216,"br"),d(217,"ul",57)(218,"li"),u(219,"When all "),d(220,"b"),u(221,"questions"),l(),u(222," in a level are correct, a message and a short countdown appear."),l(),d(223,"li"),u(224,"The module then advances to the next level and updates the progress bar."),l(),d(225,"li"),u(226,"Difficulty increases gradually to build mastery step by step."),l()()(),d(227,"li")(228,"b"),u(229,"Celebrate Success"),l(),_(230,"br"),d(231,"ul",57)(232,"li"),u(233,"After completing all three levels, a "),d(234,"b"),u(235,"celebration"),l(),u(236," screen appears."),l(),d(237,"li"),u(238,"Learners can click "),d(239,"b"),u(240,"Start Over"),l(),u(241," to practise the same topic again or choose a new topic."),l()()(),d(242,"li")(243,"b"),u(244,"Reset or Change Topic"),l(),_(245,"br"),d(246,"ul",57)(247,"li"),u(248,"Use "),d(249,"b"),u(250,"Reset"),l(),u(251," to clear the current session and unlock the topic field."),l(),d(252,"li"),u(253,"Enter a new topic or select another suggestion to begin a new practice set."),l()()(),d(254,"li")(255,"b"),u(256,"Accessibility and Layout"),l(),_(257,"br"),d(258,"ul",57)(259,"li"),u(260,"Countdowns and status messages are written clearly so learners understand what is happening."),l(),d(261,"li"),u(262,"The layout adapts to different screens. Buttons and inputs are sized for comfortable tapping and clicking."),l()()(),d(263,"li")(264,"b"),u(265,"Troubleshooting"),l(),_(266,"br"),d(267,"ul",57)(268,"li")(269,"b"),u(270,"Invalid topic message:"),l(),u(271," Enter a clear grammar term (e.g., "),d(272,"i"),u(273,"articles"),l(),u(274,", "),d(275,"i"),u(276,"comparatives"),l(),u(277,", "),d(278,"i"),u(279,"passive voice"),l(),u(280,")."),l(),d(281,"li")(282,"b"),u(283,"Out of syllabus:"),l(),u(284," Choose a topic that appears in the syllabus list or ask an administrator about permission for extra topics."),l(),d(285,"li")(286,"b"),u(287,"Buttons disabled:"),l(),u(288," The "),d(289,"i"),u(290,"Generate"),l(),u(291," button appears after entering a valid topic; the "),d(292,"i"),u(293,"Validate"),l(),u(294," button appears after all blanks are filled."),l()()(),d(295,"li")(296,"b"),u(297,"Benefits for Children"),l(),_(298,"br"),d(299,"ul",57)(300,"li")(301,"b"),u(302,"Guided practice"),l(),u(303," with clear feedback builds confidence and accuracy."),l(),d(304,"li")(305,"b"),u(306,"Level-based progression"),l(),u(307," supports steady growth from basic understanding to higher skills."),l(),d(308,"li")(309,"b"),u(310,"Hints and teacher coaching"),l(),u(311," help learners correct mistakes and understand rules in simple language."),l(),d(312,"li")(313,"b"),u(314,"Predefined syllabus alignment"),l(),u(315," keeps practice consistent with classroom lessons."),l()()()(),De())}function qk(t,n){t&1&&(xe(0),d(1,"ul",56)(2,"li")(3,"b"),u(4,"Feature Currently Disabled"),l(),_(5,"br"),d(6,"ul",57)(7,"li"),u(8,"The Voice feature is currently under development and will be available soon."),l(),d(9,"li"),u(10,"Please check back later or contact support for more information."),l()()()(),De())}function Yk(t,n){t&1&&(xe(0),d(1,"ul",56)(2,"li")(3,"b"),u(4,"Feature Currently Disabled"),l(),_(5,"br"),d(6,"ul",57)(7,"li"),u(8,"The Find Word feature is currently under development and will be available soon."),l(),d(9,"li"),u(10,"Please check back later or contact support for more information."),l()()()(),De())}function Qk(t,n){t&1&&Bi(0)}function Zk(t,n){t&1&&Bi(0)}function Kk(t,n){t&1&&Bi(0)}function Xk(t,n){t&1&&Bi(0)}function Jk(t,n){t&1&&Bi(0)}function eP(t,n){if(t&1){let e=V();d(0,"div")(1,"div",51),D("click",function(){I(e);let r=w();return S(r.closeGuidePopup())}),l(),d(2,"div",52)(3,"button",53),D("click",function(){I(e);let r=w();return S(r.closeGuidePopup())}),u(4,"\xD7"),l(),xe(5,54),P(6,Gk,125,0,"ng-container",55)(7,Wk,316,0,"ng-container",55)(8,qk,11,0,"ng-container",55)(9,Yk,11,0,"ng-container",55)(10,Qk,1,0,"ng-container",55)(11,Zk,1,0,"ng-container",55)(12,Kk,1,0,"ng-container",55)(13,Xk,1,0,"ng-container",55)(14,Jk,1,0,"ng-container",55),De(),l()()}if(t&2){let e=w();m(5),g("ngSwitch",e.selectedCardTitle),m(),g("ngSwitchCase","Grammar Chat"),m(),g("ngSwitchCase","Grammar Quiz"),m(),g("ngSwitchCase","Voice"),m(),g("ngSwitchCase","Find Word"),m(),g("ngSwitchCase","Grammar Quiz"),m(),g("ngSwitchCase","Listening"),m(),g("ngSwitchCase","Reading"),m(),g("ngSwitchCase","Writing"),m(),g("ngSwitchCase","Vocabulary Builder")}}var pp=(()=>{class t{constructor(e,i,r,o,s){this.router=e,this.authService=i,this.host=r,this.brand=o,this.dialog=s,this.menuOpen=!1,this.showGuidePopup=!1,this.selectedCardTitle=null,this.showAccountMenu=!1,this.showPrivacyPopup=!1,this.showTermsPopup=!1,this.isAuthenticated=!1,this.username=null,this.cards=[{title:"Grammar Chat",image:"assets/images/home/Grammar_chat.png",action:()=>this.goToChat(),disabled:!1},{title:"Voice",image:"assets/images/home/voice.png",action:()=>this.goToVoice(),disabled:!0},{title:"Find Word",image:"assets/images/home/find_word.png",action:()=>this.goToFindword(),disabled:!0}]}ngOnInit(){this.isAuthenticated=this.authService.isLoggedIn(),this.username=localStorage.getItem("username"),this.authSub=this.authService.isLoggedIn$.subscribe(e=>{this.isAuthenticated=e,this.username=e?localStorage.getItem("username"):null,e||(this.showAccountMenu=!1)})}ngAfterViewInit(){}ngOnDestroy(){this.authSub?.unsubscribe()}get usernameInitial(){return(this.username||"").trim().charAt(0).toUpperCase()||"U"}get displayName(){let e=this.username||"";return e?(e.includes("@")?e.split("@")[0]:e).replace(/\b\w/g,r=>r.toUpperCase()):""}get displayEmail(){return this.username||""}toggleAccountMenu(){this.showAccountMenu=!this.showAccountMenu}openAccountMenu(){this.showAccountMenu=!0}closeAccountMenu(){this.showAccountMenu=!1}onDocClick(e){this.host.nativeElement.contains(e.target)||(this.showAccountMenu=!1)}toggleMenu(){this.menuOpen=!this.menuOpen}reloadPage(){window.location.href="/"}goToChat(){this.router.navigate(["/chat"])}goToVoice(){console.log("Voice feature is currently disabled")}goToFindword(){console.log("Find Word feature is currently disabled")}goToDetails(e){this.router.navigate(["/details"],{queryParams:{topic:e}})}handleCardAction(e){e.disabled||e.action()}openGuidePopup(e){this.selectedCardTitle=e,this.showGuidePopup=!0}closeGuidePopup(){this.showGuidePopup=!1,this.selectedCardTitle=null}goToAccount(){this.router.navigate(["/home"]),this.showAccountMenu=!1}logout(){this.authService.logout().subscribe({next:()=>{localStorage.removeItem("username"),this.showAccountMenu=!1,this.router.navigate(["/login"])},error:()=>{localStorage.removeItem("username"),this.showAccountMenu=!1,this.router.navigate(["/login"])}})}openPrivacyPopup(e){e.preventDefault(),this.showPrivacyPopup=!0}closePrivacyPopup(){this.showPrivacyPopup=!1}openTermsPopup(e){e.preventDefault(),this.showTermsPopup=!0}closeTermsPopup(){this.showTermsPopup=!1}openPronunciation(){let e=this.dialog.open(yb,{width:"90vw",maxWidth:"95vw",height:"85vh",disableClose:!0})}static{this.\u0275fac=function(i){return new(i||t)(C(et),C(bi),C(le),C(En),C(hp))}}static{this.\u0275cmp=me({type:t,selectors:[["app-home"]],hostBindings:function(i,r){i&1&&D("click",function(s){return r.onDocClick(s)},!1,Ar)},decls:83,vars:7,consts:[["loginIcon",""],[1,"hero"],[1,"navbar"],[1,"navbar-container"],[1,"logo"],[3,"click","src","alt"],[1,"nav-links"],[1,"main-menu-dropdown"],["href","#","aria-haspopup","true","aria-expanded","false",1,"nav-link",3,"click"],[1,"fas","fa-caret-down"],[1,"submenu"],["routerLink","/chat/1","role","button","aria-pressed","false"],["routerLink","/chat/2","role","button","aria-pressed","false"],["routerLink","/staticchat","role","button","aria-pressed","false"],["routerLink","/chatllm","role","button","aria-pressed","false"],["routerLink","/generate-questions","routerLinkActive","active-link",1,"nav-link--disabled"],["routerLink","/voice","routerLinkActive","active-link",1,"nav-link--disabled"],["routerLink","/listen","routerLinkActive","active-link",1,"nav-link--disabled"],["routerLink","/reading","routerLinkActive","active-link",1,"nav-link--disabled"],["routerLink","/writing","routerLinkActive","active-link",1,"nav-link--disabled"],["routerLink","/vocabulary-builder","routerLinkActive","active-link",1,"nav-link--disabled"],["routerLink","/findword","routerLinkActive","active-link",1,"nav-link--disabled"],["href","#","role","button","aria-pressed","false",3,"click"],["routerLink","/personality-improvement","routerLinkActive","active-link",1,"nav-link--disabled"],["routerLink","/body-language-improvement","routerLinkActive","active-link",1,"nav-link--disabled"],[1,"nav-actions"],[4,"ngIf","ngIfElse"],[1,"hero-text"],[1,"cards-section"],[1,"section-title"],[1,"highlight"],[1,"cards-container"],["class","card","role","button",3,"card--disabled","tabindex","click","keydown.enter","keydown.space",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"avatar",3,"click"],["class","account-menu",3,"mouseleave",4,"ngIf"],[1,"account-menu",3,"mouseleave"],[1,"account-header"],[1,"avatar","avatar-lg"],[1,"account-meta"],[1,"account-name"],[1,"account-email"],[1,"account-item",3,"click"],["routerLink","/login","aria-label","Login",1,"login-button"],[1,"fas","fa-user"],["role","button",1,"card",3,"click","keydown.enter","keydown.space","tabindex"],[1,"card-image"],[3,"src","alt"],[1,"card-content"],[1,"card-buttons"],[1,"know-more-btn",3,"click","disabled"],[1,"user-guide-overlay",3,"click"],["role","dialog","aria-modal","true",1,"user-guide-modal"],["aria-label","Close",1,"user-guide-close-icon",3,"click"],[3,"ngSwitch"],[4,"ngSwitchCase"],[2,"text-align","justify","font-size","15px"],[2,"list-style","unset","margin-left","1.25rem"]],template:function(i,r){if(i&1){let o=V();d(0,"div",1)(1,"nav",2)(2,"div",3)(3,"div",4)(4,"img",5),D("click",function(){return I(o),S(r.reloadPage())}),l()(),d(5,"ul",6)(6,"li",7)(7,"a",8),D("click",function(a){return I(o),S(a.preventDefault())}),u(8," Chat "),_(9,"i",9),l(),d(10,"ul",10)(11,"li")(12,"a",11),u(13," Chat D-ID "),l()(),d(14,"li")(15,"a",12),u(16," Chat KD Talker "),l()(),d(17,"li")(18,"a",13),u(19," Chat "),l()(),d(20,"li")(21,"a",14),u(22," Chat-LLM "),l()()()(),d(23,"li")(24,"a",15),u(25,"Grammar"),l()(),d(26,"li")(27,"a",16),u(28,"Voice"),l()(),d(29,"li")(30,"a",17),u(31,"Listening"),l()(),d(32,"li")(33,"a",18),u(34,"Reading"),l()(),d(35,"li")(36,"a",19),u(37,"Writing"),l()(),d(38,"li")(39,"a",20),u(40,"Vocabulary-Builder"),l()(),d(41,"li")(42,"a",21),u(43,"Find Word"),l()(),d(44,"li",7)(45,"a",8),D("click",function(a){return I(o),S(a.preventDefault())}),u(46," General "),_(47,"i",9),l(),d(48,"ul",10)(49,"li")(50,"a",22),D("click",function(a){return I(o),r.openPronunciation(),S(a.preventDefault())}),u(51," Pronunciation Trainer "),l()(),d(52,"li")(53,"a",23),u(54,"Personality Improvement"),l()(),d(55,"li")(56,"a",24),u(57,"Body Language Improvement"),l()()()()(),d(58,"div",25),P(59,$k,4,3,"ng-container",26)(60,Hk,2,1,"ng-template",null,0,Ln),l()()(),d(62,"div",27)(63,"h1"),u(64),l(),d(65,"h2"),u(66,"A Self-Learning System"),l(),d(67,"p"),u(68," It is a personalized self-learning system helps students to improve their language skills through interactive"),_(69,"br"),u(70,"and customized exercises. With engaging activities and instant feedback,"),_(71,"br"),u(72,"learning becomes easy and enjoyable! "),l()(),d(73,"section",28)(74,"h2",29),u(75," What would you like to "),d(76,"span",30),u(77,"learn"),l(),u(78," today? "),l(),d(79,"div",31),P(80,zk,7,6,"div",32),l()(),P(81,eP,15,10,"div",33),l(),_(82,"app-footer")}if(i&2){let o=nn(61);m(4),g("src",r.brand.logo,ee)("alt",r.brand.name+" Logo"),m(55),g("ngIf",r.isAuthenticated&&r.username)("ngIfElse",o),m(5),Ae(r.brand.name),m(16),g("ngForOf",r.cards),m(),g("ngIf",r.showGuidePopup)}},dependencies:[di,ct,Uo,Vc,Ut,Ty,Vl],styles:[".hero[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;position:relative}.hero-text[_ngcontent-%COMP%]{color:#fff;text-align:left;height:100vh;display:flex;flex-direction:column;justify-content:center;padding-left:1vw;background-image:url(/assets/images/home/background.png);background-repeat:no-repeat;background-position:center center;background-size:cover;position:relative;top:5vw;padding-bottom:5vw}h1[_ngcontent-%COMP%]{font-size:7vw;font-family:Amonk_Outline;margin-bottom:3vw}.hero-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5vw;font-weight:600;color:#0f0}.hero-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1vw;line-height:1.5vw}.navbar[_ngcontent-%COMP%]{background-color:#fff;box-shadow:0 2px 4px #0000001a;position:fixed;font-size:1vw;width:100%;z-index:1000}.navbar-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0vw 1vw}.logo[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1vw}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:5vw;width:auto;cursor:pointer}.logo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.5vw;font-weight:700;color:#007bff}.nav-links[_ngcontent-%COMP%]{display:flex;gap:2vw;list-style:none;margin:0;padding:0;flex:1;justify-content:center}.nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{text-decoration:none;color:#333;font-size:1.5vw;font-weight:700}.nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover, .nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#007bff}.nav-link--disabled[_ngcontent-%COMP%]{opacity:.6;cursor:not-allowed;pointer-events:none}.login-button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;width:2.4vw;height:2.4vw;border-radius:50%;border:2px solid #006780;color:#006780;background:#fff;font-size:1.2vw;text-decoration:none;transition:background .2s,color .2s,transform .2s,box-shadow .2s;box-shadow:0 2px 8px #5d91c31f}.login-button[_ngcontent-%COMP%]:hover{background:#006780;color:#fff;transform:translateY(-1px) scale(1.05);box-shadow:0 4px 16px #5d91c32e}.nav-actions[_ngcontent-%COMP%]{position:relative;padding-right:1.5vw}.avatar[_ngcontent-%COMP%]{width:2.4vw;height:2.4vw;min-width:32px;min-height:32px;border-radius:50%;background:#e6f2ff;border:2px solid #137ec4;color:#137ec4;display:inline-flex;align-items:center;justify-content:center;font-weight:800;cursor:pointer;box-shadow:0 2px 8px #5d91c31f}.avatar-lg[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:50%;background:#e6f2ff;border:2px solid #137ec4;color:#137ec4;display:inline-flex;align-items:center;justify-content:center;font-weight:800}.account-menu[_ngcontent-%COMP%]{position:absolute;top:3.2vw;right:0;min-width:260px;background:#fff;border-radius:12px;box-shadow:0 12px 24px #0000001f;padding:12px;z-index:1200}.account-header[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center;padding:6px 6px 10px}.account-meta[_ngcontent-%COMP%]{display:flex;flex-direction:column}.account-name[_ngcontent-%COMP%]{font-weight:800;color:#111827}.account-email[_ngcontent-%COMP%]{color:#6b7280;font-size:.9rem}.account-item[_ngcontent-%COMP%]{padding:10px;border-radius:8px;cursor:pointer;color:#111827}.account-item[_ngcontent-%COMP%]:hover{background:#f3f4f6}.account-menu[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin:8px 0;border:none;border-top:1px solid #e5e7eb}.card[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;box-shadow:0 4px 8px #0000001a;overflow:hidden;transition:transform .3s ease;width:100%;max-width:460px;margin:auto;cursor:pointer}.card[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.card--disabled[_ngcontent-%COMP%]{opacity:.6;cursor:not-allowed;pointer-events:none}.card--disabled[_ngcontent-%COMP%]:hover{transform:none}.card--disabled[_ngcontent-%COMP%]   .card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:grayscale(100%)}.card--disabled[_ngcontent-%COMP%]   .know-more-btn[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed;background-color:#ccc;border-color:#ccc;color:#666}.card--disabled[_ngcontent-%COMP%]   .know-more-btn[_ngcontent-%COMP%]:hover{background-color:#ccc;border-color:#ccc;color:#666;transform:none;box-shadow:none}.card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;display:block}.card-content[_ngcontent-%COMP%]{padding:1.5vw;text-align:left}.cards-section[_ngcontent-%COMP%]{text-align:center;padding:3vw 2vw;background-color:#f9f9f9;position:relative}.section-title[_ngcontent-%COMP%]{font-size:2.5vw;font-weight:700;margin-bottom:2vw}.cards-container[_ngcontent-%COMP%]{gap:3vw;justify-content:center;display:grid;grid-template-columns:repeat(3,1fr);margin:0 auto;width:80%}.card-buttons[_ngcontent-%COMP%]{display:flex;gap:1vw;margin-top:1vw;flex-wrap:nowrap;justify-content:center}.card-button[_ngcontent-%COMP%]{white-space:nowrap;padding:.5vw;font-size:1vw;font-weight:700;color:#007bff;background-color:transparent;border:2px solid #007bff;border-radius:5px;cursor:pointer;transition:all .3s ease}.card-button[_ngcontent-%COMP%]:hover{background-color:#007bff;color:#fff}.user-guide-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000059;z-index:2000}.user-guide-modal[_ngcontent-%COMP%]{position:fixed;top:52%;left:50%;transform:translate(-50%,-50%);height:38vw;width:50vw;background:linear-gradient(135deg,#fff 80%,#e3fcec);color:#222;box-shadow:0 12px 40px #5d91c338;border-radius:18px;padding:1vw;z-index:2001;overflow:visible;border:10px solid var(--main-accent-color);box-sizing:border-box}.user-guide-modal[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%], .user-guide-modal[_ngcontent-%COMP%] > ol[_ngcontent-%COMP%]{max-height:34.6vw;overflow-y:auto;padding-right:.5vw;margin:0}.user-guide-close-icon[_ngcontent-%COMP%]{top:-22px;right:-22px}.user-guide-modal[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:1.7;font-size:1.1vw;background:#5d91c312;padding:.5vw;box-shadow:0 2px 8px #5d91c30f}.user-guide-modal[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{color:#2b6296;font-size:1.15vw}@media (max-width: 600px){.user-guide-modal[_ngcontent-%COMP%]{width:90vw;height:60vw;border-radius:12px;padding:4vw 2vw 2vw}.user-guide-modal[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%], .user-guide-modal[_ngcontent-%COMP%] > ol[_ngcontent-%COMP%]{max-height:52vw;overflow-y:auto;padding-right:1.5vw}.user-guide-close-icon[_ngcontent-%COMP%]{font-size:6vw;top:2vw;right:2vw;width:6vw;height:6vw;display:flex;align-items:center;justify-content:center;line-height:1}.card-button[_ngcontent-%COMP%], .know-more-btn[_ngcontent-%COMP%]{font-size:2.8vw;padding:8px 12px}}.card-button[_ngcontent-%COMP%], .know-more-btn[_ngcontent-%COMP%]{padding:10px 18px;background:#006780;color:#fff;border:2px solid #006780;border-radius:8px;font-size:1vw;font-weight:700;cursor:pointer;margin:0 6px 6px 0;box-shadow:0 2px 8px #5d91c31f;transition:background .2s,box-shadow .2s,transform .2s,color .2s}.card-button[_ngcontent-%COMP%]:hover, .know-more-btn[_ngcontent-%COMP%]:hover{background:#fff;color:#006780;box-shadow:0 4px 16px #5d91c32e;transform:scale(1.05)}.privacy-popup-content[_ngcontent-%COMP%]{max-height:60vh;overflow-y:auto;padding-right:1vw}.main-menu-dropdown[_ngcontent-%COMP%]{position:relative}.main-menu-dropdown[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer}.main-menu-dropdown[_ngcontent-%COMP%]   .fas.fa-caret-down[_ngcontent-%COMP%]{margin-left:.5vw;font-size:1vw;transition:transform .2s}.main-menu-dropdown[_ngcontent-%COMP%]:hover   .fas.fa-caret-down[_ngcontent-%COMP%], .main-menu-dropdown[_ngcontent-%COMP%]:focus-within   .fas.fa-caret-down[_ngcontent-%COMP%]{transform:rotate(180deg)}.submenu[_ngcontent-%COMP%]{display:none;position:absolute;top:100%;left:50%;transform:translate(-50%);min-width:220px;background:#fff;box-shadow:0 8px 24px #0000001f;border-radius:8px;padding:.5vw 0;z-index:1100;list-style:none;white-space:nowrap}.main-menu-dropdown[_ngcontent-%COMP%]:hover   .submenu[_ngcontent-%COMP%], .main-menu-dropdown[_ngcontent-%COMP%]:focus-within   .submenu[_ngcontent-%COMP%]{display:block}.submenu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;padding:.7vw 1vw;color:#333;font-size:1.2vw;font-weight:600;text-decoration:none;border-radius:6px;transition:background .2s,color .2s}.submenu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .submenu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active-link[_ngcontent-%COMP%]{background:#e6f2ff;color:#137ec4}"]})}}return t})();function tP(t,n){if(t&1&&(d(0,"div",56),u(1),l()),t&2){let e=w();g("@fadeInOut",void 0),m(),de(" ",e.errorMessage," ")}}function nP(t,n){t&1&&(d(0,"small",57),u(1," Email or Username is required. "),l())}function iP(t,n){t&1&&(d(0,"small",57),u(1," Password is required. "),l())}function rP(t,n){t&1&&(xe(0),u(1," Login "),De())}function oP(t,n){t&1&&(_(0,"span",58),u(1," Logging in... "))}function sP(t,n){if(t&1){let e=V();d(0,"div",59)(1,"div",60)(2,"h3"),u(3,"Forgot Password"),l(),d(4,"p"),u(5,"Enter your email to receive password reset instructions."),l(),d(6,"input",61),Vo("ngModelChange",function(r){I(e);let o=w();return _c(o.forgotEmail,r)||(o.forgotEmail=r),S(r)}),l(),d(7,"button",62),D("click",function(){I(e);let r=w();return S(r.sendPasswordReset())}),u(8,"Send Reset Link"),l(),d(9,"button",63),D("click",function(){I(e);let r=w();return S(r.closeForgotPasswordModal())}),u(10,"Close"),l()()()}if(t&2){let e=w();g("@fadeInOut",void 0),m(6),Lo("ngModel",e.forgotEmail)}}var bb=(()=>{class t{constructor(e,i,r,o,s){this.formBuilder=e,this.router=i,this.authService=r,this.changeDetectorRef=o,this.brandService=s,this.close=new se,this.isLoading=!1,this.isSubmitted=!1,this.showPassword=!1,this.errorMessage="",this.showForgotModal=!1,this.forgotEmail="",this.destroy$=new H,this.REDIRECT_URL_KEY="redirectAfterLogin",this.DEFAULT_REDIRECT="/home",this.learningFacts=["Master grammar with adaptive quizzes","Improve reading with AI-generated passages","Train listening and pronunciation effectively"],this.signInForm=this.createSignInForm()}ngOnInit(){this.initializeComponent()}ngOnDestroy(){this.cleanup()}onSubmit(){if(this.isSubmitted=!0,this.signInForm.markAllAsTouched(),this.signInForm.invalid){this.focusFirstInvalidField();return}this.performSignIn()}togglePasswordVisibility(){this.showPassword=!this.showPassword}openForgotPasswordModal(e){e.preventDefault(),this.showForgotModal=!0}closeForgotPasswordModal(){this.showForgotModal=!1,this.forgotEmail=""}sendPasswordReset(){!this.forgotEmail||!this.isValidEmail(this.forgotEmail)||(this.showSuccessMessage("Password reset link sent to your email"),this.closeForgotPasswordModal())}closeComponent(){this.router.navigate([this.DEFAULT_REDIRECT]),this.close.emit()}get emailControl(){return this.signInForm.get("email")}get passwordControl(){return this.signInForm.get("password")}get isFormValid(){return this.signInForm.valid}get socialLinks(){return this.brandService.socialLinksCurrent}get websiteDisplay(){return"www."+this.socialLinks.website.replace(/^https?:\/\/(www\.)?/,"")}createSignInForm(){return this.formBuilder.group({email:["",[on.required,on.minLength(3)]],password:["",[on.required,on.minLength(6)]],rememberMe:[!1]})}initializeComponent(){this.clearErrorMessage(),this.authService.isLoggedIn()&&this.navigateToRedirectUrl()}performSignIn(){let e={username:this.emailControl?.value?.trim()||"",password:this.passwordControl?.value||""};this.setLoadingState(!0),this.clearErrorMessage(),this.authService.login(e).pipe(ft(this.destroy$),ht(()=>this.setLoadingState(!1))).subscribe({next:()=>this.handleSignInSuccess(e.username),error:i=>this.handleSignInError(i)})}handleSignInSuccess(e){this.showSuccessMessage("Sign in successful"),this.navigateToRedirectUrl()}handleSignInError(e){this.errorMessage=e.message||"Sign in failed. Please try again.",this.changeDetectorRef.markForCheck(),setTimeout(()=>{this.clearErrorMessage()},5e3)}navigateToRedirectUrl(){let e=localStorage.getItem(this.REDIRECT_URL_KEY);this.isValidRedirectUrl(e)||(e=this.DEFAULT_REDIRECT),localStorage.removeItem(this.REDIRECT_URL_KEY),this.router.navigate([e])}isValidRedirectUrl(e){return!(!e||e.trim()===""||!e.startsWith("/")||e.includes("..")||e.startsWith("//"))}setLoadingState(e){this.isLoading=e,this.changeDetectorRef.markForCheck()}clearErrorMessage(){this.errorMessage="",this.changeDetectorRef.markForCheck()}showSuccessMessage(e){console.log(e)}focusFirstInvalidField(){setTimeout(()=>{document.querySelector(".ng-invalid")?.focus()},0)}isValidEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}cleanup(){this.destroy$.next(),this.destroy$.complete()}triggerSignIn(){this.onSubmit()}get authStatus$(){return this.authService.isLoggedIn$}get isAuthenticated(){return this.authService.isLoggedIn()}static{this.\u0275fac=function(i){return new(i||t)(C($r),C(et),C(bi),C(He),C(En))}}static{this.\u0275cmp=me({type:t,selectors:[["app-sign-in"]],outputs:{close:"close"},standalone:!0,features:[Ue],decls:73,vars:29,consts:[["loggingIn",""],[1,"signin-popup","ai-bg-animate"],["aria-hidden","true",1,"ai-particle-bg"],["role","banner",1,"signin-brand-logo"],["routerLink","/",1,"brand-link"],[1,"brand-logo-img",3,"src","alt"],[1,"social-icons","signin-social-icons"],["target","_blank","rel","noopener noreferrer","aria-label","LinkedIn",1,"social-icon","linkedin",3,"href"],["aria-hidden","true",1,"fab","fa-linkedin-in"],["target","_blank","rel","noopener noreferrer","aria-label","YouTube",1,"social-icon","youtube",3,"href"],["aria-hidden","true",1,"fab","fa-youtube"],["target","_blank","rel","noopener noreferrer","aria-label","Facebook",1,"social-icon","facebook",3,"href"],["aria-hidden","true",1,"fab","fa-facebook-f"],["target","_blank","rel","noopener noreferrer","aria-label","Instagram",1,"social-icon","instagram",3,"href"],["aria-hidden","true",1,"fab","fa-instagram"],["target","_blank","rel","noopener noreferrer","aria-label","Website",1,"social-icon","website",3,"href"],["aria-hidden","true",1,"fas","fa-globe"],[1,"signin-header"],[1,"auth-card"],[1,"card-inner"],[1,"card-front"],[1,"card-content"],[1,"side-panel","side-left"],["src","assets/images/login/lion.png","alt","Lion",1,"side-img"],[1,"side-welcome-overlay"],[1,"welcome-back-title"],[1,"welcome-back-desc"],[1,"main-panel"],[1,"logo-header"],[1,"py-learn-text"],[1,"self-learning-system"],["type","button","aria-label","Close",1,"signin-close",3,"click"],[1,"signin-title"],[1,"login-text"],["class","signin-error-toast","role","alert",4,"ngIf"],["novalidate","",3,"ngSubmit","formGroup"],[1,"signin-row"],[1,"signin-field"],["for","email"],["id","email","type","email","placeholder","you@example.com","formControlName","email"],["class","error",4,"ngIf"],["for","password"],[1,"input-with-icon"],["id","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","formControlName","password",3,"type"],["type","button",1,"eye-toggle",3,"click"],[1,"signin-row","signin-options-row"],[1,"remember-me"],[1,"switch"],["id","rememberMe","type","checkbox","formControlName","rememberMe"],[1,"slider"],[1,"forgot-password"],["href","#",1,"forgot-link",3,"click"],["type","submit",1,"signin-btn","ai-pulse",3,"disabled"],[4,"ngIf","ngIfElse"],["class","forgot-modal-bg",4,"ngIf"],["target","_blank","rel","noopener noreferrer",1,"signin-watermark",3,"href"],["role","alert",1,"signin-error-toast"],[1,"error"],[1,"spinner"],[1,"forgot-modal-bg"],[1,"forgot-modal"],["type","email","placeholder","Your email",3,"ngModelChange","ngModel"],[1,"signin-btn",3,"click"],[1,"modal-close",3,"click"]],template:function(i,r){if(i&1){let o=V();d(0,"section",1),_(1,"div",2),d(2,"div",3)(3,"a",4),_(4,"img",5),l()(),d(5,"div",6)(6,"a",7),_(7,"i",8),l(),d(8,"a",9),_(9,"i",10),l(),d(10,"a",11),_(11,"i",12),l(),d(12,"a",13),_(13,"i",14),l(),d(14,"a",15),_(15,"i",16),l()(),_(16,"div",17),d(17,"div",18)(18,"div",19)(19,"div",20)(20,"div",21)(21,"div",22),_(22,"img",23),d(23,"div",24)(24,"div",25),u(25,"Welcome Back!"),l(),d(26,"div",26),u(27,"Sign in to continue your learning journey."),l()()(),d(28,"div",27)(29,"div",28)(30,"span",29),u(31),l(),d(32,"div",30),u(33,"(A Self-Learning System)"),l()(),d(34,"button",31),D("click",function(){return I(o),S(r.closeComponent())}),u(35,"\xD7"),l(),d(36,"h2",32)(37,"span",33),u(38,"Login"),l()(),P(39,tP,2,2,"div",34),d(40,"form",35),D("ngSubmit",function(){return I(o),S(r.onSubmit())}),d(41,"div",36)(42,"div",37)(43,"label",38),u(44,"Email or Username"),l(),_(45,"input",39),P(46,nP,2,0,"small",40),l()(),d(47,"div",36)(48,"div",37)(49,"label",41),u(50,"Password"),l(),d(51,"div",42),_(52,"input",43),d(53,"button",44),D("click",function(){return I(o),S(r.togglePasswordVisibility())}),u(54),l()(),P(55,iP,2,0,"small",40),l()(),d(56,"div",45)(57,"div",46)(58,"label",47),_(59,"input",48)(60,"span",49),l(),d(61,"span"),u(62,"Remember me"),l()(),d(63,"div",50)(64,"a",51),D("click",function(a){return I(o),S(r.openForgotPasswordModal(a))}),u(65,"Forgot password?"),l()()(),d(66,"button",52),P(67,rP,2,0,"ng-container",53)(68,oP,2,0,"ng-template",null,0,Ln),l()()()()()()(),P(70,sP,11,2,"div",54),d(71,"a",55),u(72),l()()}if(i&2){let o=nn(69);m(3),he("aria-label",r.brandService.name+" Home"),m(),g("src",r.brandService.logo,ee)("alt",r.brandService.name+" Logo"),m(2),g("href",r.socialLinks.linkedin,ee),m(2),g("href",r.socialLinks.youtube,ee),m(2),g("href",r.socialLinks.facebook,ee),m(2),g("href",r.socialLinks.instagram,ee),m(2),g("href",r.socialLinks.website,ee),m(17),Ae(r.brandService.name),m(8),g("ngIf",r.errorMessage),m(),g("formGroup",r.signInForm),m(5),ce("invalid",r.isSubmitted&&(r.emailControl==null?null:r.emailControl.invalid)),he("aria-invalid",r.isSubmitted&&(r.emailControl==null?null:r.emailControl.invalid)),m(),g("ngIf",r.isSubmitted&&(r.emailControl==null||r.emailControl.errors==null?null:r.emailControl.errors.required)),m(6),ce("invalid",r.isSubmitted&&(r.passwordControl==null?null:r.passwordControl.invalid)),g("type",r.showPassword?"text":"password"),he("aria-invalid",r.isSubmitted&&(r.passwordControl==null?null:r.passwordControl.invalid)),m(),he("aria-label",r.showPassword?"Hide password":"Show password")("aria-pressed",r.showPassword),m(),de(" ",r.showPassword?"\u{1F648}":"\u{1F441}\uFE0F"," "),m(),g("ngIf",r.isSubmitted&&(r.passwordControl==null||r.passwordControl.errors==null?null:r.passwordControl.errors.required)),m(11),g("disabled",r.isLoading),m(),g("ngIf",!r.isLoading)("ngIfElse",o),m(3),g("ngIf",r.showForgotModal),m(),g("href",r.socialLinks.website,ee),m(),de(" ",r.websiteDisplay," ")}},dependencies:[wt,ct,sl,Ur,Cn,qh,fi,Br,zi,Gi,Hr,Xo,Ut],styles:['.signin-popup[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:1000;background:#05234b;-webkit-backdrop-filter:blur(16px);backdrop-filter:blur(16px)}.ai-bg-animate[_ngcontent-%COMP%]{background:linear-gradient(135deg,#05234b,#0f3460,#1a4b7a,#05234b,#0a2d54);background-size:400% 400%;animation:_ngcontent-%COMP%_aiGradientShift 8s ease-in-out infinite}@keyframes _ngcontent-%COMP%_aiGradientShift{0%{background-position:0% 50%}50%{background-position:100% 50%}to{background-position:0% 50%}}.ai-particle-bg[_ngcontent-%COMP%]{position:absolute;inset:0;overflow:hidden;pointer-events:none}.ai-particle-bg[_ngcontent-%COMP%]:before{content:"";position:absolute;width:100%;height:100%;background-image:radial-gradient(2px 2px at 20px 30px,rgba(255,255,255,.1),transparent),radial-gradient(2px 2px at 40px 70px,rgba(56,189,248,.1),transparent),radial-gradient(1px 1px at 90px 40px,rgba(255,255,255,.1),transparent);background-size:100px 80px,120px 90px,110px 100px;animation:_ngcontent-%COMP%_aiParticles 20s linear infinite}@keyframes _ngcontent-%COMP%_aiParticles{0%{transform:translate(0)}to{transform:translate(-100px,-100px)}}.ai-pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_aiPulse 2s ease-in-out infinite}@keyframes _ngcontent-%COMP%_aiPulse{0%{box-shadow:0 0 #38bdf866}70%{box-shadow:0 0 0 10px #38bdf800}to{box-shadow:0 0 #38bdf800}}.signin-title[_ngcontent-%COMP%]{color:#38bdf8;font-size:2.1rem;font-weight:800;margin-bottom:12px;text-align:center;letter-spacing:1px;text-shadow:0 2px 8px #0008}form[_ngcontent-%COMP%]{width:100%}.signin-row[_ngcontent-%COMP%]{display:flex;gap:24px;margin-bottom:18px}.signin-field[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.signin-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff;font-weight:600;margin-bottom:6px;font-size:1rem;letter-spacing:.5px}.signin-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:#fff;color:#18314a;border:none;border-radius:8px;padding:12px 14px;font-size:1rem;margin-bottom:2px;box-shadow:0 1px 4px #0002;transition:border .2s,box-shadow .2s}.signin-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:2px solid #1de9b6;border-color:#1de9b6;box-shadow:0 0 0 2px #1de9b688}.signin-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#b0b8c1;opacity:1}.signin-field[_ngcontent-%COMP%]   small.error[_ngcontent-%COMP%]{color:#ff5252;font-size:.85rem;margin-top:4px}.signin-options-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2vw;margin-top:-8px}.remember-me[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-size:1rem;color:#b0b8c1}.remember-me[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{accent-color:#38bdf8;width:16px;height:16px}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:48px;height:24px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#ccc;transition:.4s;border-radius:24px}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:18px;width:18px;left:3px;bottom:3px;background-color:#fff;transition:.4s;border-radius:50%}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#38bdf8}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(24px)}.forgot-password[_ngcontent-%COMP%]{font-size:1rem}.forgot-link[_ngcontent-%COMP%]{color:#38bdf8;text-decoration:underline;font-weight:500;cursor:pointer}.signin-btn[_ngcontent-%COMP%]{width:100%;background:#18314a;color:#fff;border:none;border-radius:8px;padding:14px 0;font-size:1.1rem;font-weight:700;margin-bottom:18px;cursor:pointer;transition:background .2s,color .2s}.signin-btn[_ngcontent-%COMP%]:hover{background:#38bdf8}.signin-footer[_ngcontent-%COMP%]{color:#b0b8c1;font-size:.95rem;text-align:center;margin-top:8px}.signin-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#38bdf8;text-decoration:underline;margin-left:4px;font-weight:600;cursor:pointer}.signin-close[_ngcontent-%COMP%]{position:absolute;top:18px;right:18px;width:38px;height:38px;border:none;background:#14263c;color:#fff;border-radius:50%;font-size:2rem;font-weight:700;display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:10;transition:background .2s,color .2s;box-shadow:0 2px 8px #0005}.signin-close[_ngcontent-%COMP%]:hover{background:#38bdf8;color:#18314a}.spinner[_ngcontent-%COMP%]{display:inline-block;width:18px;height:18px;border:3px solid #fff;border-top:3px solid #38bdf8;border-radius:50%;animation:_ngcontent-%COMP%_spin .7s linear infinite;vertical-align:middle;margin-right:8px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.signin-error-toast[_ngcontent-%COMP%]{background:transparent;color:#ff5252;font-weight:700;border-radius:8px;border:1px solid #ff5252;padding:8px 18px;margin:12px 0;text-align:center;animation:_ngcontent-%COMP%_shakeError .3s cubic-bezier(.39,.58,.57,1)}@keyframes _ngcontent-%COMP%_shakeError{0%{transform:translate(0)}20%{transform:translate(-8px)}40%{transform:translate(8px)}60%{transform:translate(-8px)}80%{transform:translate(8px)}to{transform:translate(0)}}.forgot-modal-bg[_ngcontent-%COMP%]{position:fixed;inset:0;background:#1e293be6;z-index:2000;display:flex;align-items:center;justify-content:center;animation:_ngcontent-%COMP%_fadeInModalBg .4s}@keyframes _ngcontent-%COMP%_fadeInModalBg{0%{opacity:0}to{opacity:1}}.forgot-modal[_ngcontent-%COMP%]{background:#fff;border-radius:18px;box-shadow:0 8px 32px #38bdf844,0 0 24px #1e293b88;padding:32px 36px 28px;min-width:320px;max-width:90vw;text-align:center;z-index:2001;display:flex;flex-direction:column;align-items:center;animation:_ngcontent-%COMP%_fadeInModal .4s}@keyframes _ngcontent-%COMP%_fadeInModal{0%{opacity:0;transform:scale(.98)}to{opacity:1;transform:scale(1)}}.forgot-modal[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#38bdf8;margin:12px 0 8px;font-size:1.4em;font-weight:700}.forgot-modal[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#23272b;font-size:1.08em;margin-bottom:18px}.forgot-modal[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{background:#f4f6fa;color:#18314a;border:none;border-radius:8px;padding:12px 14px;font-size:1rem;margin-bottom:12px;box-shadow:0 1px 4px #0002;width:100%}.modal-close[_ngcontent-%COMP%]{width:23%;background:#18314a;color:#fff;border:none;border-radius:8px;padding:14px 0;font-size:1.1rem;font-weight:700;margin-bottom:0;cursor:pointer;transition:background .2s,color .2s;display:block}.modal-close[_ngcontent-%COMP%]:hover{background:#38bdf8;color:#18314a}.eye-toggle[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);background:none;border:none;font-size:1.3em;color:#888;cursor:pointer;z-index:2;padding:0;line-height:1;opacity:.7;transition:color .2s,opacity .2s}#password[_ngcontent-%COMP%]{padding-right:40px}.auth-card[_ngcontent-%COMP%]{width:1140px;height:700px;perspective:none;overflow:hidden;border-radius:12px;box-shadow:0 8px 24px #0000001f,#fff 1px 1px 51px;margin:0 auto}.card-inner[_ngcontent-%COMP%]{width:200%;height:100%;display:flex;transition:transform .7s cubic-bezier(.22,.9,.32,1);will-change:transform}.auth-card.flipped[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]{transform:translate3d(-50%,0,0)}.auth-card[_ngcontent-%COMP%]:not(.flipped)   .card-inner[_ngcontent-%COMP%]{transform:translateZ(0)}.card-front[_ngcontent-%COMP%]   .main-panel[_ngcontent-%COMP%], .card-back[_ngcontent-%COMP%]   .main-panel[_ngcontent-%COMP%]{transition:opacity 1s ease .15s}.card-front[aria-hidden=true][_ngcontent-%COMP%]   .main-panel[_ngcontent-%COMP%], .card-back[aria-hidden=true][_ngcontent-%COMP%]   .main-panel[_ngcontent-%COMP%]{opacity:0}.card-front[aria-hidden=false][_ngcontent-%COMP%]   .main-panel[_ngcontent-%COMP%], .card-back[aria-hidden=false][_ngcontent-%COMP%]   .main-panel[_ngcontent-%COMP%]{opacity:1}.card-front[_ngcontent-%COMP%], .card-back[_ngcontent-%COMP%]{width:50%;height:100%;flex:0 0 50%;box-sizing:border-box;position:relative;overflow:hidden}.card-content[_ngcontent-%COMP%]{display:flex;height:100%;flex-direction:row-reverse}.side-panel[_ngcontent-%COMP%]{width:48%;display:flex;align-items:center;justify-content:center}.main-panel[_ngcontent-%COMP%]{width:55%;padding:48px;box-sizing:border-box;background:#fff;overflow:visible;display:flex;flex-direction:column;align-items:center}.logo-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;margin-bottom:8px}.py-learn-text[_ngcontent-%COMP%]{font-size:3vw;font-weight:600;color:#073879;font-family:Amonk_Outline;margin-bottom:1vw}.self-learning-system[_ngcontent-%COMP%]{font-size:1.2vw;font-weight:bolder;color:#073879;margin-top:-.8vw}.card-front[_ngcontent-%COMP%]   .main-panel[_ngcontent-%COMP%]   .signin-title[_ngcontent-%COMP%], .card-back[_ngcontent-%COMP%]   .main-panel[_ngcontent-%COMP%]   .signup-title[_ngcontent-%COMP%]{color:#222}@media (max-width: 900px){.auth-card[_ngcontent-%COMP%]{width:92vw;height:auto}.card-inner[_ngcontent-%COMP%]{width:200%}.card-content[_ngcontent-%COMP%]{flex-direction:column}.side-panel[_ngcontent-%COMP%]{width:100%;height:200px}.main-panel[_ngcontent-%COMP%]{width:100%;overflow:visible}}.card-front[aria-hidden=true][_ngcontent-%COMP%], .card-back[aria-hidden=true][_ngcontent-%COMP%]{pointer-events:none}.side-panel.side-right[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1d608b 0% 100%)}.side-info-box[_ngcontent-%COMP%]{position:absolute;top:164px;left:0;width:88%;padding:0 32px;z-index:2;text-align:left}.side-panel[_ngcontent-%COMP%]{position:relative}.card-front[_ngcontent-%COMP%]   .main-panel[_ngcontent-%COMP%], .card-front[_ngcontent-%COMP%]   .main-panel[_ngcontent-%COMP%]   .signin-title[_ngcontent-%COMP%], .card-front[_ngcontent-%COMP%]   .main-panel[_ngcontent-%COMP%]   .signin-footer[_ngcontent-%COMP%], .card-front[_ngcontent-%COMP%]   .main-panel[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .card-front[_ngcontent-%COMP%]   .main-panel[_ngcontent-%COMP%]   .signin-field[_ngcontent-%COMP%]   small[_ngcontent-%COMP%], .card-front[_ngcontent-%COMP%]   .main-panel[_ngcontent-%COMP%]   .signin-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#23395d!important}.card-front[_ngcontent-%COMP%]   .main-panel[_ngcontent-%COMP%]   .signin-field[_ngcontent-%COMP%]   small.error[_ngcontent-%COMP%]{color:#ff5252!important}.card-front[_ngcontent-%COMP%]   .main-panel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#0b57a4!important}.signin-divider-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;margin:12px 0 18px}.divider[_ngcontent-%COMP%]{flex:1;height:1px;background:#b0b8c1;margin:0 8px}.divider-or[_ngcontent-%COMP%]{color:#23395d;font-size:1.08em;font-weight:600;margin:0 8px}.google-btn[_ngcontent-%COMP%]{width:100%;height:45px;background:#18314a;color:#fff;border:none;border-radius:8px;padding:14px 0;font-size:1.1rem;font-weight:700;margin-bottom:18px;cursor:pointer;box-shadow:0 2px 8px #0003;display:flex;align-items:center;justify-content:center;gap:12px;transition:background .2s,color .2s}.google-btn[_ngcontent-%COMP%]:hover{background:#38bdf8}.google-logo[_ngcontent-%COMP%]{width:24px;height:24px}.side-panel.side-left[_ngcontent-%COMP%]{position:relative;overflow:hidden;background:#1d608b;min-height:400px}.side-img[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;z-index:0}.side-welcome-overlay[_ngcontent-%COMP%]{position:absolute;top:30%;left:50px;width:93%;text-align:start;z-index:2;padding:0 24px;pointer-events:auto}.welcome-back-title[_ngcontent-%COMP%]{font-size:2.1rem;font-weight:800;color:#fff;margin-bottom:8px}.welcome-back-desc[_ngcontent-%COMP%]{font-size:1rem;color:#e0f7fa;margin-bottom:18px}.action-btn[_ngcontent-%COMP%]{width:21%;background:#18314a;color:#fff;border:none;border-radius:8px;padding:14px 0;font-size:1.1rem;font-weight:700;margin-top:18px;margin-bottom:0;display:inline-block;letter-spacing:.5px;box-shadow:0 2px 8px #0003;cursor:pointer;transition:background .2s,color .2s}.action-btn[_ngcontent-%COMP%]:hover{background:#38bdf8;color:#18314a}.input-with-icon[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.input-with-icon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding-right:42px}.input-with-icon[_ngcontent-%COMP%]   .eye-toggle[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);background:none;border:none;font-size:1.2em;color:#888;cursor:pointer;line-height:1;padding:0;opacity:.8}.input-with-icon[_ngcontent-%COMP%]   .eye-toggle[_ngcontent-%COMP%]:hover{opacity:1;color:#555}.signin-field[_ngcontent-%COMP%]   input.invalid[_ngcontent-%COMP%]{border:1px solid #ff5252}.side-panel.side-left[_ngcontent-%COMP%]{position:relative}.side-panel.side-left[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(205deg,#05192ed9 8%,#05192eb3 40%,#05192e59 75%);z-index:1;pointer-events:none}.side-panel.side-left[_ngcontent-%COMP%]   .side-welcome-overlay[_ngcontent-%COMP%]{position:absolute;top:44%;left:10%;z-index:2;background:#0f28468c;backdrop-filter:blur(6px) saturate(140%);-webkit-backdrop-filter:blur(6px) saturate(140%);padding:20px 24px 24px;border-radius:18px;border:1px solid rgba(255,255,255,.15);box-shadow:0 4px 20px -4px #0000008c,0 0 0 1px #ffffff0d;max-width:429px;width:auto;text-align:center}.side-panel.side-left[_ngcontent-%COMP%]   .welcome-back-desc[_ngcontent-%COMP%], .side-panel.side-left[_ngcontent-%COMP%]   .welcome-back-title[_ngcontent-%COMP%]{text-shadow:0 2px 6px rgba(0,0,0,.6)}.side-panel.side-left[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{background:#38bdf8;color:#082a47;border:1px solid #4fd3ff;box-shadow:0 0 0 1px #ffffff0f,0 6px 18px -4px #0000008c;padding:10px 28px;width:auto;margin-top:4px;letter-spacing:.6px;transition:background .25s,box-shadow .25s,transform .25s}.side-panel.side-left[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{background:#4fd3ff;box-shadow:0 0 0 1px #ffffff14,0 8px 22px -6px #0009;transform:translateY(-2px)}.side-panel.side-left[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.side-panel.side-left[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:focus-visible{outline:2px solid #fff;outline-offset:3px}@media (max-width: 900px){.side-panel.side-left[_ngcontent-%COMP%]   .side-welcome-overlay[_ngcontent-%COMP%]{left:50%;top:auto;bottom:20px;transform:translate(-50%);max-width:92%;padding:18px 20px 22px}}.side-panel.side-right[_ngcontent-%COMP%]{position:relative;overflow:hidden}.side-panel.side-right[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(205deg,#05192ed9 10%,#05192eb3 45%,#05192e52 78%);z-index:1;pointer-events:none}.side-panel.side-right[_ngcontent-%COMP%]   .side-info-box[_ngcontent-%COMP%]{position:absolute;top:38%;left:7%;z-index:2;background:#0f28468c;backdrop-filter:blur(6px) saturate(140%);-webkit-backdrop-filter:blur(6px) saturate(140%);padding:20px 24px 24px;border-radius:18px;border:1px solid rgba(255,255,255,.15);box-shadow:0 4px 20px -4px #0000008c,0 0 0 1px #ffffff0d;max-width:469px;text-align:center}.side-panel.side-right[_ngcontent-%COMP%]   .welcome-back-title[_ngcontent-%COMP%], .side-panel.side-right[_ngcontent-%COMP%]   .welcome-back-desc[_ngcontent-%COMP%]{text-shadow:0 2px 6px rgba(0,0,0,.6)}.side-panel.side-right[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{background:#38bdf8;color:#082a47;border:1px solid #4fd3ff;box-shadow:0 0 0 1px #ffffff0f,0 6px 18px -4px #0000008c;padding:10px 28px;width:auto;margin-top:4px;letter-spacing:.6px;transition:background .25s,box-shadow .25s,transform .25s}.side-panel.side-right[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{background:#4fd3ff;box-shadow:0 0 0 1px #ffffff14,0 8px 22px -6px #0009;transform:translateY(-2px)}.side-panel.side-right[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.side-panel.side-right[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:focus-visible{outline:2px solid #fff;outline-offset:3px}@media (max-width: 900px){.side-panel.side-right[_ngcontent-%COMP%]   .side-info-box[_ngcontent-%COMP%]{left:50%;top:auto;bottom:20px;transform:translate(-50%);max-width:92%;padding:18px 20px 22px}}.signin-brand-logo[_ngcontent-%COMP%]{position:absolute;top:18px;left:24px;z-index:1200}.signin-brand-logo[_ngcontent-%COMP%]   .brand-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;text-decoration:none}.brand-logo-img[_ngcontent-%COMP%]{height:42px;display:block;filter:drop-shadow(0 2px 6px rgba(0,0,0,.4));max-width:5vw;height:auto;background:#fff;border-radius:1vw;margin:.5vw}.brand-text[_ngcontent-%COMP%]{font-size:1.05rem;font-weight:700;letter-spacing:.6px;color:#fff;text-shadow:0 2px 6px rgba(0,0,0,.6);font-family:inherit}.signin-brand-logo[_ngcontent-%COMP%]:hover   .brand-text[_ngcontent-%COMP%]{color:#4fd3ff}@media (max-width:700px){.signin-brand-logo[_ngcontent-%COMP%]{top:10px;left:10px;padding:6px 12px 6px 8px}.brand-logo-img[_ngcontent-%COMP%]{width:34px;height:34px}.brand-text[_ngcontent-%COMP%]{font-size:.9rem}}.signin-watermark[_ngcontent-%COMP%]{text-decoration:none;position:absolute;bottom:14px;right:22px;font-size:1vw;font-weight:600;letter-spacing:.5px;color:#fff;text-shadow:0 1px 4px rgba(0,0,0,.4)}@media (max-width:700px){.signin-watermark[_ngcontent-%COMP%]{bottom:8px;right:12px;font-size:.65rem}}.social-icons.signin-social-icons[_ngcontent-%COMP%]{position:absolute;top:18px;right:24px;z-index:1200;display:flex;gap:18px}.social-icons.signin-social-icons[_ngcontent-%COMP%]   .social-icon[_ngcontent-%COMP%]{width:42px;height:42px;display:inline-flex;align-items:center;justify-content:center;border-radius:50%;background-color:#fff;color:#38bdf8;font-size:18px;box-shadow:0 0 0 1px #214055,0 4px 14px #0006;transition:background-color .25s,color .25s,transform .25s,box-shadow .25s;text-decoration:none}.social-icons.signin-social-icons[_ngcontent-%COMP%]   .social-icon.facebook[_ngcontent-%COMP%]{color:#1877f2}.social-icons.signin-social-icons[_ngcontent-%COMP%]   .social-icon.youtube[_ngcontent-%COMP%]{color:red}.social-icons.signin-social-icons[_ngcontent-%COMP%]   .social-icon.linkedin[_ngcontent-%COMP%]{color:#0a66c2}.social-icons.signin-social-icons[_ngcontent-%COMP%]   .social-icon.instagram[_ngcontent-%COMP%]{color:#fd5949}.social-icons.signin-social-icons[_ngcontent-%COMP%]   .social-icon.facebook[_ngcontent-%COMP%]:hover{background-color:#1877f2;color:#fff}.social-icons.signin-social-icons[_ngcontent-%COMP%]   .social-icon.youtube[_ngcontent-%COMP%]:hover{background-color:red;color:#fff}.social-icons.signin-social-icons[_ngcontent-%COMP%]   .social-icon.linkedin[_ngcontent-%COMP%]:hover{background-color:#0a66c2;color:#fff}.social-icons.signin-social-icons[_ngcontent-%COMP%]   .social-icon.instagram[_ngcontent-%COMP%]:hover{background:radial-gradient(circle at 30% 110%,#fdf497,#fd5949 45%,#d6249f 60%,#285aeb 90%);color:#fff;filter:brightness(1.15);box-shadow:0 6px 22px #fd594999}.social-icons.signin-social-icons[_ngcontent-%COMP%]   .social-icon.website[_ngcontent-%COMP%]:hover{background-color:#009688;color:#fff;transform:translateY(-4px);box-shadow:0 6px 20px #00968888,0 0 0 2px #009688 inset}@media (max-width:700px){.social-icons.signin-social-icons[_ngcontent-%COMP%]{top:10px;right:10px;gap:10px}.social-icons.signin-social-icons[_ngcontent-%COMP%]   .social-icon[_ngcontent-%COMP%]{width:28px;height:28px;font-size:1em}}'],data:{animation:[ub("fadeInOut",[lp(":enter",[Fl({opacity:0}),cp("300ms ease-in",Fl({opacity:1}))]),lp(":leave",[cp("300ms ease-out",Fl({opacity:0}))])])]},changeDetection:0})}}return t})();var wb=(t,n)=>{let e=T(bi),i=T(et);return e.isLoggedIn()?!0:e.checkSession().pipe(z(r=>r?!0:(localStorage.setItem("redirectAfterLogin",n.url),i.navigate(["/login"]),!1)),nt(()=>(localStorage.setItem("redirectAfterLogin",n.url),i.navigate(["/login"]),L(!1))))};var Ib=Gb(xb());var tt=[];for(let t=0;t<256;++t)tt.push((t+256).toString(16).slice(1));function Db(t,n=0){return(tt[t[n+0]]+tt[t[n+1]]+tt[t[n+2]]+tt[t[n+3]]+"-"+tt[t[n+4]]+tt[t[n+5]]+"-"+tt[t[n+6]]+tt[t[n+7]]+"-"+tt[t[n+8]]+tt[t[n+9]]+"-"+tt[t[n+10]]+tt[t[n+11]]+tt[t[n+12]]+tt[t[n+13]]+tt[t[n+14]]+tt[t[n+15]]).toLowerCase()}var _p,aP=new Uint8Array(16);function vp(){if(!_p){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");_p=crypto.getRandomValues.bind(crypto)}return _p(aP)}var cP=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),yp={randomUUID:cP};function lP(t,n,e){t=t||{};let i=t.random??t.rng?.()??vp();if(i.length<16)throw new Error("Random bytes length must be >= 16");if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,n){if(e=e||0,e<0||e+16>n.length)throw new RangeError(`UUID byte range ${e}:${e+15} is out of buffer bounds`);for(let r=0;r<16;++r)n[e+r]=i[r];return n}return Db(i)}function dP(t,n,e){return yp.randomUUID&&!n&&!t?yp.randomUUID():lP(t,n,e)}var er=dP;var Eb=(()=>{class t{constructor(e){this.http=e,this.apiBaseSrc=zt.apiBaseUrl.replace(/\/+$/,""),this.apiBase=`${this.apiBaseSrc}/staticchat`;let i=sessionStorage.getItem("chat_user_id");i?this.userId=i:(this.userId=er(),sessionStorage.setItem("chat_user_id",this.userId)),console.log("Chat session user_id:",this.userId)}getUserId(){return this.userId}resetSession(){let e=this.userId;return this.userId=er(),sessionStorage.setItem("chat_user_id",this.userId),console.log("Session reset. New user_id:",this.userId),this.http.post(`${this.apiBase}/context/${e}/clear`,{})}searchQuestion(e){return this.http.post(`${this.apiBase}/search`,{question:e,user_id:this.userId})}getAllQuestions(){return this.http.get(`${this.apiBase}/questions`)}getRandomSuggestions(e=5){return this.http.get(`${this.apiBase}/suggestions`,{params:{count:e.toString()}})}getContextSuggestions(){return this.http.get(`${this.apiBase}/context/suggestions/${this.userId}`)}getContext(){return this.http.get(`${this.apiBase}/context/${this.userId}`)}static{this.\u0275fac=function(i){return new(i||t)(b(Mt))}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var hP=["chatContainer"],fP=["messageInput"],pP=["videoPlayer"];function mP(t,n){if(t&1&&(d(0,"div",25)(1,"div",26)(2,"span",27),u(3),l(),d(4,"div",28),u(5),Fn(6,"date"),l()(),_(7,"img",29),l()),t&2){let e=w().$implicit;m(3),Ae(e.user.text),m(2),de(" ",li(6,2,e.user.timestamp,"shortTime")," ")}}function gP(t,n){if(t&1&&(d(0,"span",27),u(1),l()),t&2){let e=w(2).$implicit;m(),de(" ",e.bot.text," ")}}function _P(t,n){if(t&1&&(d(0,"span"),u(1),l()),t&2){let e=w(2).$implicit;m(),de(" ",e.bot.rawData._activeText," ")}}function vP(t,n){if(t&1){let e=V();d(0,"button",38),D("click",function(){I(e);let r=w(3).$implicit,o=w();return S(o.playAudio(r.bot.rawData==null?null:r.bot.rawData.audio_url))}),u(1," \u{1F50A} Audio "),l()}}function yP(t,n){if(t&1){let e=V();d(0,"button",38),D("click",function(){I(e);let r=w(3).$implicit,o=w();return S(o.playResponseVideo(r.bot.rawData==null?null:r.bot.rawData.video_url,!1,r.bot.rawData==null?null:r.bot.rawData.answer,r.bot.rawData))}),u(1," \u{1F3AC} Video "),l()}}function bP(t,n){if(t&1){let e=V();d(0,"button",38),D("click",function(){I(e);let r=w(3).$implicit,o=w();return S(o.playResponseVideo(r.bot.rawData==null?null:r.bot.rawData.detail_url,!0,r.bot.rawData==null?null:r.bot.rawData.detail_text,r.bot.rawData))}),u(1," \u{1F4A1} Detail "),l()}}function wP(t,n){if(t&1){let e=V();d(0,"button",38),D("click",function(){I(e);let r=w(3).$implicit,o=w();return S(o.playResponseVideo(r.bot.rawData==null?null:r.bot.rawData.story_url,!0,r.bot.rawData==null?null:r.bot.rawData.story_text,r.bot.rawData))}),u(1," \u{1F4D6} Story "),l()}}function CP(t,n){if(t&1){let e=V();d(0,"button",38),D("click",function(){I(e);let r=w(3).$implicit,o=w();return S(o.playResponseVideo(r.bot.rawData==null?null:r.bot.rawData.example_url,!0,r.bot.rawData==null?null:r.bot.rawData.example_text,r.bot.rawData))}),u(1," \u{1F9EA} Example "),l()}}function xP(t,n){if(t&1&&(d(0,"div",36),P(1,vP,2,0,"button",37)(2,yP,2,0,"button",37)(3,bP,2,0,"button",37)(4,wP,2,0,"button",37)(5,CP,2,0,"button",37),l()),t&2){let e=w(2).$implicit;m(),g("ngIf",e.bot.rawData==null?null:e.bot.rawData.audio_url),m(),g("ngIf",e.bot.rawData==null?null:e.bot.rawData.video_url),m(),g("ngIf",e.bot.rawData==null?null:e.bot.rawData.detail_url),m(),g("ngIf",e.bot.rawData==null?null:e.bot.rawData.story_url),m(),g("ngIf",e.bot.rawData==null?null:e.bot.rawData.example_url)}}function DP(t,n){if(t&1&&(d(0,"div",30),_(1,"img",31),d(2,"div",32),P(3,gP,2,1,"span",33)(4,_P,2,1,"span",34)(5,xP,6,5,"div",35),d(6,"div",28),u(7),Fn(8,"date"),l()()()),t&2){let e=w().$implicit;m(3),g("ngIf",!(e.bot.rawData!=null&&e.bot.rawData._activeText)),m(),g("ngIf",e.bot.rawData==null?null:e.bot.rawData._activeText),m(),g("ngIf",e.bot.rawData&&((e.bot.rawData==null?null:e.bot.rawData.audio_url)||(e.bot.rawData==null?null:e.bot.rawData.video_url)||(e.bot.rawData==null?null:e.bot.rawData.detail_url)||(e.bot.rawData==null?null:e.bot.rawData.story_url)||(e.bot.rawData==null?null:e.bot.rawData.example_url))),m(2),de(" ",li(8,4,e.bot.timestamp,"shortTime")," ")}}function EP(t,n){if(t&1&&(d(0,"div",22),P(1,mP,8,5,"div",23)(2,DP,9,7,"div",24),l()),t&2){let e=n.$implicit,i=n.index;he("data-index",i),m(),g("ngIf",e.user),m(),g("ngIf",e.bot)}}function IP(t,n){t&1&&(d(0,"div",39),_(1,"div",40)(2,"div",40)(3,"div",40),l())}function SP(t,n){if(t&1){let e=V();d(0,"div",43),D("click",function(){let r=I(e).$implicit,o=w(2);return S(o.selectQuestion(r))}),u(1),l()}if(t&2){let e=n.$implicit;m(),de(" ",e," ")}}function MP(t,n){if(t&1&&(d(0,"div",41),P(1,SP,2,1,"div",42),l()),t&2){let e=w();m(),g("ngForOf",e.suggestedQuestions)}}function TP(t,n){if(t&1){let e=V();d(0,"div",44)(1,"button",45),D("click",function(){I(e);let r=w();return S(r.reject())}),u(2,"\u274C"),l(),d(3,"button",46),D("click",function(){I(e);let r=w();return S(r.accept())}),u(4,"\u2705"),l()()}}var Sb=(()=>{class t{constructor(e,i,r,o,s){this.fb=e,this.chatService=i,this.zone=o,this.http=s,this.messages=[],this.isTyping=!1,this.suggestedQuestions=[],this.showSuggestions=!1,this.allQuestions=[],this.searchQuery=new H,this.selectedQuestions=new Set,this.currentPairIndex=0,this.blinkVideoSrc="assets/staticchat/blink.mp4",this.introVideoSrc="assets/staticchat/intro.mp4",this.currentVideoType="blink",this.currentResponseVideoUrl=null,this.isVideoPlaying=!1,this.audioPlayer=null,this.hasChatStarted=!1,this.lastResponseVideoUrl=null,this.supported=!1,this.isListening=!1,this.showActions=!1,this.isBrowser=!1,this.mediaStream=null,this.recorder=null,this.chunks=[],this.uploadInProgress=!1,this.isSpeechProcessing=!1,this.showExtraText=!1,this.showExtraTextRaw="",this.apiBaseSrc=zt.apiBaseUrl.replace(/\/+$/,""),this.chatForm=this.fb.group({message:["",on.required]}),this.searchQuery.pipe(Qn(300),Kn()).subscribe(a=>{this.searchQuestions(a)}),this.isBrowser=Lt(r)}ngOnInit(){if(!this.isBrowser||(Promise.all([this.http.get("assets/dictionaries/en_us.aff",{responseType:"text"}).toPromise(),this.http.get("assets/dictionaries/en_us.dic",{responseType:"text"}).toPromise()]).then(([r,o])=>{this.spell=new Ib.default("en_US",r,o),console.log("Spell loaded successfully")}).catch(r=>{console.error("Dictionary load failed",r)}),this.messages.push({id:1,text:"Hello children! Today we will learn tenses in a simple and fun way.",sender:"bot",timestamp:new Date}),!this.isBrowser))return;let e=!!navigator.mediaDevices?.getUserMedia,i=typeof window.MediaRecorder<"u";this.supported=e&&i,this.loadAllQuestions(),setTimeout(()=>this.scrollToLastPair(),0)}ngAfterViewInit(){this.playBlinkVideo()}autoCorrectInput(e){if(!this.spell)return e;let i=e.split(" "),r=i.length-2;if(r>=0){let o=i[r];if(o&&!this.spell.check(o)){let s=this.spell.suggest(o);s.length>0&&(i[r]=s[0])}}return i.join(" ")}handleSpaceKey(){let e=this.chatForm.get("message")?.value;if(!e)return;let i=this.autoCorrectInput(e);this.chatForm.get("message")?.setValue(i,{emitEvent:!1}),setTimeout(()=>{this.messageInput?.nativeElement.focus()},0)}safeVideo(){try{return this.videoRef.nativeElement}catch{return null}}playBlinkVideo(){let e=this.safeVideo();e&&(e.onended=null,e.src=this.blinkVideoSrc,e.loop=!0,e.muted=!0,e.currentTime=0,e.play().catch(()=>{}),this.currentVideoType="blink",this.currentResponseVideoUrl=null,this.isVideoPlaying=!1)}playIntroVideo(){let e=this.safeVideo();e&&(this.audioPlayer&&!this.audioPlayer.paused&&this.audioPlayer.pause(),e.onended=()=>{this.playBlinkVideo()},e.src=this.introVideoSrc,e.loop=!1,e.muted=!1,e.currentTime=0,e.play().catch(()=>{e.muted=!0,e.play().catch(()=>{})}),this.currentVideoType="intro",this.currentResponseVideoUrl=null,this.isVideoPlaying=!0)}playResponseVideo(e,i,r,o){if(!e)return;o&&(o._activeText=i?r:null);let s=this.safeVideo();s&&(this.audioPlayer&&!this.audioPlayer.paused&&this.audioPlayer.pause(),s.onended=()=>{this.playBlinkVideo()},s.src=e,s.loop=!1,s.muted=!1,s.currentTime=0,s.play().then(()=>{this.isVideoPlaying=!0,this.currentVideoType="response",this.currentResponseVideoUrl=e}).catch(()=>{s.muted=!0,s.play().catch(()=>{})}))}showContentText(e,i){if(!e.bot?.rawData)return;let r=i+"_text",o=i+"_url",s=e.bot.rawData[r],a=e.bot.rawData[o];e.bot.rawData._activeContentType===i?(e.bot.rawData._activeContentType=null,e.bot.rawData._activeContentText=null):(e.bot.rawData._activeContentType=i,e.bot.rawData._activeContentText=s||"No text available for this section."),a&&this.playResponseVideo(a)}togglePlayPause(){let e=this.safeVideo();if(e){if(this.currentVideoType==="blink"){if(!this.hasChatStarted){this.playIntroVideo();return}this.lastResponseVideoUrl&&this.playResponseVideo(this.lastResponseVideoUrl);return}e.paused?(this.audioPlayer&&!this.audioPlayer.paused&&this.audioPlayer.pause(),e.play().catch(()=>{}),this.isVideoPlaying=!0):(e.pause(),this.isVideoPlaying=!1)}}loadAllQuestions(){this.chatService.getAllQuestions().subscribe({next:e=>{e.success&&(this.allQuestions=e.questions)},error:e=>console.error("Error loading questions:",e)})}onInputFocus(){this.showQuestionSuggestions()}onInputClick(){this.showQuestionSuggestions()}showQuestionSuggestions(){if(this.allQuestions.length===0){this.loadAllQuestions();return}if(this.messages.length<=1){this.suggestedQuestions=this.allQuestions.slice(0,5).map(i=>i.question),this.showSuggestions=!0;return}let e=this.allQuestions.filter(i=>!this.selectedQuestions.has(i.question));if(e.length===0){let i=[...this.allQuestions].sort(()=>.5-Math.random());this.suggestedQuestions=i.slice(0,5).map(r=>r.question)}else this.suggestedQuestions=e.slice(0,5).map(i=>i.question);this.showSuggestions=!0}searchQuestions(e){if(e.length>0){let i=this.allQuestions.filter(r=>r.question.toLowerCase().includes(e.toLowerCase())).slice(0,5);this.suggestedQuestions=i.map(r=>r.question),this.showSuggestions=this.suggestedQuestions.length>0}else this.showQuestionSuggestions()}onInputChange(){let e=this.chatForm.get("message")?.value;e?this.searchQuery.next(e):this.showQuestionSuggestions()}selectQuestion(e){this.selectedQuestions.add(e),this.chatForm.get("message")?.setValue(e),this.showSuggestions=!1,this.suggestedQuestions=this.suggestedQuestions.filter(i=>i!==e),this.sendMessage()}sendMessage(){let e=this.chatForm.get("message")?.value.trim();e&&(this.messages.push({id:this.messages.length+1,text:e,sender:"user",timestamp:new Date}),this.hasChatStarted=!0,this.chatForm.reset(),this.showSuggestions=!1,this.isTyping=!0,setTimeout(()=>this.scrollToLastPair(),50),this.chatService.searchQuestion(e).subscribe({next:i=>{this.isTyping=!1;let r=i.answer?i.answer.replace(/\n/g," "):i.message||"Sorry, I could not find an answer.";this.messages.push({id:this.messages.length+1,text:r,sender:"bot",timestamp:new Date,rawData:i}),setTimeout(()=>this.scrollToLastPair(),50),i.audio_url&&this.playAudio(i.audio_url),i.video_url&&(this.lastResponseVideoUrl=i.video_url,this.playResponseVideo(i.video_url))},error:()=>{this.isTyping=!1,this.messages.push({id:this.messages.length+1,text:"Sorry, I encountered an error. Please try again.",sender:"bot",timestamp:new Date}),setTimeout(()=>this.scrollToLastPair(),50)}}))}playAudio(e){if(e)try{let i=this.safeVideo();i&&this.currentVideoType!=="blink"&&!i.paused&&(i.pause(),this.isVideoPlaying=!1),this.audioPlayer?this.audioPlayer.pause():this.audioPlayer=new Audio,this.audioPlayer.src=e,this.audioPlayer.currentTime=0,this.audioPlayer.play().catch(()=>{})}catch(i){console.error("Audio play failed",i)}}playVideoFromChat(e){e&&this.playResponseVideo(e)}formatAnswer(e){let i="",r=e.answer?.replace(/\n/g,"<br>")??"No answer available.";return i+=`<div class="bot-answer">${r}</div>`,(e.audio_url||e.video_url)&&(i+='<div class="media-row">',e.audio_url&&(i+=`
        <span class="media-icon" 
              onclick="window.dispatchEvent(new CustomEvent('playAudio', { detail: '${e.audio_url}' }))">
          \u{1F3A7}
        </span>`),e.video_url&&(i+=`
        <span class="media-icon"
              onclick="window.dispatchEvent(new CustomEvent('playVideo', { detail: '${e.video_url}' }))">
          \u{1F4FA}
        </span>`),i+="</div>"),i}formatErrorMessage(e){let i=e.message||"I couldn't find an exact match.";return e.sample_questions?.length&&(i+="<br><br><strong>Try asking:</strong><ul>",e.sample_questions.forEach(r=>i+=`<li>${r}</li>`),i+="</ul>"),i}get pairedMessages(){let e=[],i=this.messages||[],r=0;for(;r<i.length;){let o=i[r];if(o.sender==="user"){let s={user:o},a=i[r+1];a&&a.sender==="bot"?(s.bot=a,r+=2):r+=1,e.push(s)}else o.sender==="bot"?(e.push({bot:o}),r+=1):(e.push({bot:o}),r+=1)}return e}showNextPair(){let e=this.pairedMessages.length;if(e===0)return;let i=Math.min(this.currentPairIndex+1,e-1);this.scrollToPair(i)}showPreviousPair(){if(this.pairedMessages.length===0)return;let i=Math.max(this.currentPairIndex-1,0);this.scrollToPair(i)}scrollToPair(e){setTimeout(()=>{try{let i=this.chatContainer.nativeElement,r=i.querySelectorAll(".pair");if(!r||r.length===0)return;e<0&&(e=0),e>=r.length&&(e=r.length-1);let o=r[e];if(!o)return;i.scrollTo({top:o.offsetTop,behavior:"smooth"}),this.currentPairIndex=e}catch{try{let r=this.chatContainer.nativeElement;e===0?r.scrollTop=0:r.scrollTop=r.scrollHeight}catch{}}},50)}scrollToLastPair(){setTimeout(()=>{try{let e=this.pairedMessages.length;if(e===0)return;this.scrollToPair(e-1)}catch{}},50)}scrollToTop(){setTimeout(()=>{try{let e=this.chatContainer.nativeElement;typeof e.scrollTo=="function"?e.scrollTo({top:0,behavior:"smooth"}):e.scrollTop=0}catch{}},100)}clearChat(){this.messages=[],this.selectedQuestions.clear(),this.hasChatStarted=!1,this.lastResponseVideoUrl=null,this.ngOnInit(),this.playBlinkVideo()}pickMimeType(){let e=window,i=["audio/webm;codecs=opus","audio/webm","audio/mp4","audio/m4a"];if(!e.MediaRecorder?.isTypeSupported)return"";for(let r of i)if(e.MediaRecorder.isTypeSupported(r))return r;return""}toggleMic(){return We(this,null,function*(){if(!(!this.supported||this.isListening||this.uploadInProgress))try{this.mediaStream=yield navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0}});let e=this.pickMimeType();this.chunks=[],this.recorder=e?new MediaRecorder(this.mediaStream,{mimeType:e}):new MediaRecorder(this.mediaStream),this.recorder.ondataavailable=i=>{i.data&&i.data.size>0&&this.chunks.push(i.data)},this.recorder.onerror=()=>{this.zone.run(()=>{this.handleTranscriptionError("Audio recording error."),this.cleanupRecorder()})},this.zone.run(()=>{this.isListening=!0,this.showActions=!0}),this.recorder.start()}catch{this.zone.run(()=>{this.handleTranscriptionError("Microphone permission denied or not available."),this.cleanupRecorder()})}})}accept(){if(!(!this.recorder||this.uploadInProgress)){this.uploadInProgress=!0,this.recorder.onstop=()=>We(this,null,function*(){try{let e=this.recorder?.mimeType||"audio/webm",i=new Blob(this.chunks,{type:e});this.zone.run(()=>{this.isSpeechProcessing=!0,this.showActions=!1,this.isListening=!1,this.chatForm.get("message")?.setValue("\u23F3 Converting speech to text...")});let r=yield this.sendToBackendForTranscription(i);this.zone.run(()=>{this.isSpeechProcessing=!1,r&&r.trim()?this.handleTranscriptionAccepted(r.trim()):this.chatForm.get("message")?.setValue("")})}catch(e){this.zone.run(()=>{this.handleTranscriptionError(typeof e?.message=="string"?e.message:"Transcription failed."),this.showActions=!1,this.isListening=!1})}finally{this.uploadInProgress=!1,this.cleanupRecorder()}});try{this.recorder.stop()}catch{this.uploadInProgress=!1,this.cleanupRecorder()}}}reject(){if(!this.uploadInProgress){try{this.recorder?.stop()}catch{}this.zone.run(()=>{this.handleTranscriptionRejected(),this.showActions=!1,this.isListening=!1}),this.cleanupRecorder()}}sendToBackendForTranscription(e){return We(this,null,function*(){let i=`${this.apiBaseSrc}/staticchat/transcribe`,r=new FormData;r.append("file",e,"speech.webm");let o=yield fetch(i,{method:"POST",body:r});if(!o.ok){let a=yield o.text().catch(()=>"");throw new Error(a||`Transcribe API failed (${o.status}).`)}return((yield o.json())?.text||"").toString()})}cleanupRecorder(){try{this.recorder?.removeEventListener?.("dataavailable",()=>{})}catch{}if(this.recorder=null,this.chunks=[],this.mediaStream){try{this.mediaStream.getTracks().forEach(e=>e.stop())}catch{}this.mediaStream=null}}handleClickOutside(e){this.showSuggestions&&this.messageInput&&(this.messageInput.nativeElement.contains(e.target)||(this.showSuggestions=!1))}handleTranscriptionAccepted(e){try{this.chatForm.get("message")?.setValue(e),setTimeout(()=>{this.messageInput?.nativeElement.focus()},0)}catch(i){console.error("handleTranscriptionAccepted error",i)}}handleTranscriptionRejected(){try{this.chatForm.get("message")?.setValue("")}catch(e){console.error("handleTranscriptionRejected error",e)}}handleTranscriptionError(e){try{this.isSpeechProcessing=!1,this.chatForm.get("message")?.setValue(""),this.messages.push({id:this.messages.length+1,text:`Transcription error: ${e}`,sender:"bot",timestamp:new Date}),setTimeout(()=>this.scrollToLastPair(),50)}catch(i){console.error("handleTranscriptionError error",i)}}static{this.\u0275fac=function(i){return new(i||t)(C($r),C(Eb),C(Ze),C(B),C(Mt))}}static{this.\u0275cmp=me({type:t,selectors:[["app-staticchat"]],viewQuery:function(i,r){if(i&1&&(Ye(hP,5),Ye(fP,5),Ye(pP,5)),i&2){let o;je(o=Be())&&(r.chatContainer=o.first),je(o=Be())&&(r.messageInput=o.first),je(o=Be())&&(r.videoRef=o.first)}},hostBindings:function(i,r){i&1&&D("click",function(s){return r.handleClickOutside(s)},!1,Ar)},decls:27,vars:10,consts:[["chatContainer",""],["messageInput",""],["videoPlayer",""],[1,"staticchat-container"],["routerLink","/","src","assets/staticchat/back.png",1,"back-btn"],[1,"nav-bar"],[1,"chat-container"],[1,"chat-window"],["title","Prev message",1,"arrow-btn","up",3,"click"],[1,"chat-messages"],["class","pair",4,"ngFor","ngForOf"],["class","typing-indicator",4,"ngIf"],["title","Next message",1,"arrow-btn","down",3,"click"],["class","suggestions-box",4,"ngIf"],[1,"chat-input",3,"ngSubmit","formGroup"],["type","text","formControlName","message",3,"focus","input","keyup.space","placeholder","readonly"],["type","button",1,"micBtn",3,"click","disabled"],["class","actions",4,"ngIf"],["type","submit",3,"disabled"],[1,"video-window"],["autoplay","","muted","","playsinline",""],[1,"play-pause-btn",3,"click","src"],[1,"pair"],["class","message-row user-row",4,"ngIf"],["class","message-row bot-row",4,"ngIf"],[1,"message-row","user-row"],[1,"message-bubble","user-message"],[2,"font-size","1.5vw"],[1,"message-time"],["src","assets/staticchat/student.png",1,"avatar"],[1,"message-row","bot-row"],["src","assets/staticchat/teacher.png",1,"avatar"],[1,"message-bubble","bot-message"],["style","font-size:1.5vw;",4,"ngIf"],["style","",4,"ngIf"],["class","mediaRow",4,"ngIf"],[1,"mediaRow"],["class","chip",3,"click",4,"ngIf"],[1,"chip",3,"click"],[1,"typing-indicator"],[1,"dot"],[1,"suggestions-box"],["class","suggestion-item",3,"click",4,"ngFor","ngForOf"],[1,"suggestion-item",3,"click"],[1,"actions"],[1,"reject",3,"click"],[1,"accept",3,"click"]],template:function(i,r){if(i&1){let o=V();d(0,"div",3),_(1,"img",4),d(2,"div",5),u(3,"MJ-CHAT"),l(),d(4,"div",6)(5,"div",7)(6,"button",8),D("click",function(){return I(o),S(r.showPreviousPair())}),u(7,"\u2191"),l(),d(8,"div",9,0),P(10,EP,3,3,"div",10)(11,IP,4,0,"div",11),l(),d(12,"button",12),D("click",function(){return I(o),S(r.showNextPair())}),u(13,"\u2193"),l(),P(14,MP,2,1,"div",13),d(15,"form",14),D("ngSubmit",function(){return I(o),S(r.sendMessage())}),d(16,"input",15,1),D("focus",function(){return I(o),S(r.onInputFocus())})("input",function(){return I(o),S(r.onInputChange())})("keyup.space",function(){return I(o),S(r.handleSpaceKey())}),l(),d(18,"button",16),D("click",function(){return I(o),S(r.toggleMic())}),u(19," \u{1F3A4} "),l(),P(20,TP,5,0,"div",17),d(21,"button",18),u(22," \u27A4 "),l()()(),d(23,"div",19),_(24,"video",20,2),d(26,"img",21),D("click",function(){return I(o),S(r.togglePlayPause())}),l()()()()}i&2&&(m(10),g("ngForOf",r.pairedMessages),m(),g("ngIf",r.isTyping),m(3),g("ngIf",r.showSuggestions&&r.suggestedQuestions.length>0),m(),g("formGroup",r.chatForm),m(),g("placeholder",r.isListening?"\u23FA Listening...":"Type your message...")("readonly",r.isSpeechProcessing||r.isListening),m(2),g("disabled",!r.supported||r.isListening),m(2),g("ngIf",r.showActions),m(),g("disabled",!r.chatForm.valid),m(5),g("src",r.currentVideoType!=="blink"&&r.isVideoPlaying?"assets/staticchat/pause.png":"assets/staticchat/play.png",ee))},dependencies:[di,ct,Ut,Ur,Cn,fi,Br,zi,Gi,jc],styles:[".chat-container[_ngcontent-%COMP%], .chat-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,SF Pro Display,sans-serif!important}.staticchat-container[_ngcontent-%COMP%]{height:100vh;background:url(/assets/staticchat/bg-layout.png) repeat}.nav-bar[_ngcontent-%COMP%]{background-color:#192245;box-shadow:0 6px 18px #0000006b;text-align:center;color:#fff;font-size:2vw;font-family:Amonk_Outline!important;padding:1vw}.chat-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:89vh;padding:2vw;gap:2vw}.chat-window[_ngcontent-%COMP%]{width:100%;max-width:1000px;height:80vh;display:flex;flex-direction:column;border-radius:20px;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);background:#ffffff14;box-shadow:0 10px 40px #0006;overflow:hidden}.chat-messages[_ngcontent-%COMP%]{flex:1;overflow-y:auto;display:flex;flex-direction:column;gap:7vw}.message-row[_ngcontent-%COMP%]{display:flex;align-items:flex-end;gap:10px}.avatar[_ngcontent-%COMP%]{width:38px;height:38px;border-radius:50%;object-fit:cover;box-shadow:0 2px 6px #0000004d}.message-bubble[_ngcontent-%COMP%]{max-width:60%;padding:14px 18px 8px;border-radius:18px;font-size:clamp(14px,1vw,18px);line-height:1.6;display:flex;flex-direction:column}.user-message[_ngcontent-%COMP%]{background:linear-gradient(135deg,#09f,#06f);color:#fff;border-bottom-right-radius:6px}.bot-message[_ngcontent-%COMP%]{background:#fffffff2;color:#333;border-bottom-left-radius:6px}.message-time[_ngcontent-%COMP%]{font-size:clamp(10px,.7vw,12px);opacity:.6;margin-top:6px;align-self:flex-end}.typing-indicator[_ngcontent-%COMP%]{display:flex;gap:5px;align-items:center;color:#fff;padding-left:50px}.dot[_ngcontent-%COMP%]{width:6px;height:6px;background:#ccc;border-radius:50%;animation:_ngcontent-%COMP%_blink 1.4s infinite both}.dot[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.dot[_ngcontent-%COMP%]:nth-child(3){animation-delay:.4s}@keyframes _ngcontent-%COMP%_blink{0%{opacity:.2}20%{opacity:1}to{opacity:.2}}.suggestions-box[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0072ff,#00c6ff);max-height:250px;overflow-y:auto;border-radius:12px;margin:0 20px 10px;width:47vw}.suggestion-item[_ngcontent-%COMP%]{padding:10px 14px;cursor:pointer;color:#fff;font-size:1vw;font-weight:700;border-bottom:1px solid rgba(255,255,255,.1);transition:background .2s ease}.suggestion-item[_ngcontent-%COMP%]:hover{background:#ffffff26}.chat-input[_ngcontent-%COMP%]{display:flex;padding:16px;background:#ffffff26;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border-top:1px solid rgba(255,255,255,.2)}.chat-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;padding:12px 16px;border-radius:25px;border:none;outline:none;font-size:14px}.chat-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px;width:48px;height:48px;border-radius:50%;border:none;background:linear-gradient(135deg,#00c6ff,#0072ff);color:#fff;font-size:30px;cursor:pointer;transition:transform .2s ease}.chat-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.08)}.chat-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ffffff4d;border-radius:10px}.video-window[_ngcontent-%COMP%]{width:100%;max-width:640px;height:80vh;margin-left:20px;border-radius:20px;overflow:hidden;background:#ffffff0d;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:0 10px 30px #0006;display:flex;flex-direction:column;align-items:center;gap:2vw}.video-window[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%;height:100%;flex:1;object-fit:cover;background:#000}.play-pause-btn[_ngcontent-%COMP%]{position:relative;top:-1vw;width:4vw;min-width:40px;height:4vw;min-height:40px;cursor:pointer;border:2px solid #3f61ad;border-radius:50px;box-shadow:0 8px 20px #3f61ad2e,0 2px 6px #00000040;transition:transform .16s ease,box-shadow .16s ease;background:linear-gradient(180deg,#ffffff05,#00000008)}.play-pause-btn[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 16px 36px #3f61ad38,0 6px 12px #00000047}.play-pause-btn[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 6px 12px #00000038}.bot-answer[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,SF Pro Display,sans-serif!important;font-size:clamp(14px,1vw,18px);line-height:1.6}.micBtn[_ngcontent-%COMP%]{width:44px;height:44px;border:0;border-radius:999px;cursor:pointer;display:inline-flex;align-items:center;justify-content:center;background:#f3f4f6;font-size:30px!important}.micBtn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.micBtn.active[_ngcontent-%COMP%]{background:#111827}.micIcon[_ngcontent-%COMP%]{width:22px;height:22px;fill:#111827}.micBtn.active[_ngcontent-%COMP%]   .micIcon[_ngcontent-%COMP%]{fill:#fff}.actions[_ngcontent-%COMP%]{display:inline-flex;gap:8px;margin-left:8px;align-items:center}.okBtn[_ngcontent-%COMP%], .noBtn[_ngcontent-%COMP%]{font-size:18px;width:38px;height:38px;border-radius:999px;border:0;cursor:pointer;background:#f3f4f6}.okBtn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.okBtn[_ngcontent-%COMP%]:hover, .noBtn[_ngcontent-%COMP%]:hover{background:#e5e7eb}.mediaRow[_ngcontent-%COMP%]{display:flex;gap:1vw;font-size:1vw;padding-top:2vw}.chip[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;min-width:48px;height:clamp(30px,2vw,36px);padding:0 12px;background:linear-gradient(135deg,#00c6ff,#0072ff);color:#fff;font-weight:600;font-size:.9rem;border:none;border-radius:999px;box-shadow:0 6px 20px #0072ff2e,0 2px 6px #00000040;cursor:pointer;transition:transform .15s ease,box-shadow .15s ease,opacity .15s ease;-webkit-user-select:none;user-select:none}.chip[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 14px 30px #0072ff33,0 4px 10px #00000047}.chip[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 6px 14px #00000038;opacity:.98}.chip[_ngcontent-%COMP%]:focus{outline:3px solid rgba(0,114,255,.18);outline-offset:3px}.arrow-btn[_ngcontent-%COMP%]{position:fixed;right:16px;width:51px;height:51px;border-radius:50%;border:none;background:linear-gradient(135deg,#00c6ff,#0072ff);color:#fff;font-size:31px;box-shadow:0 6px 16px #00000040;cursor:pointer;transition:transform .15s ease,box-shadow .2s ease,background .2s ease;z-index:20}.up[_ngcontent-%COMP%]{top:1vw}.down[_ngcontent-%COMP%]{bottom:5vw}.chat-messages[_ngcontent-%COMP%]{overflow-y:auto;scroll-snap-type:y mandatory;-webkit-overflow-scrolling:touch}.pair[_ngcontent-%COMP%]{scroll-snap-align:start;min-height:100%;display:flex;flex-direction:column;justify-content:flex-start;padding:4.5rem 1rem;box-sizing:border-box;gap:2vw}.pair[_ngcontent-%COMP%] + .pair[_ngcontent-%COMP%]{margin-top:8px}.message-row[_ngcontent-%COMP%]{display:flex;align-items:flex-end;gap:.6rem}.bot-row[_ngcontent-%COMP%]{justify-content:flex-start}.user-row[_ngcontent-%COMP%]{justify-content:flex-end}.avatar[_ngcontent-%COMP%]{width:3.2rem;height:3.2rem;border-radius:50%;object-fit:cover}.message-bubble[_ngcontent-%COMP%]{max-width:70%;padding:.6rem .8rem;border-radius:.6rem;position:relative}.bot-message[_ngcontent-%COMP%]{background:#f1f1f1;color:#111}.user-message[_ngcontent-%COMP%]{color:#fff;background:linear-gradient(135deg,#00c6ff,#0072ff)}.message-time[_ngcontent-%COMP%]{font-size:.7rem;color:#000;margin-top:6px;text-align:right}.typing-indicator[_ngcontent-%COMP%]{display:flex;gap:.4rem;padding:.5rem;align-items:center}.typing-indicator[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:50%;background:#bbb;animation:_ngcontent-%COMP%_blink 1.2s infinite}@keyframes _ngcontent-%COMP%_blink{0%{opacity:.2}50%{opacity:1}to{opacity:.2}}.back-btn[_ngcontent-%COMP%]{width:6vw;top:2.2vw}"]})}}return t})();var Mb=(()=>{class t{constructor(e){this.http=e,this.apiBaseSrc=zt.apiBaseUrl.replace(/\/+$/,""),this.apiBase=`${this.apiBaseSrc}/chat_llm`;let i=sessionStorage.getItem("chat_session_id");i?this.sessionId=i:(this.sessionId=er(),sessionStorage.setItem("chat_session_id",this.sessionId))}getSessionId(){return this.sessionId}getSuggestions(){return this.http.get(`${this.apiBase}/suggestions`)}searchQuestion(e){let i=new jt({"X-Session-Id":this.sessionId});return this.http.post(`${this.apiBase}/ask`,{question:e,session_id:this.sessionId},{headers:i})}getAllQuestions(){return this.http.get(`${this.apiBase}/questions`)}clearContext(){let e=new jt({"X-Session-Id":this.sessionId});return this.http.post(`${this.apiBase}/clear_context`,{session_id:this.sessionId},{headers:e})}resetSession(){this.sessionId=er(),sessionStorage.setItem("chat_session_id",this.sessionId)}static{this.\u0275fac=function(i){return new(i||t)(b(Mt))}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var OP=["chatContainer"],kP=["messageInput"],PP=["videoPlayer"];function RP(t,n){if(t&1&&(d(0,"div",25)(1,"div",26)(2,"span",27),u(3),l(),d(4,"div",28),u(5),Fn(6,"date"),l()(),_(7,"img",29),l()),t&2){let e=w().$implicit;m(3),Ae(e.user.text),m(2),de(" ",li(6,2,e.user.timestamp,"shortTime")," ")}}function NP(t,n){if(t&1){let e=V();d(0,"button",39),D("click",function(){let r=I(e).$implicit,o=w(5);return S(o.playAudio(r))}),u(1),l()}if(t&2){let e=n.index,i=w(4).$implicit;g("title","Audio "+(e+1)),m(),de(" \u{1F50A} Audio ",i.bot.rawData.audio_urls.length>1?e+1:""," ")}}function FP(t,n){if(t&1&&(xe(0),P(1,NP,2,2,"button",38),De()),t&2){let e=w(3).$implicit;m(),g("ngForOf",e.bot.rawData.audio_urls)}}function LP(t,n){if(t&1){let e=V();d(0,"button",40),D("click",function(){I(e);let r=w(3).$implicit,o=w();return S(o.playAudio(r.bot.rawData==null?null:r.bot.rawData.audio_url))}),u(1," \u{1F50A} Audio "),l()}}function VP(t,n){if(t&1){let e=V();d(0,"button",42),D("click",function(){let r=I(e),o=r.$implicit,s=r.index,a=w(4).$implicit,c=w();return S(c.playResponseVideo(o,!1,a.bot.rawData==null?null:a.bot.rawData.answer,a.bot,"main",s))}),u(1),l()}if(t&2){let e=n.index,i=w(4).$implicit;ce("active",i.bot._mediaType==="main"&&i.bot._activeMediaIndex===e),m(),de(" \u{1F3AC} Video ",i.bot.rawData.video_urls.length>1?e+1:""," ")}}function jP(t,n){if(t&1&&(xe(0),P(1,VP,2,3,"button",41),De()),t&2){let e=w(3).$implicit;m(),g("ngForOf",e.bot.rawData.video_urls)}}function BP(t,n){if(t&1){let e=V();d(0,"button",40),D("click",function(){I(e);let r=w(3).$implicit,o=w();return S(o.playResponseVideo(r.bot.rawData==null?null:r.bot.rawData.video_url,!1,r.bot.rawData==null?null:r.bot.rawData.answer,r.bot,"main"))}),u(1," \u{1F3AC} Video "),l()}}function UP(t,n){if(t&1){let e=V();d(0,"button",44),D("click",function(){let r=I(e),o=r.$implicit,s=r.index,a=w(4).$implicit,c=w();return S(c.playResponseVideo(o,!0,(a.bot.rawData.detail_texts==null?null:a.bot.rawData.detail_texts[s])||"Detail "+(s+1),a.bot,"detail",s))}),u(1),l()}if(t&2){let e=n.index,i=w(4).$implicit;ce("active",i.bot._mediaType==="detail"&&i.bot._activeMediaIndex===e),m(),de(" \u{1F4A1} Detail ",i.bot.rawData.detail_urls.length>1?e+1:""," ")}}function $P(t,n){if(t&1&&(xe(0),P(1,UP,2,3,"button",43),De()),t&2){let e=w(3).$implicit;m(),g("ngForOf",e.bot.rawData.detail_urls)}}function HP(t,n){if(t&1){let e=V();d(0,"button",40),D("click",function(){I(e);let r=w(3).$implicit,o=w();return S(o.playResponseVideo(r.bot.rawData==null?null:r.bot.rawData.detail_url,!0,r.bot.rawData==null?null:r.bot.rawData.detail_text,r.bot,"detail"))}),u(1," \u{1F4A1} Detail "),l()}}function zP(t,n){if(t&1){let e=V();d(0,"button",46),D("click",function(){let r=I(e),o=r.$implicit,s=r.index,a=w(4).$implicit,c=w();return S(c.playResponseVideo(o,!0,(a.bot.rawData.story_texts==null?null:a.bot.rawData.story_texts[s])||"Story "+(s+1),a.bot,"story",s))}),u(1),l()}if(t&2){let e=n.index,i=w(4).$implicit;ce("active",i.bot._mediaType==="story"&&i.bot._activeMediaIndex===e),m(),de(" \u{1F4D6} Story ",i.bot.rawData.story_urls.length>1?e+1:""," ")}}function GP(t,n){if(t&1&&(xe(0),P(1,zP,2,3,"button",45),De()),t&2){let e=w(3).$implicit;m(),g("ngForOf",e.bot.rawData.story_urls)}}function WP(t,n){if(t&1){let e=V();d(0,"button",40),D("click",function(){I(e);let r=w(3).$implicit,o=w();return S(o.playResponseVideo(r.bot.rawData==null?null:r.bot.rawData.story_url,!0,r.bot.rawData==null?null:r.bot.rawData.story_text,r.bot,"story"))}),u(1," \u{1F4D6} Story "),l()}}function qP(t,n){if(t&1){let e=V();d(0,"button",48),D("click",function(){let r=I(e),o=r.$implicit,s=r.index,a=w(4).$implicit,c=w();return S(c.playResponseVideo(o,!0,(a.bot.rawData.example_texts==null?null:a.bot.rawData.example_texts[s])||"Example "+(s+1),a.bot,"example",s))}),u(1),l()}if(t&2){let e=n.index,i=w(4).$implicit;ce("active",i.bot._mediaType==="example"&&i.bot._activeMediaIndex===e),m(),de(" \u{1F9EA} Example ",i.bot.rawData.example_urls.length>1?e+1:""," ")}}function YP(t,n){if(t&1&&(xe(0),P(1,qP,2,3,"button",47),De()),t&2){let e=w(3).$implicit;m(),g("ngForOf",e.bot.rawData.example_urls)}}function QP(t,n){if(t&1){let e=V();d(0,"button",40),D("click",function(){I(e);let r=w(3).$implicit,o=w();return S(o.playResponseVideo(r.bot.rawData==null?null:r.bot.rawData.example_url,!0,r.bot.rawData==null?null:r.bot.rawData.example_text,r.bot,"example"))}),u(1," \u{1F9EA} Example "),l()}}function ZP(t,n){if(t&1&&(d(0,"div",35),P(1,FP,2,1,"ng-container",36)(2,LP,2,0,"button",37)(3,jP,2,1,"ng-container",36)(4,BP,2,0,"button",37)(5,$P,2,1,"ng-container",36)(6,HP,2,0,"button",37)(7,GP,2,1,"ng-container",36)(8,WP,2,0,"button",37)(9,YP,2,1,"ng-container",36)(10,QP,2,0,"button",37),l()),t&2){let e=w(2).$implicit;m(),g("ngIf",(e.bot.rawData==null||e.bot.rawData.audio_urls==null?null:e.bot.rawData.audio_urls.length)>0),m(),g("ngIf",!(!(e.bot.rawData==null||e.bot.rawData.audio_urls==null)&&e.bot.rawData.audio_urls.length)&&(e.bot.rawData==null?null:e.bot.rawData.audio_url)),m(),g("ngIf",(e.bot.rawData==null||e.bot.rawData.video_urls==null?null:e.bot.rawData.video_urls.length)>0),m(),g("ngIf",!(!(e.bot.rawData==null||e.bot.rawData.video_urls==null)&&e.bot.rawData.video_urls.length)&&(e.bot.rawData==null?null:e.bot.rawData.video_url)),m(),g("ngIf",(e.bot.rawData==null||e.bot.rawData.detail_urls==null?null:e.bot.rawData.detail_urls.length)>0),m(),g("ngIf",!(!(e.bot.rawData==null||e.bot.rawData.detail_urls==null)&&e.bot.rawData.detail_urls.length)&&(e.bot.rawData==null?null:e.bot.rawData.detail_url)),m(),g("ngIf",(e.bot.rawData==null||e.bot.rawData.story_urls==null?null:e.bot.rawData.story_urls.length)>0),m(),g("ngIf",!(!(e.bot.rawData==null||e.bot.rawData.story_urls==null)&&e.bot.rawData.story_urls.length)&&(e.bot.rawData==null?null:e.bot.rawData.story_url)),m(),g("ngIf",(e.bot.rawData==null||e.bot.rawData.example_urls==null?null:e.bot.rawData.example_urls.length)>0),m(),g("ngIf",!(!(e.bot.rawData==null||e.bot.rawData.example_urls==null)&&e.bot.rawData.example_urls.length)&&(e.bot.rawData==null?null:e.bot.rawData.example_url))}}function KP(t,n){if(t&1&&(d(0,"div",49),u(1),Fn(2,"titlecase"),l()),t&2){let e=w(2).$implicit;m(),lh(" ",__(2,3,e.bot._mediaType)," ",(e.bot._activeMediaIndex||0)+1," / ",e.bot.rawData[e.bot._mediaType+"_urls"].length,`
`)}}function XP(t,n){if(t&1&&(d(0,"div",30),_(1,"img",31),d(2,"div",32)(3,"span"),u(4),l(),P(5,ZP,11,10,"div",33)(6,KP,3,5,"div",34),d(7,"div",28),u(8),Fn(9,"date"),l()()()),t&2){let e=w().$implicit;m(4),Ae(e.bot.text),m(),g("ngIf",e.bot.rawData&&((e.bot.rawData==null||e.bot.rawData.audio_urls==null?null:e.bot.rawData.audio_urls.length)>0||(e.bot.rawData==null||e.bot.rawData.video_urls==null?null:e.bot.rawData.video_urls.length)>0||(e.bot.rawData==null||e.bot.rawData.detail_urls==null?null:e.bot.rawData.detail_urls.length)>0||(e.bot.rawData==null||e.bot.rawData.story_urls==null?null:e.bot.rawData.story_urls.length)>0||(e.bot.rawData==null||e.bot.rawData.example_urls==null?null:e.bot.rawData.example_urls.length)>0||(e.bot.rawData==null?null:e.bot.rawData.audio_url)||(e.bot.rawData==null?null:e.bot.rawData.video_url)||(e.bot.rawData==null?null:e.bot.rawData.detail_url)||(e.bot.rawData==null?null:e.bot.rawData.story_url)||(e.bot.rawData==null?null:e.bot.rawData.example_url))),m(),g("ngIf",e.bot._mediaType&&(e.bot.rawData==null||e.bot.rawData[e.bot._mediaType+"_urls"]==null?null:e.bot.rawData[e.bot._mediaType+"_urls"].length)>1),m(2),de(" ",li(9,4,e.bot.timestamp,"shortTime")," ")}}function JP(t,n){if(t&1&&(d(0,"div",22),P(1,RP,8,5,"div",23)(2,XP,10,7,"div",24),l()),t&2){let e=n.$implicit,i=n.index;he("data-index",i),m(),g("ngIf",e.user),m(),g("ngIf",e.bot)}}function eR(t,n){t&1&&(d(0,"div",50),_(1,"div",51)(2,"div",51)(3,"div",51),l())}function tR(t,n){if(t&1){let e=V();d(0,"div",54),D("click",function(){let r=I(e).$implicit,o=w(2);return S(o.selectQuestion(r))}),u(1),l()}if(t&2){let e=n.$implicit;m(),de(" ",e," ")}}function nR(t,n){if(t&1&&(d(0,"div",52),P(1,tR,2,1,"div",53),l()),t&2){let e=w();m(),g("ngForOf",e.suggestedQuestions)}}function iR(t,n){if(t&1){let e=V();d(0,"div",55)(1,"button",56),D("click",function(){I(e);let r=w();return S(r.reject())}),u(2,"\u274C"),l(),d(3,"button",57),D("click",function(){I(e);let r=w();return S(r.accept())}),u(4,"\u2705"),l()()}}var Tb=(()=>{class t{constructor(e,i,r,o){this.fb=e,this.chatService=i,this.zone=o,this.messages=[],this.isTyping=!1,this.suggestedQuestions=[],this.showSuggestions=!1,this.allQuestions=[],this.searchQuery=new H,this.selectedQuestions=new Set,this.followupQuestions=[],this.currentPairIndex=0,this.blinkVideoSrc="assets/staticchat/blink.mp4",this.introVideoSrc="assets/staticchat/intro.mp4",this.currentVideoType="blink",this.currentResponseVideoUrl=null,this.isVideoPlaying=!1,this.audioPlayer=null,this.hasChatStarted=!1,this.lastResponseVideoUrl=null,this.supported=!1,this.isListening=!1,this.showActions=!1,this.isBrowser=!1,this.mediaStream=null,this.recorder=null,this.chunks=[],this.uploadInProgress=!1,this.isSpeechProcessing=!1,this.apiBaseSrc=zt.apiBaseUrl.replace(/\/+$/,""),this.chatForm=this.fb.group({message:["",on.required]}),this.searchQuery.pipe(Qn(300),Kn()).subscribe(s=>{this.searchQuestions(s)}),this.isBrowser=Lt(r)}ngOnInit(){if(this.messages.push({id:1,text:"Hello children! Today we will learn tenses in a simple and fun way.",sender:"bot",timestamp:new Date}),!this.isBrowser)return;let e=!!navigator.mediaDevices?.getUserMedia,i=typeof window.MediaRecorder<"u";this.supported=e&&i,this.loadAllQuestions(),this.loadInitialSuggestionsFromApi(),setTimeout(()=>this.scrollToLastPair(),0)}ngAfterViewInit(){this.playBlinkVideo()}safeVideo(){try{return this.videoRef.nativeElement}catch{return null}}playBlinkVideo(){let e=this.safeVideo();e&&(e.onended=null,e.src=this.blinkVideoSrc,e.loop=!0,e.muted=!0,e.currentTime=0,e.play().catch(()=>{}),this.currentVideoType="blink",this.currentResponseVideoUrl=null,this.isVideoPlaying=!1)}playIntroVideo(){let e=this.safeVideo();e&&(this.audioPlayer&&!this.audioPlayer.paused&&this.audioPlayer.pause(),e.onended=()=>{this.playBlinkVideo()},e.src=this.introVideoSrc,e.loop=!1,e.muted=!1,e.currentTime=0,e.play().catch(()=>{e.muted=!0,e.play().catch(()=>{})}),this.currentVideoType="intro",this.currentResponseVideoUrl=null,this.isVideoPlaying=!0)}playResponseVideo(e,i=!1,r,o,s,a=0){if(!e)return;o&&(o._baseText=o._baseText??o.text,o._activeMediaIndex=a,o._mediaType=s,i?(o._activeContentType=s,o.text=r||"No text available."):(o._activeContentType="main",o.text=o._baseText));let c=this.safeVideo();if(!c)return;this.audioPlayer&&!this.audioPlayer.paused&&this.audioPlayer.pause(),c.pause();let h=new URL(e,window.location.href).href;c.src!==h&&(c.src=e),c.loop=!1,c.muted=!1,c.currentTime=0,c.load(),c.onended=()=>this.playBlinkVideo(),this.currentVideoType="response",this.currentResponseVideoUrl=e,c.play().then(()=>{this.isVideoPlaying=!0}).catch(()=>{c.muted=!0,c.play().catch(()=>{}),this.isVideoPlaying=!c.paused})}cycleMedia(e,i,r=1){if(!e?.rawData)return;let o=e.rawData,s=i+"_urls",a=i+"_texts";if(!o[s]?.length)return;let c=e._activeMediaIndex||0,h=o[s].length,f=(c+r+h)%h;e._activeMediaIndex=f,e._mediaType=i;let p=o[s][f],y=o[a]?.[f]||`Content ${f+1}`;this.playResponseVideo(p,!0,y,e,i,f)}togglePlayPause(){let e=this.safeVideo();if(e){if(this.currentVideoType==="blink"){if(!this.hasChatStarted){this.playIntroVideo();return}this.lastResponseVideoUrl&&this.playResponseVideo(this.lastResponseVideoUrl);return}e.paused?(this.audioPlayer&&!this.audioPlayer.paused&&this.audioPlayer.pause(),e.play().catch(()=>{}),this.isVideoPlaying=!0):(e.pause(),this.isVideoPlaying=!1)}}loadInitialSuggestionsFromApi(){this.chatService.getSuggestions().subscribe({next:e=>{let i=(e?.suggestions||[]).map(r=>r.question).filter(Boolean);this.suggestedQuestions=i.slice(0,5),this.showSuggestions=this.suggestedQuestions.length>0},error:()=>{this.suggestedQuestions=[],this.showSuggestions=!1}})}loadAllQuestions(){this.chatService.getAllQuestions().subscribe({next:e=>{e.success&&(this.allQuestions=e.questions)},error:e=>console.error("Error loading questions:",e)})}onInputFocus(){this.showQuestionSuggestions()}onInputClick(){this.showQuestionSuggestions()}showQuestionSuggestions(){let e=(this.chatForm.get("message")?.value||"").trim();if(e.length>0){this.searchQuestions(e);return}if(this.followupQuestions.length>0){this.suggestedQuestions=this.followupQuestions.slice(0,5),this.showSuggestions=this.suggestedQuestions.length>0;return}this.loadInitialSuggestionsFromApi()}searchQuestions(e){if(!this.allQuestions||this.allQuestions.length===0){this.loadInitialSuggestionsFromApi();return}if(e.length>0){let i=this.allQuestions.filter(r=>r.question.toLowerCase().includes(e.toLowerCase())).slice(0,5);this.suggestedQuestions=i.map(r=>r.question),this.showSuggestions=this.suggestedQuestions.length>0}else this.showQuestionSuggestions()}onInputChange(){let e=this.chatForm.get("message")?.value;e?this.searchQuery.next(e):this.showQuestionSuggestions()}selectQuestion(e){this.selectedQuestions.add(e),this.chatForm.get("message")?.setValue(e),this.showSuggestions=!1,this.suggestedQuestions=this.suggestedQuestions.filter(i=>i!==e),this.sendMessage()}sendMessage(){let e=(this.chatForm.get("message")?.value||"").trim();e&&(this.messages.push({id:this.messages.length+1,text:e,sender:"user",timestamp:new Date}),this.hasChatStarted=!0,this.chatForm.reset(),this.showSuggestions=!1,this.isTyping=!0,setTimeout(()=>this.scrollToLastPair(),50),this.chatService.searchQuestion(e).subscribe({next:i=>{this.isTyping=!1;let r=i.answer?i.answer.replace(/\n/g," "):i.message||"Sorry, I could not find an answer.",o={id:this.messages.length+1,text:r,sender:"bot",timestamp:new Date,rawData:i,_baseText:r,_activeContentType:null,_activeContentText:null,_activeMediaIndex:0,_mediaType:"main"};this.messages.push(o),setTimeout(()=>this.scrollToLastPair(),50),i.audio_urls?.length?this.playAudio(i.audio_urls[0]):i.audio_url&&this.playAudio(i.audio_url),i.video_urls?.length?(this.lastResponseVideoUrl=i.video_urls[0],this.playResponseVideo(i.video_urls[0],!1,i.answer,o,"main",0)):i.video_url&&(this.lastResponseVideoUrl=i.video_url,this.playResponseVideo(i.video_url,!1,i.answer,o,"main")),i.followups?.length?(this.followupQuestions=i.followups.map(s=>s.question).filter(Boolean).slice(0,5),this.suggestedQuestions=this.followupQuestions,this.showSuggestions=this.suggestedQuestions.length>0):(this.followupQuestions=[],this.loadInitialSuggestionsFromApi())},error:()=>{this.isTyping=!1,this.messages.push({id:this.messages.length+1,text:"Sorry, I encountered an error. Please try again.",sender:"bot",timestamp:new Date}),setTimeout(()=>this.scrollToLastPair(),50),this.followupQuestions=[],this.loadInitialSuggestionsFromApi()}}))}showContentText(e,i){if(!e.bot?.rawData)return;let r=i+"_urls",o=i+"_texts",s=e.bot.rawData[r],a=e.bot.rawData[o];if(s?.length>1)if(e.bot._activeContentType===i){let h=((e.bot._activeMediaIndex||0)+1)%s.length;e.bot._activeMediaIndex=h,e.bot._activeContentType=i,e.bot._activeContentText=a?.[h]||`Content ${h+1}`,e.bot.text=a?.[h]||`Content ${h+1}`,s[h]&&this.playResponseVideo(s[h],!0,e.bot._activeContentText,e.bot,i,h)}else e.bot._activeMediaIndex=0,e.bot._activeContentType=i,e.bot._activeContentText=a?.[0]||"No text available.",e.bot.text=a?.[0]||"No text available.",s[0]&&this.playResponseVideo(s[0],!0,e.bot._activeContentText,e.bot,i,0);else{let c=i+"_text",h=i+"_url",f=e.bot.rawData[c],p=e.bot.rawData[h];e.bot._activeContentType===i?(e.bot._activeContentType=null,e.bot._activeContentText=null,e.bot.text=e.bot._baseText):(e.bot._activeContentType=i,e.bot._activeContentText=f||"No text available.",e.bot.text=f||"No text available."),p&&this.playResponseVideo(p)}}playAudio(e){if(e)try{let i=this.safeVideo();i&&this.currentVideoType!=="blink"&&!i.paused&&(i.pause(),this.isVideoPlaying=!1),this.audioPlayer?this.audioPlayer.pause():this.audioPlayer=new Audio,this.audioPlayer.src=e,this.audioPlayer.currentTime=0,this.audioPlayer.play().catch(()=>{})}catch(i){console.error("Audio play failed",i)}}playVideoFromChat(e){e&&this.playResponseVideo(e)}formatAnswer(e){let i="",r=e.answer?.replace(/\n/g,"<br>")??"No answer available.";return i+=`<div class="bot-answer">${r}</div>`,(e.audio_url||e.video_url)&&(i+='<div class="media-row">',e.audio_url&&(i+=`
        <span class="media-icon"
              onclick="window.dispatchEvent(new CustomEvent('playAudio', { detail: '${e.audio_url}' }))">
          \u{1F3A7}
        </span>`),e.video_url&&(i+=`
        <span class="media-icon"
              onclick="window.dispatchEvent(new CustomEvent('playVideo', { detail: '${e.video_url}' }))">
          \u{1F4FA}
        </span>`),i+="</div>"),i}formatErrorMessage(e){let i=e.message||"I couldn't find an exact match.",r=e?.sample_questions;return r?.length&&(i+="<br><br><strong>Try asking:</strong><ul>",r.forEach(o=>i+=`<li>${o}</li>`),i+="</ul>"),i}get pairedMessages(){let e=[],i=this.messages||[],r=0;for(;r<i.length;){let o=i[r];if(o.sender==="user"){let s={user:o},a=i[r+1];a&&a.sender==="bot"?(s.bot=a,r+=2):r+=1,e.push(s)}else o.sender==="bot"?(e.push({bot:o}),r+=1):(e.push({bot:o}),r+=1)}return e}showNextPair(){let e=this.pairedMessages.length;if(e===0)return;let i=Math.min(this.currentPairIndex+1,e-1);this.scrollToPair(i)}showPreviousPair(){if(this.pairedMessages.length===0)return;let i=Math.max(this.currentPairIndex-1,0);this.scrollToPair(i)}scrollToPair(e){setTimeout(()=>{try{let i=this.chatContainer.nativeElement,r=i.querySelectorAll(".pair");if(!r||r.length===0)return;e<0&&(e=0),e>=r.length&&(e=r.length-1);let o=r[e];if(!o)return;i.scrollTo({top:o.offsetTop,behavior:"smooth"}),this.currentPairIndex=e}catch{try{let r=this.chatContainer.nativeElement;e===0?r.scrollTop=0:r.scrollTop=r.scrollHeight}catch{}}},50)}scrollToLastPair(){setTimeout(()=>{try{let e=this.pairedMessages.length;if(e===0)return;this.scrollToPair(e-1)}catch{}},50)}scrollToTop(){setTimeout(()=>{try{let e=this.chatContainer.nativeElement;typeof e.scrollTo=="function"?e.scrollTo({top:0,behavior:"smooth"}):e.scrollTop=0}catch{}},100)}clearChat(){this.messages=[],this.selectedQuestions.clear(),this.hasChatStarted=!1,this.lastResponseVideoUrl=null,this.followupQuestions=[],this.suggestedQuestions=[],this.showSuggestions=!1,this.ngOnInit(),this.playBlinkVideo()}pickMimeType(){let e=window,i=["audio/webm;codecs=opus","audio/webm","audio/mp4","audio/m4a"];if(!e.MediaRecorder?.isTypeSupported)return"";for(let r of i)if(e.MediaRecorder.isTypeSupported(r))return r;return""}toggleMic(){return We(this,null,function*(){if(!(!this.supported||this.isListening||this.uploadInProgress))try{this.mediaStream=yield navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0}});let e=this.pickMimeType();this.chunks=[],this.recorder=e?new MediaRecorder(this.mediaStream,{mimeType:e}):new MediaRecorder(this.mediaStream),this.recorder.ondataavailable=i=>{i.data&&i.data.size>0&&this.chunks.push(i.data)},this.recorder.onerror=()=>{this.zone.run(()=>{this.handleTranscriptionError("Audio recording error."),this.cleanupRecorder()})},this.zone.run(()=>{this.isListening=!0,this.showActions=!0}),this.recorder.start()}catch{this.zone.run(()=>{this.handleTranscriptionError("Microphone permission denied or not available."),this.cleanupRecorder()})}})}accept(){if(!(!this.recorder||this.uploadInProgress)){this.uploadInProgress=!0,this.recorder.onstop=()=>We(this,null,function*(){try{let e=this.recorder?.mimeType||"audio/webm",i=new Blob(this.chunks,{type:e});this.zone.run(()=>{this.isSpeechProcessing=!0,this.showActions=!1,this.isListening=!1,this.chatForm.get("message")?.setValue("\u23F3 Converting speech to text...")});let r=yield this.sendToBackendForTranscription(i);this.zone.run(()=>{this.isSpeechProcessing=!1,r&&r.trim()?this.handleTranscriptionAccepted(r.trim()):this.chatForm.get("message")?.setValue("")})}catch(e){this.zone.run(()=>{this.handleTranscriptionError(typeof e?.message=="string"?e.message:"Transcription failed."),this.showActions=!1,this.isListening=!1})}finally{this.uploadInProgress=!1,this.cleanupRecorder()}});try{this.recorder.stop()}catch{this.uploadInProgress=!1,this.cleanupRecorder()}}}reject(){if(!this.uploadInProgress){try{this.recorder?.stop()}catch{}this.zone.run(()=>{this.handleTranscriptionRejected(),this.showActions=!1,this.isListening=!1}),this.cleanupRecorder()}}sendToBackendForTranscription(e){return We(this,null,function*(){let i=`${this.apiBaseSrc}/chat_llm/transcribe`,r=new FormData;r.append("file",e,"speech.webm");let o=yield fetch(i,{method:"POST",body:r});if(!o.ok){let a=yield o.text().catch(()=>"");throw new Error(a||`Transcribe API failed (${o.status}).`)}return((yield o.json())?.text||"").toString()})}cleanupRecorder(){try{this.recorder?.removeEventListener?.("dataavailable",()=>{})}catch{}if(this.recorder=null,this.chunks=[],this.mediaStream){try{this.mediaStream.getTracks().forEach(e=>e.stop())}catch{}this.mediaStream=null}}handleClickOutside(e){this.showSuggestions&&this.messageInput&&(this.messageInput.nativeElement.contains(e.target)||(this.showSuggestions=!1))}handleTranscriptionAccepted(e){try{this.chatForm.get("message")?.setValue(e),setTimeout(()=>{this.messageInput?.nativeElement.focus()},0)}catch(i){console.error("handleTranscriptionAccepted error",i)}}handleTranscriptionRejected(){try{this.chatForm.get("message")?.setValue("")}catch(e){console.error("handleTranscriptionRejected error",e)}}handleTranscriptionError(e){try{this.isSpeechProcessing=!1,this.chatForm.get("message")?.setValue(""),this.messages.push({id:this.messages.length+1,text:`Transcription error: ${e}`,sender:"bot",timestamp:new Date}),setTimeout(()=>this.scrollToLastPair(),50)}catch(i){console.error("handleTranscriptionError error",i)}}static{this.\u0275fac=function(i){return new(i||t)(C($r),C(Mb),C(Ze),C(B))}}static{this.\u0275cmp=me({type:t,selectors:[["app-chatllm"]],viewQuery:function(i,r){if(i&1&&(Ye(OP,5),Ye(kP,5),Ye(PP,5)),i&2){let o;je(o=Be())&&(r.chatContainer=o.first),je(o=Be())&&(r.messageInput=o.first),je(o=Be())&&(r.videoRef=o.first)}},hostBindings:function(i,r){i&1&&D("click",function(s){return r.handleClickOutside(s)},!1,Ar)},decls:25,vars:10,consts:[["chatContainer",""],["messageInput",""],["videoPlayer",""],[1,"staticchat-container"],["routerLink","/","src","assets/staticchat/back.png",1,"back-btn"],[1,"nav-bar"],[1,"chat-container"],[1,"chat-window"],["src","assets/staticchat/up.png","title","Prev message",1,"arrow-btn","up",3,"click"],[1,"chat-messages"],["class","pair",4,"ngFor","ngForOf"],["class","typing-indicator",4,"ngIf"],["src","assets/staticchat/down.png","title","Next message",1,"arrow-btn","down",3,"click"],["class","suggestions-box",4,"ngIf"],[1,"chat-input",3,"ngSubmit","formGroup"],["type","text","formControlName","message",3,"focus","input","placeholder","readonly"],["type","button",1,"micBtn",3,"click","disabled"],["class","actions",4,"ngIf"],["type","submit",3,"disabled"],[1,"video-window"],["autoplay","","muted","","playsinline",""],[1,"play-pause-btn",3,"click","src"],[1,"pair"],["class","message-row user-row",4,"ngIf"],["class","message-row bot-row",4,"ngIf"],[1,"message-row","user-row"],[1,"message-bubble","user-message"],[2,"font-size","1.5vw"],[1,"message-time"],["src","assets/staticchat/student.png",1,"avatar"],[1,"message-row","bot-row"],["src","assets/staticchat/teacher.png",1,"avatar"],[1,"message-bubble","bot-message"],["class","mediaRow",4,"ngIf"],["class","media-indicator",4,"ngIf"],[1,"mediaRow"],[4,"ngIf"],["class","chip",3,"click",4,"ngIf"],["class","chip audio-btn",3,"title","click",4,"ngFor","ngForOf"],[1,"chip","audio-btn",3,"click","title"],[1,"chip",3,"click"],["class","chip video-btn",3,"active","click",4,"ngFor","ngForOf"],[1,"chip","video-btn",3,"click"],["class","chip detail-btn",3,"active","click",4,"ngFor","ngForOf"],[1,"chip","detail-btn",3,"click"],["class","chip story-btn",3,"active","click",4,"ngFor","ngForOf"],[1,"chip","story-btn",3,"click"],["class","chip example-btn",3,"active","click",4,"ngFor","ngForOf"],[1,"chip","example-btn",3,"click"],[1,"media-indicator"],[1,"typing-indicator"],[1,"dot"],[1,"suggestions-box"],["class","suggestion-item",3,"click",4,"ngFor","ngForOf"],[1,"suggestion-item",3,"click"],[1,"actions"],[1,"reject",3,"click"],[1,"accept",3,"click"]],template:function(i,r){if(i&1){let o=V();d(0,"div",3),_(1,"img",4),d(2,"div",5),u(3," MJ-CHAT"),l(),d(4,"div",6)(5,"div",7)(6,"img",8),D("click",function(){return I(o),S(r.showPreviousPair())}),l(),d(7,"div",9,0),P(9,JP,3,3,"div",10)(10,eR,4,0,"div",11),l(),d(11,"img",12),D("click",function(){return I(o),S(r.showNextPair())}),l(),P(12,nR,2,1,"div",13),d(13,"form",14),D("ngSubmit",function(){return I(o),S(r.sendMessage())}),d(14,"input",15,1),D("focus",function(){return I(o),S(r.onInputFocus())})("input",function(){return I(o),S(r.onInputChange())}),l(),d(16,"button",16),D("click",function(){return I(o),S(r.toggleMic())}),u(17," \u{1F3A4} "),l(),P(18,iR,5,0,"div",17),d(19,"button",18),u(20," \u27A4 "),l()()(),d(21,"div",19),_(22,"video",20,2),d(24,"img",21),D("click",function(){return I(o),S(r.togglePlayPause())}),l()()()()}i&2&&(m(9),g("ngForOf",r.pairedMessages),m(),g("ngIf",r.isTyping),m(2),g("ngIf",r.showSuggestions&&r.suggestedQuestions.length>0),m(),g("formGroup",r.chatForm),m(),g("placeholder",r.isListening?"\u23FA Listening...":"Type your message...")("readonly",r.isSpeechProcessing||r.isListening),m(2),g("disabled",!r.supported||r.isListening),m(2),g("ngIf",r.showActions),m(),g("disabled",!r.chatForm.valid),m(5),g("src",r.currentVideoType!=="blink"&&r.isVideoPlaying?"assets/staticchat/pause.png":"assets/staticchat/play.png",ee))},dependencies:[di,ct,Ut,Ur,Cn,fi,Br,zi,Gi,z_,jc],styles:[".chat-container[_ngcontent-%COMP%], .chat-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,SF Pro Display,sans-serif!important}.staticchat-container[_ngcontent-%COMP%]{height:100vh;background:url(/assets/staticchat/bg-layout.png) repeat}.nav-bar[_ngcontent-%COMP%]{background-color:#192245;box-shadow:0 6px 18px #0000006b;text-align:center;color:#fff;font-size:2vw;font-family:Amonk_Outline!important;padding:1vw}.chat-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:89vh;padding:2vw;gap:2vw}.chat-window[_ngcontent-%COMP%]{width:100%;max-width:1000px;height:80vh;display:flex;flex-direction:column;border-radius:20px;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);background:#ffffff14;box-shadow:0 10px 40px #0006;overflow:hidden}.chat-messages[_ngcontent-%COMP%]{flex:1;overflow-y:auto;display:flex;flex-direction:column;gap:7vw}.message-row[_ngcontent-%COMP%]{display:flex;align-items:flex-end;gap:10px}.avatar[_ngcontent-%COMP%]{width:38px;height:38px;border-radius:50%;object-fit:cover;box-shadow:0 2px 6px #0000004d}.message-bubble[_ngcontent-%COMP%]{max-width:60%;padding:14px 18px 8px;border-radius:18px;font-size:clamp(14px,1vw,18px);line-height:1.6;display:flex;flex-direction:column}.user-message[_ngcontent-%COMP%]{background:linear-gradient(135deg,#09f,#06f);color:#fff;border-bottom-right-radius:6px}.bot-message[_ngcontent-%COMP%]{background:#fffffff2;color:#333;border-bottom-left-radius:6px}.message-time[_ngcontent-%COMP%]{font-size:clamp(10px,.7vw,12px);opacity:.6;margin-top:6px;align-self:flex-end}.typing-indicator[_ngcontent-%COMP%]{display:flex;gap:5px;align-items:center;color:#fff;padding-left:50px}.dot[_ngcontent-%COMP%]{width:6px;height:6px;background:#ccc;border-radius:50%;animation:_ngcontent-%COMP%_blink 1.4s infinite both}.dot[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.dot[_ngcontent-%COMP%]:nth-child(3){animation-delay:.4s}@keyframes _ngcontent-%COMP%_blink{0%{opacity:.2}20%{opacity:1}to{opacity:.2}}.suggestions-box[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0072ff,#00c6ff);max-height:250px;overflow-y:auto;border-radius:12px;margin:0 20px 10px;width:47vw}.suggestion-item[_ngcontent-%COMP%]{padding:10px 14px;cursor:pointer;color:#fff;font-size:1vw;font-weight:700;border-bottom:1px solid rgba(255,255,255,.1);transition:background .2s ease}.suggestion-item[_ngcontent-%COMP%]:hover{background:#ffffff26}.chat-input[_ngcontent-%COMP%]{display:flex;padding:16px;background:#ffffff26;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border-top:1px solid rgba(255,255,255,.2)}.chat-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;padding:12px 16px;border-radius:25px;border:none;outline:none;font-size:14px}.chat-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px;width:48px;height:48px;border-radius:50%;border:none;background:linear-gradient(135deg,#00c6ff,#0072ff);color:#fff;font-size:30px;cursor:pointer;transition:transform .2s ease}.chat-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.08)}.chat-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ffffff4d;border-radius:10px}.video-window[_ngcontent-%COMP%]{width:100%;max-width:640px;height:80vh;margin-left:20px;border-radius:20px;overflow:hidden;background:#ffffff0d;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:0 10px 30px #0006;display:flex;flex-direction:column;align-items:center;gap:2vw}.video-window[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%;height:100%;flex:1;object-fit:cover;background:#000}.play-pause-btn[_ngcontent-%COMP%]{position:relative;top:-1vw;width:4vw;min-width:40px;height:4vw;min-height:40px;cursor:pointer;border:2px solid #3f61ad;border-radius:50px;box-shadow:0 8px 20px #3f61ad2e,0 2px 6px #00000040;transition:transform .16s ease,box-shadow .16s ease;background:linear-gradient(180deg,#ffffff05,#00000008)}.play-pause-btn[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 16px 36px #3f61ad38,0 6px 12px #00000047}.play-pause-btn[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 6px 12px #00000038}.bot-answer[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,SF Pro Display,sans-serif!important;font-size:clamp(14px,1vw,18px);line-height:1.6}.micBtn[_ngcontent-%COMP%]{width:44px;height:44px;border:0;border-radius:999px;cursor:pointer;display:inline-flex;align-items:center;justify-content:center;background:#f3f4f6;font-size:30px!important}.micBtn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.micBtn.active[_ngcontent-%COMP%]{background:#111827}.micIcon[_ngcontent-%COMP%]{width:22px;height:22px;fill:#111827}.micBtn.active[_ngcontent-%COMP%]   .micIcon[_ngcontent-%COMP%]{fill:#fff}.actions[_ngcontent-%COMP%]{display:inline-flex;gap:8px;margin-left:8px;align-items:center}.okBtn[_ngcontent-%COMP%], .noBtn[_ngcontent-%COMP%]{font-size:18px;width:38px;height:38px;border-radius:999px;border:0;cursor:pointer;background:#f3f4f6}.okBtn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.okBtn[_ngcontent-%COMP%]:hover, .noBtn[_ngcontent-%COMP%]:hover{background:#e5e7eb}.mediaRow[_ngcontent-%COMP%]{display:flex;gap:1vw;font-size:1vw;padding-top:2vw}.chip[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;min-width:48px;height:clamp(30px,2vw,36px);padding:0 12px;background:linear-gradient(135deg,#00c6ff,#0072ff);color:#fff;font-weight:600;font-size:.9rem;border:none;border-radius:999px;box-shadow:0 6px 20px #0072ff2e,0 2px 6px #00000040;cursor:pointer;transition:transform .15s ease,box-shadow .15s ease,opacity .15s ease;-webkit-user-select:none;user-select:none}.chip[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 14px 30px #0072ff33,0 4px 10px #00000047}.chip[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 6px 14px #00000038;opacity:.98}.chip[_ngcontent-%COMP%]:focus{outline:3px solid rgba(0,114,255,.18);outline-offset:3px}.arrow-btn[_ngcontent-%COMP%]{position:fixed;right:16px;width:51px;height:51px;border-radius:50%;border:none;background:linear-gradient(135deg,#00c6ff,#0072ff);color:#fff;font-size:31px;box-shadow:0 6px 16px #00000040;cursor:pointer;transition:transform .15s ease,box-shadow .2s ease,background .2s ease;z-index:20}.up[_ngcontent-%COMP%]{top:1vw}.down[_ngcontent-%COMP%]{bottom:5vw}.chat-messages[_ngcontent-%COMP%]{overflow-y:auto;scroll-snap-type:y mandatory;-webkit-overflow-scrolling:touch}.pair[_ngcontent-%COMP%]{scroll-snap-align:start;min-height:100%;display:flex;flex-direction:column;justify-content:flex-start;padding:4.5rem 1rem;box-sizing:border-box;gap:2vw}.pair[_ngcontent-%COMP%] + .pair[_ngcontent-%COMP%]{margin-top:8px}.message-row[_ngcontent-%COMP%]{display:flex;align-items:flex-end;gap:.6rem}.bot-row[_ngcontent-%COMP%]{justify-content:flex-start}.user-row[_ngcontent-%COMP%]{justify-content:flex-end}.avatar[_ngcontent-%COMP%]{width:3.2rem;height:3.2rem;border-radius:50%;object-fit:cover}.message-bubble[_ngcontent-%COMP%]{max-width:70%;padding:.6rem .8rem;border-radius:.6rem;position:relative}.bot-message[_ngcontent-%COMP%]{background:#f1f1f1;color:#111}.user-message[_ngcontent-%COMP%]{color:#fff;background:linear-gradient(135deg,#00c6ff,#0072ff)}.message-time[_ngcontent-%COMP%]{font-size:.7rem;color:#000;margin-top:6px;text-align:right}.typing-indicator[_ngcontent-%COMP%]{display:flex;gap:.4rem;padding:.5rem;align-items:center}.typing-indicator[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:50%;background:#bbb;animation:_ngcontent-%COMP%_blink 1.2s infinite}@keyframes _ngcontent-%COMP%_blink{0%{opacity:.2}50%{opacity:1}to{opacity:.2}}.chip.active[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;border-color:#45a049}.media-indicator[_ngcontent-%COMP%]{font-size:.8em;color:#666;margin-top:5px;text-align:right;font-style:italic}.mediaRow[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:5px;margin:5px 0}.back-btn[_ngcontent-%COMP%]{width:6vw;top:2.2vw}"]})}}return t})();var rR=[{path:"",component:pp,pathMatch:"full",data:{title:"Home"}},{path:"home",component:pp,data:{title:"Home"}},{path:"login",component:bb,data:{title:"Sign In"}},{path:"chat/:id",component:Ry,canActivate:[wb],data:{title:"Chat",requiresAuth:!0}},{path:"staticchat",component:Sb,data:{title:"Staticchat"}},{path:"chatllm",component:Tb,data:{title:"Chatllm"}},{path:"**",redirectTo:"",data:{title:"Page Not Found"}}],Ab=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Y({type:t})}static{this.\u0275inj=q({imports:[bs.forRoot(rR,{enableTracing:!1,scrollPositionRestoration:"top",anchorScrolling:"enabled"}),bs]})}}return t})();var oR=["switch"],sR=["*"];function aR(t,n){t&1&&(d(0,"div",10),rc(),d(1,"svg",12),_(2,"path",13),l(),d(3,"svg",14),_(4,"path",15),l()())}var cR=new k("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1})}),lR={provide:jr,useExisting:yn(()=>Ob),multi:!0},jl=class{constructor(n,e){this.source=n,this.checked=e}},dR=0,Ob=(()=>{class t{_createChangeEvent(e){return new jl(this,e)}get buttonId(){return`${this.id||this._uniqueId}-button`}focus(){this._switchElement.nativeElement.focus()}get checked(){return this._checked}set checked(e){this._checked=e,this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(e,i,r,o,s,a){this._elementRef=e,this._focusMonitor=i,this._changeDetectorRef=r,this.defaults=s,this._onChange=c=>{},this._onTouched=()=>{},this._validatorOnChange=()=>{},this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this.change=new se,this.toggleChange=new se,this.tabIndex=parseInt(o)||0,this.color=s.color||"accent",this._noopAnimations=a==="NoopAnimations",this.id=this._uniqueId=`mat-mdc-slide-toggle-${++dR}`,this.hideIcon=s.hideIcon??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e==="keyboard"||e==="program"?(this._focused=!0,this._changeDetectorRef.markForCheck()):e||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(e){e.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(e){this.checked=!!e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}validate(e){return this.required&&e.value!==!0?{required:!0}:null}registerOnValidatorChange(e){this._validatorOnChange=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new jl(this,this.checked)))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static{this.\u0275fac=function(i){return new(i||t)(C(le),C(so),C(He),Mr("tabindex"),C(cR),C(kn,8))}}static{this.\u0275cmp=me({type:t,selectors:[["mat-slide-toggle"]],viewQuery:function(i,r){if(i&1&&Ye(oR,5),i&2){let o;je(o=Be())&&(r._switchElement=o.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(i,r){i&2&&(kr("id",r.id),he("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),ah(r.color?"mat-"+r.color:""),ce("mat-mdc-slide-toggle-focused",r._focused)("mat-mdc-slide-toggle-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[W.None,"aria-label","ariaLabel"],ariaLabelledby:[W.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[W.None,"aria-describedby","ariaDescribedby"],required:[W.HasDecoratorInputTransform,"required","required",at],color:"color",disabled:[W.HasDecoratorInputTransform,"disabled","disabled",at],disableRipple:[W.HasDecoratorInputTransform,"disableRipple","disableRipple",at],tabIndex:[W.HasDecoratorInputTransform,"tabIndex","tabIndex",e=>e==null?0:fh(e)],checked:[W.HasDecoratorInputTransform,"checked","checked",at],hideIcon:[W.HasDecoratorInputTransform,"hideIcon","hideIcon",at]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],standalone:!0,features:[Nt([lR,{provide:Ko,useExisting:t,multi:!0}]),tn,ot,Ue],ngContentSelectors:sR,decls:13,vars:24,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(i,r){if(i&1){let o=V();Rn(),d(0,"div",1)(1,"button",2,0),D("click",function(){return I(o),S(r._handleClick())}),_(3,"div",3),d(4,"div",4)(5,"div",5)(6,"div",6),_(7,"div",7),l(),d(8,"div",8),_(9,"div",9),l(),P(10,aR,5,0,"div",10),l()()(),d(11,"label",11),D("click",function(a){return I(o),S(a.stopPropagation())}),Nn(12),l()()}if(i&2){let o=nn(2);g("labelPosition",r.labelPosition),m(),ce("mdc-switch--selected",r.checked)("mdc-switch--unselected",!r.checked)("mdc-switch--checked",r.checked)("mdc-switch--disabled",r.disabled),g("tabIndex",r.disabled?-1:r.tabIndex)("disabled",r.disabled),he("id",r.buttonId)("name",r.name)("aria-label",r.ariaLabel)("aria-labelledby",r._getAriaLabelledBy())("aria-describedby",r.ariaDescribedby)("aria-required",r.required||null)("aria-checked",r.checked),m(8),g("matRippleTrigger",o)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),m(),ch(10,r.hideIcon?-1:10),m(),g("for",r.buttonId),he("id",r._labelId)}},dependencies:[lb,db],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color)}.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative}.mdc-switch[hidden]{display:none}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%}@media screen and (forced-colors: active){.mdc-switch__track::before,.mdc-switch__track::after{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(-100%)}[dir=rtl] .mdc-switch__track::after,.mdc-switch__track[dir=rtl]::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track[dir=rtl]::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0)}[dir=rtl] .mdc-switch__handle-track,.mdc-switch__handle-track[dir=rtl]{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track,.mdc-switch--selected .mdc-switch__handle-track[dir=rtl]{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto}[dir=rtl] .mdc-switch__handle,.mdc-switch__handle[dir=rtl]{left:auto;right:0}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media screen and (forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-elevation-overlay{bottom:0;left:0;right:0;top:0}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1}.mdc-switch:disabled .mdc-switch__ripple{display:none}.mdc-switch__icons{height:100%;position:relative;width:100%;z-index:1}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mdc-switch-disabled-label-text-color)}.mdc-switch{width:var(--mdc-switch-track-width)}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color)}.mdc-switch.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color)}.mdc-switch .mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation)}.mdc-switch .mdc-switch__focus-ring-wrapper,.mdc-switch .mdc-switch__handle{height:var(--mdc-switch-handle-height)}.mdc-switch .mdc-switch__handle{border-radius:var(--mdc-switch-handle-shape)}.mdc-switch .mdc-switch__handle{width:var(--mdc-switch-handle-width)}.mdc-switch .mdc-switch__handle-track{width:calc(100% - var(--mdc-switch-handle-width))}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__icon{fill:var(--mdc-switch-selected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__icon{fill:var(--mdc-switch-unselected-icon-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size)}.mdc-switch.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-hover-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-focus-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-pressed-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-hover-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-focus-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-pressed-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-selected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-selected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-unselected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-unselected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch .mdc-switch__ripple{height:var(--mdc-switch-state-layer-size);width:var(--mdc-switch-state-layer-size)}.mdc-switch .mdc-switch__track{height:var(--mdc-switch-track-height)}.mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch:enabled .mdc-switch__track::after{background:var(--mdc-switch-selected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color)}.mdc-switch:enabled .mdc-switch__track::before{background:var(--mdc-switch-unselected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color)}.mdc-switch .mdc-switch__track{border-radius:var(--mdc-switch-track-shape)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle .mdc-switch__ripple::after{content:"";opacity:0}.mat-mdc-slide-toggle .mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:opacity 75ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-elevation-overlay,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mdc-switch__handle{transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-switch-unselected-handle-size);height:var(--mat-switch-unselected-handle-size)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-switch-selected-handle-size);height:var(--mat-switch-selected-handle-size)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-switch-with-icon-handle-size);height:var(--mat-switch-with-icon-handle-size)}.mat-mdc-slide-toggle:active .mdc-switch:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-switch-pressed-handle-size);height:var(--mat-switch-pressed-handle-size)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{margin:var(--mat-switch-selected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-selected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{margin:var(--mat-switch-unselected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-unselected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle:active .mdc-switch--selected:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-selected-pressed-handle-horizontal-margin)}.mat-mdc-slide-toggle:active .mdc-switch--unselected:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-unselected-pressed-handle-horizontal-margin)}.mdc-switch__track::after,.mdc-switch__track::before{border-width:var(--mat-switch-track-outline-width);border-color:var(--mat-switch-track-outline-color)}.mdc-switch--selected .mdc-switch__track::after,.mdc-switch--selected .mdc-switch__track::before{border-width:var(--mat-switch-selected-track-outline-width)}.mdc-switch--disabled .mdc-switch__track::after,.mdc-switch--disabled .mdc-switch__track::before{border-width:var(--mat-switch-disabled-unselected-track-outline-width);border-color:var(--mat-switch-disabled-unselected-track-outline-color)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-selected-handle-opacity)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-unselected-handle-opacity)}'],encapsulation:2,changeDetection:0})}}return t})();var kb=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Y({type:t})}static{this.\u0275inj=q({imports:[Ob,Ht,Ht]})}}return t})();var Pb=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Y({type:t})}static{this.\u0275inj=q({imports:[Ht,Ht]})}}return t})();var Rb=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Y({type:t})}static{this.\u0275inj=q({imports:[Ht,wt,Ht]})}}return t})();var Nb=(()=>{class t{constructor(e,i,r,o){this.authService=e,this.brandService=i,this.titleService=r,this.document=o,this.title="Py-Learn"}ngOnInit(){this.titleService.setTitle(this.brandService.name);let e=this.document.querySelector("link[rel*='icon']");e&&(e.href=this.brandService.name==="Py-Learn"?"assets/favicon.png":"assets/majema-favicon.png"),this.authService.checkSession().subscribe(i=>{i&&this.authService.startAutoRefresh()})}static{this.\u0275fac=function(i){return new(i||t)(C(bi),C(En),C(Qc),C(Q))}}static{this.\u0275cmp=me({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(i,r){i&1&&_(0,"router-outlet")},dependencies:[Of],styles:["nav[_ngcontent-%COMP%]{margin:20px}button[_ngcontent-%COMP%]{margin-right:10px;padding:10px 20px;font-size:16px;cursor:pointer}"]})}}return t})();var Fb=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Y({type:t,bootstrap:[Nb]})}static{this.\u0275inj=q({imports:[hv,Ab,Hr,sl,iv,wt,gb,kb,Pb,Rb,Vl,Sl]})}}return t})();uv().bootstrapModule(Fb).catch(t=>console.error(t));
