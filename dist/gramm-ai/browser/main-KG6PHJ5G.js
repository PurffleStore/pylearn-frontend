var Ib=Object.create;var Ll=Object.defineProperty,Sb=Object.defineProperties,Mb=Object.getOwnPropertyDescriptor,Tb=Object.getOwnPropertyDescriptors,Ab=Object.getOwnPropertyNames,gp=Object.getOwnPropertySymbols,Ob=Object.getPrototypeOf,_p=Object.prototype.hasOwnProperty,kb=Object.prototype.propertyIsEnumerable;var vp=(e,n,t)=>n in e?Ll(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,S=(e,n)=>{for(var t in n||={})_p.call(n,t)&&vp(e,t,n[t]);if(gp)for(var t of gp(n))kb.call(n,t)&&vp(e,t,n[t]);return e},de=(e,n)=>Sb(e,Tb(n));var yp=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(n,t)=>(typeof require<"u"?require:n)[t]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var bp=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports);var Pb=(e,n,t,i)=>{if(n&&typeof n=="object"||typeof n=="function")for(let r of Ab(n))!_p.call(e,r)&&r!==t&&Ll(e,r,{get:()=>n[r],enumerable:!(i=Mb(n,r))||i.enumerable});return e};var Rb=(e,n,t)=>(t=e!=null?Ib(Ob(e)):{},Pb(n||!e||!e.__esModule?Ll(t,"default",{value:e,enumerable:!0}):t,e));var st=(e,n,t)=>new Promise((i,r)=>{var o=c=>{try{a(t.next(c))}catch(h){r(h)}},s=c=>{try{a(t.throw(c))}catch(h){r(h)}},a=c=>c.done?i(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(e,n)).next())});var fb=bp(()=>{"use strict"});var pb=bp((zU,up)=>{"use strict";var dp;(function(){"use strict";dp=function(e,n,t,i){i=i||{},this.dictionary=null,this.rules={},this.dictionaryTable={},this.compoundRules=[],this.compoundRuleCodes={},this.replacementTable=[],this.flags=i.flags||{},this.memoized={},this.loaded=!1;var r=this,o,s,a,c,h;if(e)if(r.dictionary=e,n&&t)w();else if(typeof window<"u"&&(window.chrome&&window.chrome.runtime||window.browser&&window.browser.runtime)){var f=window.chrome&&window.chrome.runtime?window.chrome.runtime:window.browser.runtime;i.dictionaryPath?o=i.dictionaryPath:o="typo/dictionaries",n||p(f.getURL(o+"/"+e+"/"+e+".aff"),_),t||p(f.getURL(o+"/"+e+"/"+e+".dic"),v)}else i.dictionaryPath?o=i.dictionaryPath:typeof __dirname<"u"?o=__dirname+"/dictionaries":o="./dictionaries",n||p(o+"/"+e+"/"+e+".aff",_),t||p(o+"/"+e+"/"+e+".dic",v);function p(x,T){var P=r._readFile(x,null,i?.asyncLoad);i?.asyncLoad?P.then(function(V){T(V)}):T(P)}function _(x){n=x,t&&w()}function v(x){t=x,n&&w()}function w(){for(r.rules=r._parseAFF(n),r.compoundRuleCodes={},s=0,c=r.compoundRules.length;s<c;s++){var x=r.compoundRules[s];for(a=0,h=x.length;a<h;a++)r.compoundRuleCodes[x[a]]=[]}"ONLYINCOMPOUND"in r.flags&&(r.compoundRuleCodes[r.flags.ONLYINCOMPOUND]=[]),r.dictionaryTable=r._parseDIC(t);for(s in r.compoundRuleCodes)r.compoundRuleCodes[s].length===0&&delete r.compoundRuleCodes[s];for(s=0,c=r.compoundRules.length;s<c;s++){var T=r.compoundRules[s],P="";for(a=0,h=T.length;a<h;a++){var V=T[a];V in r.compoundRuleCodes?P+="("+r.compoundRuleCodes[V].join("|")+")":P+=V}r.compoundRules[s]=new RegExp("^"+P+"$","i")}r.loaded=!0,i?.asyncLoad&&i?.loadedCallback&&i.loadedCallback(r)}return this},dp.prototype={load:function(e){for(var n in e)e.hasOwnProperty(n)&&(this[n]=e[n]);return this},_readFile:function(e,n,t){var i;if(n=n||"utf8",typeof XMLHttpRequest<"u"){var r=new XMLHttpRequest;if(r.open("GET",e,!!t),(i=r.overrideMimeType)===null||i===void 0||i.call(r,"text/plain; charset="+n),t){var o=new Promise(function(a,c){r.onload=function(){r.status===200?a(r.responseText):c(r.statusText)},r.onerror=function(){c(r.statusText)}});return r.send(null),o}else return r.send(null),r.responseText}else if(typeof yp<"u"){var s=fb();try{if(s.existsSync(e))return s.readFileSync(e,n);console.log("Path "+e+" does not exist.")}catch(a){console.log(a)}return""}return""},_parseAFF:function(e){var n={},t,i,r,o,s,a,c,h,f=e.split(/\r?\n/);for(s=0,c=f.length;s<c;s++)if(t=this._removeAffixComments(f[s]),t=t.trim(),!!t){var p=t.split(/\s+/),_=p[0];if(_==="PFX"||_==="SFX"){var v=p[1],w=p[2];r=parseInt(p[3],10);var x=[];for(a=s+1,h=s+1+r;a<h;a++){i=f[a],o=i.split(/\s+/);var T=o[2],P=o[3].split("/"),V=P[0];V==="0"&&(V="");var U=this.parseRuleCodes(P[1]),N=o[4],me={add:V};U.length>0&&(me.continuationClasses=U),N!=="."&&(_==="SFX"?me.match=new RegExp(N+"$"):me.match=new RegExp("^"+N)),T!="0"&&(_==="SFX"?me.remove=new RegExp(T+"$"):me.remove=T),x.push(me)}n[v]={type:_,combineable:w==="Y",entries:x},s+=r}else if(_==="COMPOUNDRULE"){for(r=parseInt(p[1],10),a=s+1,h=s+1+r;a<h;a++)t=f[a],o=t.split(/\s+/),this.compoundRules.push(o[1]);s+=r}else _==="REP"?(o=t.split(/\s+/),o.length===3&&this.replacementTable.push([o[1],o[2]])):this.flags[_]=p[1]}return n},_removeAffixComments:function(e){return e.match(/^\s*#/)?"":e},_parseDIC:function(e){e=this._removeDicComments(e);var n=e.split(/\r?\n/),t={};function i(tn,Zr){t.hasOwnProperty(tn)||(t[tn]=null),Zr.length>0&&(t[tn]===null&&(t[tn]=[]),t[tn].push(Zr))}for(var r=1,o=n.length;r<o;r++){var s=n[r];if(s){var a=s.replace(/\s.*$/,""),c=a.split("/",2),h=c[0];if(c.length>1){var f=this.parseRuleCodes(c[1]);(!("NEEDAFFIX"in this.flags)||f.indexOf(this.flags.NEEDAFFIX)===-1)&&i(h,f);for(var p=0,_=f.length;p<_;p++){var v=f[p],w=this.rules[v];if(w)for(var x=this._applyRule(h,w),T=0,P=x.length;T<P;T++){var V=x[T];if(i(V,[]),w.combineable)for(var U=p+1;U<_;U++){var N=f[U],me=this.rules[N];if(me&&me.combineable&&w.type!=me.type)for(var be=this._applyRule(V,me),ne=0,At=be.length;ne<At;ne++){var ot=be[ne];i(ot,[])}}}v in this.compoundRuleCodes&&this.compoundRuleCodes[v].push(h)}}else i(h.trim(),[])}}return t},_removeDicComments:function(e){return e=e.replace(/^\t.*$/mg,""),e},parseRuleCodes:function(e){if(e)if("FLAG"in this.flags)if(this.flags.FLAG==="long"){for(var n=[],t=0,i=e.length;t<i;t+=2)n.push(e.substr(t,2));return n}else return this.flags.FLAG==="num"?e.split(","):this.flags.FLAG==="UTF-8"?Array.from(e):e.split("");else return e.split("");else return[]},_applyRule:function(e,n){for(var t=n.entries,i=[],r=0,o=t.length;r<o;r++){var s=t[r];if(!s.match||e.match(s.match)){var a=e;if(s.remove&&(a=a.replace(s.remove,"")),n.type==="SFX"?a=a+s.add:a=s.add+a,i.push(a),"continuationClasses"in s)for(var c=0,h=s.continuationClasses.length;c<h;c++){var f=this.rules[s.continuationClasses[c]];f&&(i=i.concat(this._applyRule(a,f)))}}}return i},check:function(e){if(!this.loaded)throw"Dictionary not loaded.";if(!e)return!1;var n=e.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(this.checkExact(n))return!0;if(n.toUpperCase()===n){var t=n[0]+n.substring(1).toLowerCase();if(this.hasFlag(t,"KEEPCASE"))return!1;if(this.checkExact(t)||this.checkExact(n.toLowerCase()))return!0}var i=n[0].toLowerCase()+n.substring(1);if(i!==n){if(this.hasFlag(i,"KEEPCASE"))return!1;if(this.checkExact(i))return!0}return!1},checkExact:function(e){if(!this.loaded)throw"Dictionary not loaded.";var n=this.dictionaryTable[e],t,i;if(typeof n>"u"){if("COMPOUNDMIN"in this.flags&&e.length>=this.flags.COMPOUNDMIN){for(t=0,i=this.compoundRules.length;t<i;t++)if(e.match(this.compoundRules[t]))return!0}}else{if(n===null)return!0;if(typeof n=="object"){for(t=0,i=n.length;t<i;t++)if(!this.hasFlag(e,"ONLYINCOMPOUND",n[t]))return!0}}return!1},hasFlag:function(e,n,t){if(!this.loaded)throw"Dictionary not loaded.";return!!(n in this.flags&&(typeof t>"u"&&(t=Array.prototype.concat.apply([],this.dictionaryTable[e])),t&&t.indexOf(this.flags[n])!==-1))},alphabet:"",suggest:function(e,n){if(!this.loaded)throw"Dictionary not loaded.";if(n=n||5,this.memoized.hasOwnProperty(e)){var t=this.memoized[e].limit;if(n<=t||this.memoized[e].suggestions.length<t)return this.memoized[e].suggestions.slice(0,n)}if(this.check(e))return[];for(var i=0,r=this.replacementTable.length;i<r;i++){var o=this.replacementTable[i];if(e.indexOf(o[0])!==-1){var s=e.replace(o[0],o[1]);if(this.check(s))return[s]}}if(!this.alphabet){this.alphabet="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ","TRY"in this.flags&&(this.alphabet+=this.flags.TRY),"WORDCHARS"in this.flags&&(this.alphabet+=this.flags.WORDCHARS);var a=this.alphabet.split("");a.sort();for(var c={},i=0;i<a.length;i++)c[a[i]]=!0;this.alphabet="";for(var i in c)this.alphabet+=i}var h=this;function f(_,v){var w={},x,T,P,V,U,N,me=h.alphabet.length;for(var be in _)for(x=0,V=be.length+1;x<V;x++){var ne=[be.substring(0,x),be.substring(x)];if(ne[1]&&(N=ne[0]+ne[1].substring(1),(!v||h.check(N))&&(N in w?w[N]+=1:w[N]=1)),ne[1].length>1&&ne[1][1]!==ne[1][0]&&(N=ne[0]+ne[1][1]+ne[1][0]+ne[1].substring(2),(!v||h.check(N))&&(N in w?w[N]+=1:w[N]=1)),ne[1]){var At=ne[1].substring(0,1).toUpperCase()===ne[1].substring(0,1)?"uppercase":"lowercase";for(T=0;T<me;T++){var ot=h.alphabet[T];At==="uppercase"&&(ot=ot.toUpperCase()),ot!=ne[1].substring(0,1)&&(N=ne[0]+ot+ne[1].substring(1),(!v||h.check(N))&&(N in w?w[N]+=1:w[N]=1))}}if(ne[1])for(T=0;T<me;T++){var At=ne[0].substring(-1).toUpperCase()===ne[0].substring(-1)&&ne[1].substring(0,1).toUpperCase()===ne[1].substring(0,1)?"uppercase":"lowercase",ot=h.alphabet[T];At==="uppercase"&&(ot=ot.toUpperCase()),N=ne[0]+ot+ne[1],(!v||h.check(N))&&(N in w?w[N]+=1:w[N]=1)}}return w}function p(_){var v,w=f((v={},v[_]=!0,v)),x=f(w,!0),T=x;for(var P in w)h.check(P)&&(P in T?T[P]+=w[P]:T[P]=w[P]);var V,U,N=[];for(V in T)T.hasOwnProperty(V)&&(h.hasFlag(V,"PRIORITYSUGGEST")&&(T[V]+=1e3),N.push([V,T[V]]));function me(ot,tn){var Zr=ot[1],mp=tn[1];return Zr<mp?-1:Zr>mp?1:tn[0].localeCompare(ot[0])}N.sort(me).reverse();var be=[],ne="lowercase";_.toUpperCase()===_?ne="uppercase":_.substr(0,1).toUpperCase()+_.substr(1).toLowerCase()===_&&(ne="capitalized");var At=n;for(V=0;V<Math.min(At,N.length);V++)ne==="uppercase"?N[V][0]=N[V][0].toUpperCase():ne==="capitalized"&&(N[V][0]=N[V][0].substr(0,1).toUpperCase()+N[V][0].substr(1)),!h.hasFlag(N[V][0],"NOSUGGEST")&&be.indexOf(N[V][0])===-1?be.push(N[V][0]):At++;return be}return this.memoized[e]={suggestions:p(e),limit:n},this.memoized[e].suggestions}}})();typeof up<"u"&&(up.exports=dp)});var wp=null;var Vl=1,jl=Symbol("SIGNAL");function le(e){let n=wp;return wp=e,n}var Cp={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Nb(e){if(!($l(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Vl)){if(!e.producerMustRecompute(e)&&!Bl(e)){e.dirty=!1,e.lastCleanEpoch=Vl;return}e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=Vl}}function xp(e){return e&&(e.nextProducerIndex=0),le(e)}function Dp(e,n){if(le(n),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if($l(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)Ul(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Bl(e){Os(e);for(let n=0;n<e.producerNode.length;n++){let t=e.producerNode[n],i=e.producerLastReadVersion[n];if(i!==t.version||(Nb(t),i!==t.version))return!0}return!1}function Ep(e){if(Os(e),$l(e))for(let n=0;n<e.producerNode.length;n++)Ul(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Ul(e,n){if(Fb(e),Os(e),e.liveConsumerNode.length===1)for(let i=0;i<e.producerNode.length;i++)Ul(e.producerNode[i],e.producerIndexOfThis[i]);let t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){let i=e.liveConsumerIndexOfThis[n],r=e.liveConsumerNode[n];Os(r),r.producerIndexOfThis[i]=n}}function $l(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Os(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function Fb(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function Lb(){throw new Error}var Vb=Lb;function Ip(e){Vb=e}function B(e){return typeof e=="function"}function zi(e){let t=e(i=>{Error.call(i),i.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var ks=zi(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function hi(e,n){if(e){let t=e.indexOf(n);0<=t&&e.splice(t,1)}}var xe=class e{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:i}=this;if(B(i))try{i()}catch(o){n=o instanceof ks?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{Sp(o)}catch(s){n=n??[],s instanceof ks?n=[...n,...s.errors]:n.push(s)}}if(n)throw new ks(n)}}add(n){var t;if(n&&n!==this)if(this.closed)Sp(n);else{if(n instanceof e){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(n)}}_hasParent(n){let{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){let{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&hi(t,n)}remove(n){let{_finalizers:t}=this;t&&hi(t,n),n instanceof e&&n._removeParent(this)}};xe.EMPTY=(()=>{let e=new xe;return e.closed=!0,e})();var Hl=xe.EMPTY;function Ps(e){return e instanceof xe||e&&"closed"in e&&B(e.remove)&&B(e.add)&&B(e.unsubscribe)}function Sp(e){B(e)?e():e.unsubscribe()}var Vt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Gi={setTimeout(e,n,...t){let{delegate:i}=Gi;return i?.setTimeout?i.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){let{delegate:n}=Gi;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Rs(e){Gi.setTimeout(()=>{let{onUnhandledError:n}=Vt;if(n)n(e);else throw e})}function Kr(){}var Mp=zl("C",void 0,void 0);function Tp(e){return zl("E",void 0,e)}function Ap(e){return zl("N",e,void 0)}function zl(e,n,t){return{kind:e,value:n,error:t}}var fi=null;function Wi(e){if(Vt.useDeprecatedSynchronousErrorHandling){let n=!fi;if(n&&(fi={errorThrown:!1,error:null}),e(),n){let{errorThrown:t,error:i}=fi;if(fi=null,t)throw i}}else e()}function Op(e){Vt.useDeprecatedSynchronousErrorHandling&&fi&&(fi.errorThrown=!0,fi.error=e)}var pi=class extends xe{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Ps(n)&&n.add(this)):this.destination=Ub}static create(n,t,i){return new qi(n,t,i)}next(n){this.isStopped?Wl(Ap(n),this):this._next(n)}error(n){this.isStopped?Wl(Tp(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Wl(Mp,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},jb=Function.prototype.bind;function Gl(e,n){return jb.call(e,n)}var ql=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(i){Ns(i)}}error(n){let{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(i){Ns(i)}else Ns(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){Ns(t)}}},qi=class extends pi{constructor(n,t,i){super();let r;if(B(n)||!n)r={next:n??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&Vt.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),r={next:n.next&&Gl(n.next,o),error:n.error&&Gl(n.error,o),complete:n.complete&&Gl(n.complete,o)}):r=n}this.destination=new ql(r)}};function Ns(e){Vt.useDeprecatedSynchronousErrorHandling?Op(e):Rs(e)}function Bb(e){throw e}function Wl(e,n){let{onStoppedNotification:t}=Vt;t&&Gi.setTimeout(()=>t(e,n))}var Ub={closed:!0,next:Kr,error:Bb,complete:Kr};var Yi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function at(e){return e}function Yl(...e){return Ql(e)}function Ql(e){return e.length===0?at:e.length===1?e[0]:function(t){return e.reduce((i,r)=>r(i),t)}}var X=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){let i=new e;return i.source=this,i.operator=t,i}subscribe(t,i,r){let o=Hb(t)?t:new qi(t,i,r);return Wi(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return i=kp(i),new i((r,o)=>{let s=new qi({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)}[Yi](){return this}pipe(...t){return Ql(t)(this)}toPromise(t){return t=kp(t),new t((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return e.create=n=>new e(n),e})();function kp(e){var n;return(n=e??Vt.Promise)!==null&&n!==void 0?n:Promise}function $b(e){return e&&B(e.next)&&B(e.error)&&B(e.complete)}function Hb(e){return e&&e instanceof pi||$b(e)&&Ps(e)}function Zl(e){return B(e?.lift)}function te(e){return n=>{if(Zl(n))return n.lift(function(t){try{return e(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Z(e,n,t,i,r){return new Kl(e,n,t,i,r)}var Kl=class extends pi{constructor(n,t,i,r,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){n.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){n.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function Qi(){return te((e,n)=>{let t=null;e._refCount++;let i=Z(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){t=null;return}let r=e._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),n.unsubscribe()});e.subscribe(i),i.closed||(t=e.connect())})}var Zi=class extends X{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Zl(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new xe;let t=this.getSubject();n.add(this.source.subscribe(Z(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),n.closed&&(this._connection=null,n=xe.EMPTY)}return n}refCount(){return Qi()(this)}};var Pp=zi(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var z=(()=>{class e extends X{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let i=new Fs(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new Pp}next(t){Wi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(t)}})}error(t){Wi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){Wi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:i,isStopped:r,observers:o}=this;return i||r?Hl:(this.currentObservers=null,o.push(t),new xe(()=>{this.currentObservers=null,hi(o,t)}))}_checkFinalizedStatuses(t){let{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){let t=new X;return t.source=this,t}}return e.create=(n,t)=>new Fs(n,t),e})(),Fs=class extends z{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.next)===null||i===void 0||i.call(t,n)}error(n){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.error)===null||i===void 0||i.call(t,n)}complete(){var n,t;(t=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||t===void 0||t.call(n)}_subscribe(n){var t,i;return(i=(t=this.source)===null||t===void 0?void 0:t.subscribe(n))!==null&&i!==void 0?i:Hl}};var Se=class extends z{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){let{hasError:n,thrownError:t,_value:i}=this;if(n)throw t;return this._throwIfClosed(),i}next(n){super.next(this._value=n)}};var Xl={now(){return(Xl.delegate||Date).now()},delegate:void 0};var Ls=class extends xe{constructor(n,t){super()}schedule(n,t=0){return this}};var Xr={setInterval(e,n,...t){let{delegate:i}=Xr;return i?.setInterval?i.setInterval(e,n,...t):setInterval(e,n,...t)},clearInterval(e){let{delegate:n}=Xr;return(n?.clearInterval||clearInterval)(e)},delegate:void 0};var Vs=class extends Ls{constructor(n,t){super(n,t),this.scheduler=n,this.work=t,this.pending=!1}schedule(n,t=0){var i;if(this.closed)return this;this.state=n;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(n,t,i=0){return Xr.setInterval(n.flush.bind(n,this),i)}recycleAsyncId(n,t,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return t;t!=null&&Xr.clearInterval(t)}execute(n,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(n,t);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,t){let i=!1,r;try{this.work(n)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:n,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,hi(i,this),n!=null&&(this.id=this.recycleAsyncId(t,n,null)),this.delay=null,super.unsubscribe()}}};var Ki=class e{constructor(n,t=e.now){this.schedulerActionCtor=n,this.now=t}schedule(n,t=0,i){return new this.schedulerActionCtor(this,n).schedule(i,t)}};Ki.now=Xl.now;var js=class extends Ki{constructor(n,t=Ki.now){super(n,t),this.actions=[],this._active=!1}flush(n){let{actions:t}=this;if(this._active){t.push(n);return}let i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=t.shift());if(this._active=!1,i){for(;n=t.shift();)n.unsubscribe();throw i}}};var Jr=new js(Vs),Rp=Jr;var ct=new X(e=>e.complete());function Bs(e){return e&&B(e.schedule)}function Jl(e){return e[e.length-1]}function Us(e){return B(Jl(e))?e.pop():void 0}function nn(e){return Bs(Jl(e))?e.pop():void 0}function Np(e,n){return typeof Jl(e)=="number"?e.pop():n}function Lp(e,n,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(f){try{h(i.next(f))}catch(p){s(p)}}function c(f){try{h(i.throw(f))}catch(p){s(p)}}function h(f){f.done?o(f.value):r(f.value).then(a,c)}h((i=i.apply(e,n||[])).next())})}function Fp(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],i=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function mi(e){return this instanceof mi?(this.v=e,this):new mi(e)}function Vp(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(e,n||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(v){return function(w){return Promise.resolve(w).then(v,p)}}function a(v,w){i[v]&&(r[v]=function(x){return new Promise(function(T,P){o.push([v,x,T,P])>1||c(v,x)})},w&&(r[v]=w(r[v])))}function c(v,w){try{h(i[v](w))}catch(x){_(o[0][3],x)}}function h(v){v.value instanceof mi?Promise.resolve(v.value.v).then(f,p):_(o[0][2],v)}function f(v){c("next",v)}function p(v){c("throw",v)}function _(v,w){v(w),o.shift(),o.length&&c(o[0][0],o[0][1])}}function jp(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],t;return n?n.call(e):(e=typeof Fp=="function"?Fp(e):e[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=e[o]&&function(s){return new Promise(function(a,c){s=e[o](s),r(a,c,s.done,s.value)})}}function r(o,s,a,c){Promise.resolve(c).then(function(h){o({value:h,done:a})},s)}}var Xi=e=>e&&typeof e.length=="number"&&typeof e!="function";function $s(e){return B(e?.then)}function Hs(e){return B(e[Yi])}function zs(e){return Symbol.asyncIterator&&B(e?.[Symbol.asyncIterator])}function Gs(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function zb(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ws=zb();function qs(e){return B(e?.[Ws])}function Ys(e){return Vp(this,arguments,function*(){let t=e.getReader();try{for(;;){let{value:i,done:r}=yield mi(t.read());if(r)return yield mi(void 0);yield yield mi(i)}}finally{t.releaseLock()}})}function Qs(e){return B(e?.getReader)}function De(e){if(e instanceof X)return e;if(e!=null){if(Hs(e))return Gb(e);if(Xi(e))return Wb(e);if($s(e))return qb(e);if(zs(e))return Bp(e);if(qs(e))return Yb(e);if(Qs(e))return Qb(e)}throw Gs(e)}function Gb(e){return new X(n=>{let t=e[Yi]();if(B(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Wb(e){return new X(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}function qb(e){return new X(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,Rs)})}function Yb(e){return new X(n=>{for(let t of e)if(n.next(t),n.closed)return;n.complete()})}function Bp(e){return new X(n=>{Zb(e,n).catch(t=>n.error(t))})}function Qb(e){return Bp(Ys(e))}function Zb(e,n){var t,i,r,o;return Lp(this,void 0,void 0,function*(){try{for(t=jp(e);i=yield t.next(),!i.done;){let s=i.value;if(n.next(s),n.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}n.complete()})}function gt(e,n,t,i=0,r=!1){let o=n.schedule(function(){t(),r?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(o),!r)return o}function Zs(e,n=0){return te((t,i)=>{t.subscribe(Z(i,r=>gt(i,e,()=>i.next(r),n),()=>gt(i,e,()=>i.complete(),n),r=>gt(i,e,()=>i.error(r),n)))})}function Ks(e,n=0){return te((t,i)=>{i.add(e.schedule(()=>t.subscribe(i),n))})}function Up(e,n){return De(e).pipe(Ks(n),Zs(n))}function $p(e,n){return De(e).pipe(Ks(n),Zs(n))}function Hp(e,n){return new X(t=>{let i=0;return n.schedule(function(){i===e.length?t.complete():(t.next(e[i++]),t.closed||this.schedule())})})}function zp(e,n){return new X(t=>{let i;return gt(t,n,()=>{i=e[Ws](),gt(t,n,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){t.error(s);return}o?t.complete():t.next(r)},0,!0)}),()=>B(i?.return)&&i.return()})}function Xs(e,n){if(!e)throw new Error("Iterable cannot be null");return new X(t=>{gt(t,n,()=>{let i=e[Symbol.asyncIterator]();gt(t,n,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function Gp(e,n){return Xs(Ys(e),n)}function Wp(e,n){if(e!=null){if(Hs(e))return Up(e,n);if(Xi(e))return Hp(e,n);if($s(e))return $p(e,n);if(zs(e))return Xs(e,n);if(qs(e))return zp(e,n);if(Qs(e))return Gp(e,n)}throw Gs(e)}function ye(e,n){return n?Wp(e,n):De(e)}function F(...e){let n=nn(e);return ye(e,n)}function rn(e,n){let t=B(e)?e:()=>e,i=r=>r.error(t());return new X(n?r=>n.schedule(i,0,r):i)}function Js(e){return!!e&&(e instanceof X||B(e.lift)&&B(e.subscribe))}var jt=zi(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function ed(e,n){let t=typeof n=="object";return new Promise((i,r)=>{let o=!1,s;e.subscribe({next:a=>{s=a,o=!0},error:r,complete:()=>{o?i(s):t?i(n.defaultValue):r(new jt)}})})}function qp(e){return e instanceof Date&&!isNaN(e)}function $(e,n){return te((t,i)=>{let r=0;t.subscribe(Z(i,o=>{i.next(e.call(n,o,r++))}))})}var{isArray:Kb}=Array;function Xb(e,n){return Kb(n)?e(...n):e(n)}function Ji(e){return $(n=>Xb(e,n))}var{isArray:Jb}=Array,{getPrototypeOf:ew,prototype:tw,keys:nw}=Object;function ea(e){if(e.length===1){let n=e[0];if(Jb(n))return{args:n,keys:null};if(iw(n)){let t=nw(n);return{args:t.map(i=>n[i]),keys:t}}}return{args:e,keys:null}}function iw(e){return e&&typeof e=="object"&&ew(e)===tw}function ta(e,n){return e.reduce((t,i,r)=>(t[i]=n[r],t),{})}function gi(...e){let n=nn(e),t=Us(e),{args:i,keys:r}=ea(e);if(i.length===0)return ye([],n);let o=new X(rw(i,n,r?s=>ta(r,s):at));return t?o.pipe(Ji(t)):o}function rw(e,n,t=at){return i=>{Yp(n,()=>{let{length:r}=e,o=new Array(r),s=r,a=r;for(let c=0;c<r;c++)Yp(n,()=>{let h=ye(e[c],n),f=!1;h.subscribe(Z(i,p=>{o[c]=p,f||(f=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function Yp(e,n,t){e?gt(t,e,n):n()}function Qp(e,n,t,i,r,o,s,a){let c=[],h=0,f=0,p=!1,_=()=>{p&&!c.length&&!h&&n.complete()},v=x=>h<i?w(x):c.push(x),w=x=>{o&&n.next(x),h++;let T=!1;De(t(x,f++)).subscribe(Z(n,P=>{r?.(P),o?v(P):n.next(P)},()=>{T=!0},void 0,()=>{if(T)try{for(h--;c.length&&h<i;){let P=c.shift();s?gt(n,s,()=>w(P)):w(P)}_()}catch(P){n.error(P)}}))};return e.subscribe(Z(n,v,()=>{p=!0,_()})),()=>{a?.()}}function ke(e,n,t=1/0){return B(n)?ke((i,r)=>$((o,s)=>n(i,o,r,s))(De(e(i,r))),t):(typeof n=="number"&&(t=n),te((i,r)=>Qp(i,r,e,t)))}function on(e=1/0){return ke(at,e)}function Zp(){return on(1)}function Hn(...e){return Zp()(ye(e,nn(e)))}function zn(e){return new X(n=>{De(e()).subscribe(n)})}function td(...e){let n=Us(e),{args:t,keys:i}=ea(e),r=new X(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,h=s;for(let f=0;f<s;f++){let p=!1;De(t[f]).subscribe(Z(o,_=>{p||(p=!0,h--),a[f]=_},()=>c--,void 0,()=>{(!c||!p)&&(h||o.next(i?ta(i,a):a),o.complete())}))}});return n?r.pipe(Ji(n)):r}var ow=["addListener","removeListener"],sw=["addEventListener","removeEventListener"],aw=["on","off"];function eo(e,n,t,i){if(B(t)&&(i=t,t=void 0),i)return eo(e,n,t).pipe(Ji(i));let[r,o]=dw(e)?sw.map(s=>a=>e[s](n,a,t)):cw(e)?ow.map(Kp(e,n)):lw(e)?aw.map(Kp(e,n)):[];if(!r&&Xi(e))return ke(s=>eo(s,n,t))(De(e));if(!r)throw new TypeError("Invalid event target");return new X(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return r(a),()=>o(a)})}function Kp(e,n){return t=>i=>e[t](n,i)}function cw(e){return B(e.addListener)&&B(e.removeListener)}function lw(e){return B(e.on)&&B(e.off)}function dw(e){return B(e.addEventListener)&&B(e.removeEventListener)}function Xp(e=0,n,t=Rp){let i=-1;return n!=null&&(Bs(n)?t=n:i=n),new X(r=>{let o=qp(e)?+e-t.now():e;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function to(...e){let n=nn(e),t=Np(e,1/0),i=e;return i.length?i.length===1?De(i[0]):on(t)(ye(i,n)):ct}function Ee(e,n){return te((t,i)=>{let r=0;t.subscribe(Z(i,o=>e.call(n,o,r++)&&i.next(o)))})}function Jp(e){return te((n,t)=>{let i=!1,r=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;let h=r;r=null,t.next(h)}s&&t.complete()},c=()=>{o=null,s&&t.complete()};n.subscribe(Z(t,h=>{i=!0,r=h,o||De(e(h)).subscribe(o=Z(t,a,c))},()=>{s=!0,(!i||!o||o.closed)&&t.complete()}))})}function na(e,n=Jr){return Jp(()=>Xp(e,n))}function Je(e){return te((n,t)=>{let i=null,r=!1,o;i=n.subscribe(Z(t,void 0,void 0,s=>{o=De(e(s,Je(e)(n))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function em(e,n,t,i,r){return(o,s)=>{let a=t,c=n,h=0;o.subscribe(Z(s,f=>{let p=h++;c=a?e(c,f,p):(a=!0,f),i&&s.next(c)},r&&(()=>{a&&s.next(c),s.complete()})))}}function bn(e,n){return B(n)?ke(e,n,1):ke(e,1)}function er(e,n=Jr){return te((t,i)=>{let r=null,o=null,s=null,a=()=>{if(r){r.unsubscribe(),r=null;let h=o;o=null,i.next(h)}};function c(){let h=s+e,f=n.now();if(f<h){r=this.schedule(void 0,h-f),i.add(r);return}a()}t.subscribe(Z(i,h=>{o=h,s=n.now(),r||(r=n.schedule(c,e),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}function Gn(e){return te((n,t)=>{let i=!1;n.subscribe(Z(t,r=>{i=!0,t.next(r)},()=>{i||t.next(e),t.complete()}))})}function ze(e){return e<=0?()=>ct:te((n,t)=>{let i=0;n.subscribe(Z(t,r=>{++i<=e&&(t.next(r),e<=i&&t.complete())}))})}function nd(e){return $(()=>e)}function tr(e,n=at){return e=e??uw,te((t,i)=>{let r,o=!0;t.subscribe(Z(i,s=>{let a=n(s);(o||!e(r,a))&&(o=!1,r=a,i.next(s))}))})}function uw(e,n){return e===n}function ia(e=hw){return te((n,t)=>{let i=!1;n.subscribe(Z(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(e())))})}function hw(){return new jt}function lt(e){return te((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}function sn(e,n){let t=arguments.length>=2;return i=>i.pipe(e?Ee((r,o)=>e(r,o,i)):at,ze(1),t?Gn(n):ia(()=>new jt))}function nr(e){return e<=0?()=>ct:te((n,t)=>{let i=[];n.subscribe(Z(t,r=>{i.push(r),e<i.length&&i.shift()},()=>{for(let r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function id(e,n){let t=arguments.length>=2;return i=>i.pipe(e?Ee((r,o)=>e(r,o,i)):at,nr(1),t?Gn(n):ia(()=>new jt))}function rd(e,n){return te(em(e,n,arguments.length>=2,!0))}function no(e){return Ee((n,t)=>e<=t)}function an(...e){let n=nn(e);return te((t,i)=>{(n?Hn(e,t,n):Hn(e,t)).subscribe(i)})}function Ge(e,n){return te((t,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();t.subscribe(Z(i,c=>{r?.unsubscribe();let h=0,f=o++;De(e(c,f)).subscribe(r=Z(i,p=>i.next(n?n(c,p,f,h++):p),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function dt(e){return te((n,t)=>{De(e).subscribe(Z(t,()=>t.complete(),Kr)),!t.closed&&n.subscribe(t)})}function Me(e,n,t){let i=B(e)||n||t?{next:e,error:n,complete:t}:e;return i?te((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(Z(o,c=>{var h;(h=i.next)===null||h===void 0||h.call(i,c),o.next(c)},()=>{var c;a=!1,(c=i.complete)===null||c===void 0||c.call(i),o.complete()},c=>{var h;a=!1,(h=i.error)===null||h===void 0||h.call(i,c),o.error(c)},()=>{var c,h;a&&((c=i.unsubscribe)===null||c===void 0||c.call(i)),(h=i.finalize)===null||h===void 0||h.call(i)}))}):at}var Um="https://g.co/ng/security#xss",R=class extends Error{constructor(n,t){super($a(n,t)),this.code=n}};function $a(e,n){return`${`NG0${Math.abs(e)}`}${n?": "+n:""}`}function vo(e){return{toString:e}.toString()}var ra="__parameters__";function fw(e){return function(...t){if(e){let i=e(...t);for(let r in i)this[r]=i[r]}}}function $m(e,n,t){return vo(()=>{let i=fw(n);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(c,h,f){let p=c.hasOwnProperty(ra)?c[ra]:Object.defineProperty(c,ra,{value:[]})[ra];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(s),c}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}var Fe=globalThis;function we(e){for(let n in e)if(e[n]===we)return n;throw Error("Could not find renamed property on target object.")}function pw(e,n){for(let t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function ht(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map(ht).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let n=e.toString();if(n==null)return""+n;let t=n.indexOf(`
`);return t===-1?n:n.substring(0,t)}function bd(e,n){return e==null||e===""?n===null?"":n:n==null||n===""?e:e+" "+n}var mw=we({__forward_ref__:we});function fn(e){return e.__forward_ref__=fn,e.toString=function(){return ht(this())},e}function ut(e){return Hm(e)?e():e}function Hm(e){return typeof e=="function"&&e.hasOwnProperty(mw)&&e.__forward_ref__===fn}function I(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function q(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ha(e){return tm(e,Gm)||tm(e,Wm)}function zm(e){return Ha(e)!==null}function tm(e,n){return e.hasOwnProperty(n)?e[n]:null}function gw(e){let n=e&&(e[Gm]||e[Wm]);return n||null}function nm(e){return e&&(e.hasOwnProperty(im)||e.hasOwnProperty(vw))?e[im]:null}var Gm=we({\u0275prov:we}),im=we({\u0275inj:we}),Wm=we({ngInjectableDef:we}),vw=we({ngInjectorDef:we}),k=class{constructor(n,t){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=I({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function qm(e){return e&&!!e.\u0275providers}var _w=we({\u0275cmp:we}),yw=we({\u0275dir:we}),bw=we({\u0275pipe:we}),ww=we({\u0275mod:we}),va=we({\u0275fac:we}),io=we({__NG_ELEMENT_ID__:we}),rm=we({__NG_ENV_ID__:we});function _o(e){return typeof e=="string"?e:e==null?"":String(e)}function Cw(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():_o(e)}function xw(e,n){let t=n?`. Dependency path: ${n.join(" > ")} > ${e}`:"";throw new R(-200,e)}function vu(e,n){throw new R(-201,!1)}var re=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(re||{}),wd;function Ym(){return wd}function vt(e){let n=wd;return wd=e,n}function Qm(e,n,t){let i=Ha(e);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(t&re.Optional)return null;if(n!==void 0)return n;vu(e,"Injector")}var Dw={},oo=Dw,Cd="__NG_DI_FLAG__",_a="ngTempTokenPath",Ew="ngTokenPath",Iw=/\n/gm,Sw="\u0275",om="__source",ar;function Mw(){return ar}function Wn(e){let n=ar;return ar=e,n}function Tw(e,n=re.Default){if(ar===void 0)throw new R(-203,!1);return ar===null?Qm(e,void 0,n):ar.get(e,n&re.Optional?null:void 0,n)}function y(e,n=re.Default){return(Ym()||Tw)(ut(e),n)}function E(e,n=re.Default){return y(e,za(n))}function za(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function xd(e){let n=[];for(let t=0;t<e.length;t++){let i=ut(e[t]);if(Array.isArray(i)){if(i.length===0)throw new R(900,!1);let r,o=re.Default;for(let s=0;s<i.length;s++){let a=i[s],c=Aw(a);typeof c=="number"?c===-1?r=a.token:o|=c:r=a}n.push(y(r,o))}else n.push(y(i))}return n}function Zm(e,n){return e[Cd]=n,e.prototype[Cd]=n,e}function Aw(e){return e[Cd]}function Ow(e,n,t,i){let r=e[_a];throw n[om]&&r.unshift(n[om]),e.message=kw(`
`+e.message,r,t,i),e[Ew]=r,e[_a]=null,e}function kw(e,n,t,i=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==Sw?e.slice(2):e;let r=ht(n);if(Array.isArray(n))r=n.map(ht).join(" -> ");else if(typeof n=="object"){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):ht(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${e.replace(Iw,`
  `)}`}var Ga=Zm($m("Optional"),8);var _u=Zm($m("SkipSelf"),4);function bi(e,n){let t=e.hasOwnProperty(va);return t?e[va]:null}function Pw(e,n,t){if(e.length!==n.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],o=n[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}function Rw(e){return e.flat(Number.POSITIVE_INFINITY)}function yu(e,n){e.forEach(t=>Array.isArray(t)?yu(t,n):n(t))}function Km(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function ya(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function Nw(e,n){let t=[];for(let i=0;i<e;i++)t.push(n);return t}function Fw(e,n,t,i){let r=e.length;if(r==n)e.push(t,i);else if(r===1)e.push(i,e[0]),e[0]=t;else{for(r--,e.push(e[r-1],e[r]);r>n;){let o=r-2;e[r]=e[o],r--}e[n]=t,e[n+1]=i}}function bu(e,n,t){let i=yo(e,n);return i>=0?e[i|1]=t:(i=~i,Fw(e,i,n,t)),i}function od(e,n){let t=yo(e,n);if(t>=0)return e[t|1]}function yo(e,n){return Lw(e,n,1)}function Lw(e,n,t){let i=0,r=e.length>>t;for(;r!==i;){let o=i+(r-i>>1),s=e[o<<t];if(n===s)return o<<t;s>n?r=o:i=o+1}return~(r<<t)}var lr={},_t=[],dr=new k(""),Xm=new k("",-1),Jm=new k(""),ba=class{get(n,t=oo){if(t===oo){let i=new Error(`NullInjectorError: No provider for ${ht(n)}!`);throw i.name="NullInjectorError",i}return t}},eg=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(eg||{}),dn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(dn||{}),G=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(G||{});function Vw(e,n,t){let i=e.length;for(;;){let r=e.indexOf(n,t);if(r===-1)return r;if(r===0||e.charCodeAt(r-1)<=32){let o=n.length;if(r+o===i||e.charCodeAt(r+o)<=32)return r}t=r+1}}function Dd(e,n,t){let i=0;for(;i<t.length;){let r=t[i];if(typeof r=="number"){if(r!==0)break;i++;let o=t[i++],s=t[i++],a=t[i++];e.setAttribute(n,s,a,o)}else{let o=r,s=t[++i];jw(o)?e.setProperty(n,o,s):e.setAttribute(n,o,s),i++}}return i}function tg(e){return e===3||e===4||e===6}function jw(e){return e.charCodeAt(0)===64}function so(e,n){if(!(n===null||n.length===0))if(e===null||e.length===0)e=n.slice();else{let t=-1;for(let i=0;i<n.length;i++){let r=n[i];typeof r=="number"?t=r:t===0||(t===-1||t===2?sm(e,t,r,null,n[++i]):sm(e,t,r,null,null))}}return e}function sm(e,n,t,i,r){let o=0,s=e.length;if(n===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===n){s=-1;break}else if(a>n){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===t){if(i===null){r!==null&&(e[o+1]=r);return}else if(i===e[o+1]){e[o+2]=r;return}}o++,i!==null&&o++,r!==null&&o++}s!==-1&&(e.splice(s,0,n),o=s+1),e.splice(o++,0,t),i!==null&&e.splice(o++,0,i),r!==null&&e.splice(o++,0,r)}var ng="ng-template";function Bw(e,n,t,i){let r=0;if(i){for(;r<n.length&&typeof n[r]=="string";r+=2)if(n[r]==="class"&&Vw(n[r+1].toLowerCase(),t,0)!==-1)return!0}else if(wu(e))return!1;if(r=n.indexOf(1,r),r>-1){let o;for(;++r<n.length&&typeof(o=n[r])=="string";)if(o.toLowerCase()===t)return!0}return!1}function wu(e){return e.type===4&&e.value!==ng}function Uw(e,n,t){let i=e.type===4&&!t?ng:e.value;return n===i}function $w(e,n,t){let i=4,r=e.attrs,o=r!==null?Gw(r):0,s=!1;for(let a=0;a<n.length;a++){let c=n[a];if(typeof c=="number"){if(!s&&!Bt(i)&&!Bt(c))return!1;if(s&&Bt(c))continue;s=!1,i=c|i&1;continue}if(!s)if(i&4){if(i=2|i&1,c!==""&&!Uw(e,c,t)||c===""&&n.length===1){if(Bt(i))return!1;s=!0}}else if(i&8){if(r===null||!Bw(e,r,c,t)){if(Bt(i))return!1;s=!0}}else{let h=n[++a],f=Hw(c,r,wu(e),t);if(f===-1){if(Bt(i))return!1;s=!0;continue}if(h!==""){let p;if(f>o?p="":p=r[f+1].toLowerCase(),i&2&&h!==p){if(Bt(i))return!1;s=!0}}}}return Bt(i)||s}function Bt(e){return(e&1)===0}function Hw(e,n,t,i){if(n===null)return-1;let r=0;if(i||!t){let o=!1;for(;r<n.length;){let s=n[r];if(s===e)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=n[++r];for(;typeof a=="string";)a=n[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return Ww(n,e)}function ig(e,n,t=!1){for(let i=0;i<n.length;i++)if($w(e,n[i],t))return!0;return!1}function zw(e){let n=e.attrs;if(n!=null){let t=n.indexOf(5);if(!(t&1))return n[t+1]}return null}function Gw(e){for(let n=0;n<e.length;n++){let t=e[n];if(tg(t))return n}return e.length}function Ww(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){let i=e[t];if(typeof i=="number")return-1;if(i===n)return t;t++}return-1}function qw(e,n){e:for(let t=0;t<n.length;t++){let i=n[t];if(e.length===i.length){for(let r=0;r<e.length;r++)if(e[r]!==i[r])continue e;return!0}}return!1}function am(e,n){return e?":not("+n.trim()+")":n}function Yw(e){let n=e[0],t=1,i=2,r="",o=!1;for(;t<e.length;){let s=e[t];if(typeof s=="string")if(i&2){let a=e[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!Bt(s)&&(n+=am(o,r),r=""),i=s,o=o||!Bt(i);t++}return r!==""&&(n+=am(o,r)),n}function Qw(e){return e.map(Yw).join(",")}function Zw(e){let n=[],t=[],i=1,r=2;for(;i<e.length;){let o=e[i];if(typeof o=="string")r===2?o!==""&&n.push(o,e[++i]):r===8&&t.push(o);else{if(!Bt(r))break;r=o}i++}return{attrs:n,classes:t}}function _e(e){return vo(()=>{let n=cg(e),t=de(S({},n),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===eg.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||dn.Emulated,styles:e.styles||_t,_:null,schemas:e.schemas||null,tView:null,id:""});lg(t);let i=e.dependencies;return t.directiveDefs=lm(i,!1),t.pipeDefs=lm(i,!0),t.id=Jw(t),t})}function Kw(e){return Yn(e)||rg(e)}function Xw(e){return e!==null}function Y(e){return vo(()=>({type:e.type,bootstrap:e.bootstrap||_t,declarations:e.declarations||_t,imports:e.imports||_t,exports:e.exports||_t,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function cm(e,n){if(e==null)return lr;let t={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i],o,s,a=G.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),n?(t[o]=a!==G.None?[i,a]:i,n[o]=s):t[o]=i}return t}function ue(e){return vo(()=>{let n=cg(e);return lg(n),n})}function Cu(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone===!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function Yn(e){return e[_w]||null}function rg(e){return e[yw]||null}function og(e){return e[bw]||null}function sg(e){let n=Yn(e)||rg(e)||og(e);return n!==null?n.standalone:!1}function ag(e,n){let t=e[ww]||null;if(!t&&n===!0)throw new Error(`Type ${ht(e)} does not have '\u0275mod' property.`);return t}function cg(e){let n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||lr,exportAs:e.exportAs||null,standalone:e.standalone===!0,signals:e.signals===!0,selectors:e.selectors||_t,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:cm(e.inputs,n),outputs:cm(e.outputs),debugInfo:null}}function lg(e){e.features?.forEach(n=>n(e))}function lm(e,n){if(!e)return null;let t=n?og:Kw;return()=>(typeof e=="function"?e():e).map(i=>t(i)).filter(Xw)}function Jw(e){let n=0,t=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(let r of t)n=Math.imul(31,n)+r.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function Wa(e){return{\u0275providers:e}}function eC(...e){return{\u0275providers:dg(!0,e),\u0275fromNgModule:!0}}function dg(e,...n){let t=[],i=new Set,r,o=s=>{t.push(s)};return yu(n,s=>{let a=s;Ed(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&ug(r,o),t}function ug(e,n){for(let t=0;t<e.length;t++){let{ngModule:i,providers:r}=e[t];xu(r,o=>{n(o,i)})}}function Ed(e,n,t,i){if(e=ut(e),!e)return!1;let r=null,o=nm(e),s=!o&&Yn(e);if(!o&&!s){let c=e.ngModule;if(o=nm(c),o)r=c;else return!1}else{if(s&&!s.standalone)return!1;r=e}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let h of c)Ed(h,n,t,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let h;try{yu(o.imports,f=>{Ed(f,n,t,i)&&(h||=[],h.push(f))})}finally{}h!==void 0&&ug(h,n)}if(!a){let h=bi(r)||(()=>new r);n({provide:r,useFactory:h,deps:_t},r),n({provide:Jm,useValue:r,multi:!0},r),n({provide:dr,useValue:()=>y(r),multi:!0},r)}let c=o.providers;if(c!=null&&!a){let h=e;xu(c,f=>{n(f,h)})}}else return!1;return r!==e&&e.providers!==void 0}function xu(e,n){for(let t of e)qm(t)&&(t=t.\u0275providers),Array.isArray(t)?xu(t,n):n(t)}var tC=we({provide:String,useValue:we});function hg(e){return e!==null&&typeof e=="object"&&tC in e}function nC(e){return!!(e&&e.useExisting)}function iC(e){return!!(e&&e.useFactory)}function ur(e){return typeof e=="function"}function rC(e){return!!e.useClass}var qa=new k(""),ua={},oC={},sd;function Du(){return sd===void 0&&(sd=new ba),sd}var et=class{},ao=class extends et{get destroyed(){return this._destroyed}constructor(n,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Sd(n,s=>this.processProvider(s)),this.records.set(Xm,ir(void 0,this)),r.has("environment")&&this.records.set(et,ir(void 0,this));let o=this.records.get(qa);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Jm,_t,re.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let n=le(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),le(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();let t=Wn(this),i=vt(void 0),r;try{return n()}finally{Wn(t),vt(i)}}get(n,t=oo,i=re.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(rm))return n[rm](this);i=za(i);let r,o=Wn(this),s=vt(void 0);try{if(!(i&re.SkipSelf)){let c=this.records.get(n);if(c===void 0){let h=dC(n)&&Ha(n);h&&this.injectableDefInScope(h)?c=ir(Id(n),ua):c=null,this.records.set(n,c)}if(c!=null)return this.hydrate(n,c)}let a=i&re.Self?Du():this.parent;return t=i&re.Optional&&t===oo?null:t,a.get(n,t)}catch(a){if(a.name==="NullInjectorError"){if((a[_a]=a[_a]||[]).unshift(ht(n)),o)throw a;return Ow(a,n,"R3InjectorError",this.source)}else throw a}finally{vt(s),Wn(o)}}resolveInjectorInitializers(){let n=le(null),t=Wn(this),i=vt(void 0),r;try{let o=this.get(dr,_t,re.Self);for(let s of o)s()}finally{Wn(t),vt(i),le(n)}}toString(){let n=[],t=this.records;for(let i of t.keys())n.push(ht(i));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new R(205,!1)}processProvider(n){n=ut(n);let t=ur(n)?n:ut(n&&n.provide),i=aC(n);if(!ur(n)&&n.multi===!0){let r=this.records.get(t);r||(r=ir(void 0,ua,!0),r.factory=()=>xd(r.multi),this.records.set(t,r)),t=n,r.multi.push(n)}this.records.set(t,i)}hydrate(n,t){let i=le(null);try{return t.value===ua&&(t.value=oC,t.value=t.factory()),typeof t.value=="object"&&t.value&&lC(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{le(i)}}injectableDefInScope(n){if(!n.providedIn)return!1;let t=ut(n.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){let t=this._onDestroyHooks.indexOf(n);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Id(e){let n=Ha(e),t=n!==null?n.factory:bi(e);if(t!==null)return t;if(e instanceof k)throw new R(204,!1);if(e instanceof Function)return sC(e);throw new R(204,!1)}function sC(e){if(e.length>0)throw new R(204,!1);let t=gw(e);return t!==null?()=>t.factory(e):()=>new e}function aC(e){if(hg(e))return ir(void 0,e.useValue);{let n=fg(e);return ir(n,ua)}}function fg(e,n,t){let i;if(ur(e)){let r=ut(e);return bi(r)||Id(r)}else if(hg(e))i=()=>ut(e.useValue);else if(iC(e))i=()=>e.useFactory(...xd(e.deps||[]));else if(nC(e))i=()=>y(ut(e.useExisting));else{let r=ut(e&&(e.useClass||e.provide));if(cC(e))i=()=>new r(...xd(e.deps));else return bi(r)||Id(r)}return i}function ir(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function cC(e){return!!e.deps}function lC(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function dC(e){return typeof e=="function"||typeof e=="object"&&e instanceof k}function Sd(e,n){for(let t of e)Array.isArray(t)?Sd(t,n):t&&qm(t)?Sd(t.\u0275providers,n):n(t)}function Wt(e,n){e instanceof ao&&e.assertNotDestroyed();let t,i=Wn(e),r=vt(void 0);try{return n()}finally{Wn(i),vt(r)}}function pg(){return Ym()!==void 0||Mw()!=null}function uC(e){if(!pg())throw new R(-203,!1)}function hC(e){let n=Fe.ng;if(n&&n.\u0275compilerFacade)return n.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function fC(e){return typeof e=="function"}var xn=0,K=1,H=2,Ye=3,$t=4,xt=5,co=6,lo=7,Ot=8,hr=9,Ht=10,Ae=11,uo=12,dm=13,vr=14,zt=15,bo=16,rr=17,wn=18,Ya=19,mg=20,qn=21,ad=22,wi=23,ft=25,gg=1;var Ci=7,wa=8,fr=9,yt=10,Eu=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Eu||{});function _i(e){return Array.isArray(e)&&typeof e[gg]=="object"}function Dn(e){return Array.isArray(e)&&e[gg]===!0}function Iu(e){return(e.flags&4)!==0}function Qa(e){return e.componentOffset>-1}function Za(e){return(e.flags&1)===1}function Qn(e){return!!e.template}function pC(e){return(e[H]&512)!==0}var Md=class{constructor(n,t,i){this.previousValue=n,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}};function vg(e,n,t,i){n!==null?n.applyValueToInputSignal(n,i):e[t]=i}function tt(){return _g}function _g(e){return e.type.prototype.ngOnChanges&&(e.setInput=gC),mC}tt.ngInherit=!0;function mC(){let e=bg(this),n=e?.current;if(n){let t=e.previous;if(t===lr)e.previous=n;else for(let i in n)t[i]=n[i];e.current=null,this.ngOnChanges(n)}}function gC(e,n,t,i,r){let o=this.declaredInputs[i],s=bg(e)||vC(e,{previous:lr,current:null}),a=s.current||(s.current={}),c=s.previous,h=c[o];a[o]=new Md(h&&h.currentValue,t,c===lr),vg(e,n,r,t)}var yg="__ngSimpleChanges__";function bg(e){return e[yg]||null}function vC(e,n){return e[yg]=n}var um=null;var cn=function(e,n,t){um?.(e,n,t)},wg="svg",_C="math",yC=!1;function bC(){return yC}function un(e){for(;Array.isArray(e);)e=e[xn];return e}function Cg(e,n){return un(n[e])}function kt(e,n){return un(n[e.index])}function Su(e,n){return e.data[n]}function xg(e,n){return e[n]}function Xn(e,n){let t=n[e];return _i(t)?t:t[xn]}function wC(e){return(e[H]&4)===4}function Mu(e){return(e[H]&128)===128}function CC(e){return Dn(e[Ye])}function pr(e,n){return n==null?null:e[n]}function Dg(e){e[rr]=0}function xC(e){e[H]&1024||(e[H]|=1024,Mu(e)&&ho(e))}function DC(e,n){for(;e>0;)n=n[vr],e--;return n}function Tu(e){return!!(e[H]&9216||e[wi]?.dirty)}function Td(e){e[Ht].changeDetectionScheduler?.notify(1),Tu(e)?ho(e):e[H]&64&&(bC()?(e[H]|=1024,ho(e)):e[Ht].changeDetectionScheduler?.notify())}function ho(e){e[Ht].changeDetectionScheduler?.notify();let n=fo(e);for(;n!==null&&!(n[H]&8192||(n[H]|=8192,!Mu(n)));)n=fo(n)}function Eg(e,n){if((e[H]&256)===256)throw new R(911,!1);e[qn]===null&&(e[qn]=[]),e[qn].push(n)}function EC(e,n){if(e[qn]===null)return;let t=e[qn].indexOf(n);t!==-1&&e[qn].splice(t,1)}function fo(e){let n=e[Ye];return Dn(n)?n[Ye]:n}var J={lFrame:Pg(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function IC(){return J.lFrame.elementDepthCount}function SC(){J.lFrame.elementDepthCount++}function MC(){J.lFrame.elementDepthCount--}function Ig(){return J.bindingsEnabled}function Sg(){return J.skipHydrationRootTNode!==null}function TC(e){return J.skipHydrationRootTNode===e}function AC(){J.skipHydrationRootTNode=null}function se(){return J.lFrame.lView}function Pe(){return J.lFrame.tView}function A(e){return J.lFrame.contextLView=e,e[Ot]}function O(e){return J.lFrame.contextLView=null,e}function nt(){let e=Mg();for(;e!==null&&e.type===64;)e=e.parent;return e}function Mg(){return J.lFrame.currentTNode}function OC(){let e=J.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}function Mi(e,n){let t=J.lFrame;t.currentTNode=e,t.isParent=n}function Au(){return J.lFrame.isParent}function Ou(){J.lFrame.isParent=!1}function kC(){return J.lFrame.contextLView}function PC(){let e=J.lFrame,n=e.bindingRootIndex;return n===-1&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function RC(e){return J.lFrame.bindingIndex=e}function _r(){return J.lFrame.bindingIndex++}function Tg(e){let n=J.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function NC(){return J.lFrame.inI18n}function FC(e,n){let t=J.lFrame;t.bindingIndex=t.bindingRootIndex=e,Ad(n)}function LC(){return J.lFrame.currentDirectiveIndex}function Ad(e){J.lFrame.currentDirectiveIndex=e}function VC(e){let n=J.lFrame.currentDirectiveIndex;return n===-1?null:e[n]}function Ag(){return J.lFrame.currentQueryIndex}function ku(e){J.lFrame.currentQueryIndex=e}function jC(e){let n=e[K];return n.type===2?n.declTNode:n.type===1?e[xt]:null}function Og(e,n,t){if(t&re.SkipSelf){let r=n,o=e;for(;r=r.parent,r===null&&!(t&re.Host);)if(r=jC(o),r===null||(o=o[vr],r.type&10))break;if(r===null)return!1;n=r,e=o}let i=J.lFrame=kg();return i.currentTNode=n,i.lView=e,!0}function Pu(e){let n=kg(),t=e[K];J.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function kg(){let e=J.lFrame,n=e===null?null:e.child;return n===null?Pg(e):n}function Pg(e){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=n),n}function Rg(){let e=J.lFrame;return J.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Ng=Rg;function Ru(){let e=Rg();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function BC(e){return(J.lFrame.contextLView=DC(e,J.lFrame.contextLView))[Ot]}function Ti(){return J.lFrame.selectedIndex}function xi(e){J.lFrame.selectedIndex=e}function Ka(){let e=J.lFrame;return Su(e.tView,e.selectedIndex)}function Xa(){J.lFrame.currentNamespace=wg}function Fg(){UC()}function UC(){J.lFrame.currentNamespace=null}function $C(){return J.lFrame.currentNamespace}var Lg=!0;function Ja(){return Lg}function ec(e){Lg=e}function HC(e,n,t){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=n.type.prototype;if(i){let s=_g(n);(t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s)}r&&(t.preOrderHooks??=[]).push(0-e,r),o&&((t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o))}function tc(e,n){for(let t=n.directiveStart,i=n.directiveEnd;t<i;t++){let o=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:h,ngOnDestroy:f}=o;s&&(e.contentHooks??=[]).push(-t,s),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),c&&(e.viewHooks??=[]).push(-t,c),h&&((e.viewHooks??=[]).push(t,h),(e.viewCheckHooks??=[]).push(t,h)),f!=null&&(e.destroyHooks??=[]).push(t,f)}}function ha(e,n,t){Vg(e,n,3,t)}function fa(e,n,t,i){(e[H]&3)===t&&Vg(e,n,t,i)}function cd(e,n){let t=e[H];(t&3)===n&&(t&=16383,t+=1,e[H]=t)}function Vg(e,n,t,i){let r=i!==void 0?e[rr]&65535:0,o=i??-1,s=n.length-1,a=0;for(let c=r;c<s;c++)if(typeof n[c+1]=="number"){if(a=n[c],i!=null&&a>=i)break}else n[c]<0&&(e[rr]+=65536),(a<o||o==-1)&&(zC(e,t,n,c),e[rr]=(e[rr]&4294901760)+c+2),c++}function hm(e,n){cn(4,e,n);let t=le(null);try{n.call(e)}finally{le(t),cn(5,e,n)}}function zC(e,n,t,i){let r=t[i]<0,o=t[i+1],s=r?-t[i]:t[i],a=e[s];r?e[H]>>14<e[rr]>>16&&(e[H]&3)===n&&(e[H]+=16384,hm(a,o)):hm(a,o)}var cr=-1,Di=class{constructor(n,t,i){this.factory=n,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}};function GC(e){return e instanceof Di}function WC(e){return(e.flags&8)!==0}function qC(e){return(e.flags&16)!==0}function jg(e){return e!==cr}function Ca(e){return e&32767}function YC(e){return e>>16}function xa(e,n){let t=YC(e),i=n;for(;t>0;)i=i[vr],t--;return i}var Od=!0;function Da(e){let n=Od;return Od=e,n}var QC=256,Bg=QC-1,Ug=5,ZC=0,ln={};function KC(e,n,t){let i;typeof t=="string"?i=t.charCodeAt(0)||0:t.hasOwnProperty(io)&&(i=t[io]),i==null&&(i=t[io]=ZC++);let r=i&Bg,o=1<<r;n.data[e+(r>>Ug)]|=o}function Ea(e,n){let t=$g(e,n);if(t!==-1)return t;let i=n[K];i.firstCreatePass&&(e.injectorIndex=n.length,ld(i.data,e),ld(n,null),ld(i.blueprint,null));let r=Nu(e,n),o=e.injectorIndex;if(jg(r)){let s=Ca(r),a=xa(r,n),c=a[K].data;for(let h=0;h<8;h++)n[o+h]=a[s+h]|c[s+h]}return n[o+8]=r,o}function ld(e,n){e.push(0,0,0,0,0,0,0,0,n)}function $g(e,n){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||n[e.injectorIndex+8]===null?-1:e.injectorIndex}function Nu(e,n){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let t=0,i=null,r=n;for(;r!==null;){if(i=qg(r),i===null)return cr;if(t++,r=r[vr],i.injectorIndex!==-1)return i.injectorIndex|t<<16}return cr}function kd(e,n,t){KC(e,n,t)}function XC(e,n){if(n==="class")return e.classes;if(n==="style")return e.styles;let t=e.attrs;if(t){let i=t.length,r=0;for(;r<i;){let o=t[r];if(tg(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof t[r]=="string";)r++;else{if(o===n)return t[r+1];r=r+2}}}return null}function Hg(e,n,t){if(t&re.Optional||e!==void 0)return e;vu(n,"NodeInjector")}function zg(e,n,t,i){if(t&re.Optional&&i===void 0&&(i=null),!(t&(re.Self|re.Host))){let r=e[hr],o=vt(void 0);try{return r?r.get(n,i,t&re.Optional):Qm(n,i,t&re.Optional)}finally{vt(o)}}return Hg(i,n,t)}function Gg(e,n,t,i=re.Default,r){if(e!==null){if(n[H]&2048&&!(i&re.Self)){let s=nx(e,n,t,i,ln);if(s!==ln)return s}let o=Wg(e,n,t,i,ln);if(o!==ln)return o}return zg(n,t,i,r)}function Wg(e,n,t,i,r){let o=ex(t);if(typeof o=="function"){if(!Og(n,e,i))return i&re.Host?Hg(r,t,i):zg(n,t,i,r);try{let s;if(s=o(i),s==null&&!(i&re.Optional))vu(t);else return s}finally{Ng()}}else if(typeof o=="number"){let s=null,a=$g(e,n),c=cr,h=i&re.Host?n[zt][xt]:null;for((a===-1||i&re.SkipSelf)&&(c=a===-1?Nu(e,n):n[a+8],c===cr||!pm(i,!1)?a=-1:(s=n[K],a=Ca(c),n=xa(c,n)));a!==-1;){let f=n[K];if(fm(o,a,f.data)){let p=JC(a,n,t,s,i,h);if(p!==ln)return p}c=n[a+8],c!==cr&&pm(i,n[K].data[a+8]===h)&&fm(o,a,n)?(s=f,a=Ca(c),n=xa(c,n)):a=-1}}return r}function JC(e,n,t,i,r,o){let s=n[K],a=s.data[e+8],c=i==null?Qa(a)&&Od:i!=s&&(a.type&3)!==0,h=r&re.Host&&o===a,f=pa(a,s,t,c,h);return f!==null?Ei(n,s,f,a):ln}function pa(e,n,t,i,r){let o=e.providerIndexes,s=n.data,a=o&1048575,c=e.directiveStart,h=e.directiveEnd,f=o>>20,p=i?a:a+f,_=r?a+f:h;for(let v=p;v<_;v++){let w=s[v];if(v<c&&t===w||v>=c&&w.type===t)return v}if(r){let v=s[c];if(v&&Qn(v)&&v.type===t)return c}return null}function Ei(e,n,t,i){let r=e[t],o=n.data;if(GC(r)){let s=r;s.resolving&&xw(Cw(o[t]));let a=Da(s.canSeeViewProviders);s.resolving=!0;let c,h=s.injectImpl?vt(s.injectImpl):null,f=Og(e,i,re.Default);try{r=e[t]=s.factory(void 0,o,e,i),n.firstCreatePass&&t>=i.directiveStart&&HC(t,o[t],n)}finally{h!==null&&vt(h),Da(a),s.resolving=!1,Ng()}}return r}function ex(e){if(typeof e=="string")return e.charCodeAt(0)||0;let n=e.hasOwnProperty(io)?e[io]:void 0;return typeof n=="number"?n>=0?n&Bg:tx:n}function fm(e,n,t){let i=1<<e;return!!(t[n+(e>>Ug)]&i)}function pm(e,n){return!(e&re.Self)&&!(e&re.Host&&n)}var yi=class{constructor(n,t){this._tNode=n,this._lView=t}get(n,t,i){return Gg(this._tNode,this._lView,n,za(i),t)}};function tx(){return new yi(nt(),se())}function En(e){return vo(()=>{let n=e.prototype.constructor,t=n[va]||Pd(n),i=Object.prototype,r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==i;){let o=r[va]||Pd(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Pd(e){return Hm(e)?()=>{let n=Pd(ut(e));return n&&n()}:bi(e)}function nx(e,n,t,i,r){let o=e,s=n;for(;o!==null&&s!==null&&s[H]&2048&&!(s[H]&512);){let a=Wg(o,s,t,i|re.Self,ln);if(a!==ln)return a;let c=o.parent;if(!c){let h=s[mg];if(h){let f=h.get(t,ln,i);if(f!==ln)return f}c=qg(s),s=s[vr]}o=c}return r}function qg(e){let n=e[K],t=n.type;return t===2?n.declTNode:t===1?e[xt]:null}function yr(e){return XC(nt(),e)}function mm(e,n=null,t=null,i){let r=Yg(e,n,t,i);return r.resolveInjectorInitializers(),r}function Yg(e,n=null,t=null,i,r=new Set){let o=[t||_t,eC(e)];return i=i||(typeof e=="object"?void 0:ht(e)),new ao(o,n||Du(),i||null,r)}var Re=(()=>{class e{static{this.THROW_IF_NOT_FOUND=oo}static{this.NULL=new ba}static create(t,i){if(Array.isArray(t))return mm({name:""},i,t,"");{let r=t.name??"";return mm({name:r},t.parent,t.providers,r)}}static{this.\u0275prov=I({token:e,providedIn:"any",factory:()=>y(Xm)})}static{this.__NG_ELEMENT_ID__=-1}}return e})();var ix="ngOriginalError";function dd(e){return e[ix]}var Gt=class{constructor(){this._console=console}handleError(n){let t=this._findOriginalError(n);this._console.error("ERROR",n),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(n){let t=n&&dd(n);for(;t&&dd(t);)t=dd(t);return t||null}},Qg=new k("",{providedIn:"root",factory:()=>E(Gt).handleError.bind(void 0)}),Fu=(()=>{class e{static{this.__NG_ELEMENT_ID__=rx}static{this.__NG_ENV_ID__=t=>t}}return e})(),Rd=class extends Fu{constructor(n){super(),this._lView=n}onDestroy(n){return Eg(this._lView,n),()=>EC(this._lView,n)}};function rx(){return new Rd(se())}function ox(){return br(nt(),se())}function br(e,n){return new ae(kt(e,n))}var ae=(()=>{class e{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=ox}}return e})();function sx(e){return e instanceof ae?e.nativeElement:e}var Nd=class extends z{constructor(n=!1){super(),this.destroyRef=void 0,this.__isAsync=n,pg()&&(this.destroyRef=E(Fu,{optional:!0})??void 0)}emit(n){let t=le(null);try{super.next(n)}finally{le(t)}}subscribe(n,t,i){let r=n,o=t||(()=>null),s=i;if(n&&typeof n=="object"){let c=n;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=ud(o),r&&(r=ud(r)),s&&(s=ud(s)));let a=super.subscribe({next:r,error:o,complete:s});return n instanceof xe&&n.add(a),a}};function ud(e){return n=>{setTimeout(e,void 0,n)}}var oe=Nd;function ax(){return this._results[Symbol.iterator]()}var Ia=class e{get changes(){return this._changes??=new oe}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=e.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=ax)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,t){return this._results.reduce(n,t)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,t){this.dirty=!1;let i=Rw(n);(this._changesDetected=!Pw(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function Zg(e){return(e.flags&128)===128}var Kg=new Map,cx=0;function lx(){return cx++}function dx(e){Kg.set(e[Ya],e)}function ux(e){Kg.delete(e[Ya])}var gm="__ngContext__";function Zn(e,n){_i(n)?(e[gm]=n[Ya],dx(n)):e[gm]=n}function Xg(e){return e0(e[uo])}function Jg(e){return e0(e[$t])}function e0(e){for(;e!==null&&!Dn(e);)e=e[$t];return e}var Fd;function t0(e){Fd=e}function n0(){if(Fd!==void 0)return Fd;if(typeof document<"u")return document;throw new R(210,!1)}var wo=new k("",{providedIn:"root",factory:()=>hx}),hx="ng",Lu=new k(""),it=new k("",{providedIn:"platform",factory:()=>"unknown"});var In=new k(""),Co=new k("",{providedIn:"root",factory:()=>n0().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var fx="h",px="b";var mx=()=>null;function Vu(e,n,t=!1){return mx(e,n,t)}var i0=!1,gx=new k("",{providedIn:"root",factory:()=>i0});var oa;function vx(){if(oa===void 0&&(oa=null,Fe.trustedTypes))try{oa=Fe.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return oa}function nc(e){return vx()?.createHTML(e)||e}var sa;function r0(){if(sa===void 0&&(sa=null,Fe.trustedTypes))try{sa=Fe.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return sa}function vm(e){return r0()?.createHTML(e)||e}function _m(e){return r0()?.createScriptURL(e)||e}var Sa=class{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Um})`}};function Ai(e){return e instanceof Sa?e.changingThisBreaksApplicationSecurity:e}function ic(e,n){let t=_x(e);if(t!=null&&t!==n){if(t==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${Um})`)}return t===n}function _x(e){return e instanceof Sa&&e.getTypeName()||null}function yx(e){let n=new Vd(e);return bx()?new Ld(n):n}var Ld=class{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{let t=new window.DOMParser().parseFromString(nc(n),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(n):(t.removeChild(t.firstChild),t)}catch{return null}}},Vd=class{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){let t=this.inertDocument.createElement("template");return t.innerHTML=nc(n),t}};function bx(){try{return!!new window.DOMParser().parseFromString(nc(""),"text/html")}catch{return!1}}var wx=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ju(e){return e=String(e),e.match(wx)?e:"unsafe:"+e}function Sn(e){let n={};for(let t of e.split(","))n[t]=!0;return n}function xo(...e){let n={};for(let t of e)for(let i in t)t.hasOwnProperty(i)&&(n[i]=!0);return n}var o0=Sn("area,br,col,hr,img,wbr"),s0=Sn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),a0=Sn("rp,rt"),Cx=xo(a0,s0),xx=xo(s0,Sn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Dx=xo(a0,Sn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ym=xo(o0,xx,Dx,Cx),c0=Sn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ex=Sn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ix=Sn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),Sx=xo(c0,Ex,Ix),Mx=Sn("script,style,template"),jd=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let t=n.firstChild,i=!0,r=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild){r.push(t),t=Ox(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=Ax(t);if(o){t=o;break}t=r.pop()}}return this.buf.join("")}startElement(n){let t=bm(n).toLowerCase();if(!ym.hasOwnProperty(t))return this.sanitizedSomething=!0,!Mx.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let i=n.attributes;for(let r=0;r<i.length;r++){let o=i.item(r),s=o.name,a=s.toLowerCase();if(!Sx.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;c0[a]&&(c=ju(c)),this.buf.push(" ",s,'="',wm(c),'"')}return this.buf.push(">"),!0}endElement(n){let t=bm(n).toLowerCase();ym.hasOwnProperty(t)&&!o0.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(n){this.buf.push(wm(n))}};function Tx(e,n){return(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function Ax(e){let n=e.nextSibling;if(n&&e!==n.previousSibling)throw l0(n);return n}function Ox(e){let n=e.firstChild;if(n&&Tx(e,n))throw l0(n);return n}function bm(e){let n=e.nodeName;return typeof n=="string"?n:"FORM"}function l0(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}var kx=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Px=/([^\#-~ |!])/g;function wm(e){return e.replace(/&/g,"&amp;").replace(kx,function(n){let t=n.charCodeAt(0),i=n.charCodeAt(1);return"&#"+((t-55296)*1024+(i-56320)+65536)+";"}).replace(Px,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var aa;function d0(e,n){let t=null;try{aa=aa||yx(e);let i=n?String(n):"";t=aa.getInertBodyElement(i);let r=5,o=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=t.innerHTML,t=aa.getInertBodyElement(i)}while(i!==o);let a=new jd().sanitizeChildren(Cm(t)||t);return nc(a)}finally{if(t){let i=Cm(t)||t;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function Cm(e){return"content"in e&&Rx(e)?e.content:null}function Rx(e){return e.nodeType===Node.ELEMENT_NODE&&e.nodeName==="TEMPLATE"}var Do=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Do||{});function u0(e){let n=Bu();return n?vm(n.sanitize(Do.HTML,e)||""):ic(e,"HTML")?vm(Ai(e)):d0(n0(),_o(e))}function ie(e){let n=Bu();return n?n.sanitize(Do.URL,e)||"":ic(e,"URL")?Ai(e):ju(_o(e))}function Nx(e){let n=Bu();if(n)return _m(n.sanitize(Do.RESOURCE_URL,e)||"");if(ic(e,"ResourceURL"))return _m(Ai(e));throw new R(904,!1)}function Fx(e,n){return n==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||n==="href"&&(e==="base"||e==="link")?Nx:ie}function h0(e,n,t){return Fx(n,t)(e)}function Bu(){let e=se();return e&&e[Ht].sanitizer}var Lx=/^>|^->|<!--|-->|--!>|<!-$/g,Vx=/(<|>)/g,jx="\u200B$1\u200B";function Bx(e){return e.replace(Lx,n=>n.replace(Vx,jx))}function rc(e){return e.ownerDocument}function f0(e){return e instanceof Function?e():e}function Ux(e){return(e??E(Re)).get(it)==="browser"}var Cn=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Cn||{}),$x;function Uu(e,n){return $x(e,n)}function or(e,n,t,i,r){if(i!=null){let o,s=!1;Dn(i)?o=i:_i(i)&&(s=!0,i=i[xn]);let a=un(i);e===0&&t!==null?r==null?_0(n,t,a):Ta(n,t,a,r||null,!0):e===1&&t!==null?Ta(n,t,a,r||null,!0):e===2?rD(n,a,s):e===3&&n.destroyNode(a),o!=null&&sD(n,e,o,t,r)}}function Hx(e,n){return e.createText(n)}function zx(e,n,t){e.setValue(n,t)}function Gx(e,n){return e.createComment(Bx(n))}function p0(e,n,t){return e.createElement(n,t)}function Wx(e,n){m0(e,n),n[xn]=null,n[xt]=null}function qx(e,n,t,i,r,o){i[xn]=r,i[xt]=n,sc(e,i,t,1,r,o)}function m0(e,n){n[Ht].changeDetectionScheduler?.notify(1),sc(e,n,n[Ae],2,null,null)}function Yx(e){let n=e[uo];if(!n)return hd(e[K],e);for(;n;){let t=null;if(_i(n))t=n[uo];else{let i=n[yt];i&&(t=i)}if(!t){for(;n&&!n[$t]&&n!==e;)_i(n)&&hd(n[K],n),n=n[Ye];n===null&&(n=e),_i(n)&&hd(n[K],n),t=n&&n[$t]}n=t}}function Qx(e,n,t,i){let r=yt+i,o=t.length;i>0&&(t[r-1][$t]=n),i<o-yt?(n[$t]=t[r],Km(t,yt+i,n)):(t.push(n),n[$t]=null),n[Ye]=t;let s=n[bo];s!==null&&t!==s&&Zx(s,n);let a=n[wn];a!==null&&a.insertView(e),Td(n),n[H]|=128}function Zx(e,n){let t=e[fr],r=n[Ye][Ye][zt];n[zt]!==r&&(e[H]|=Eu.HasTransplantedViews),t===null?e[fr]=[n]:t.push(n)}function g0(e,n){let t=e[fr],i=t.indexOf(n);t.splice(i,1)}function Ma(e,n){if(e.length<=yt)return;let t=yt+n,i=e[t];if(i){let r=i[bo];r!==null&&r!==e&&g0(r,i),n>0&&(e[t-1][$t]=i[$t]);let o=ya(e,yt+n);Wx(i[K],i);let s=o[wn];s!==null&&s.detachView(o[K]),i[Ye]=null,i[$t]=null,i[H]&=-129}return i}function $u(e,n){if(!(n[H]&256)){let t=n[Ae];t.destroyNode&&sc(e,n,t,3,null,null),Yx(n)}}function hd(e,n){if(n[H]&256)return;let t=le(null);try{n[H]&=-129,n[H]|=256,n[wi]&&Ep(n[wi]),Xx(e,n),Kx(e,n),n[K].type===1&&n[Ae].destroy();let i=n[bo];if(i!==null&&Dn(n[Ye])){i!==n[Ye]&&g0(i,n);let r=n[wn];r!==null&&r.detachView(e)}ux(n)}finally{le(t)}}function Kx(e,n){let t=e.cleanup,i=n[lo];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else{let s=i[t[o+1]];t[o].call(s)}i!==null&&(n[lo]=null);let r=n[qn];if(r!==null){n[qn]=null;for(let o=0;o<r.length;o++){let s=r[o];s()}}}function Xx(e,n){let t;if(e!=null&&(t=e.destroyHooks)!=null)for(let i=0;i<t.length;i+=2){let r=n[t[i]];if(!(r instanceof Di)){let o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],c=o[s+1];cn(4,a,c);try{c.call(a)}finally{cn(5,a,c)}}else{cn(4,r,o);try{o.call(r)}finally{cn(5,r,o)}}}}}function v0(e,n,t){return Jx(e,n.parent,t)}function Jx(e,n,t){let i=n;for(;i!==null&&i.type&40;)n=i,i=n.parent;if(i===null)return t[xn];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:o}=e.data[i.directiveStart+r];if(o===dn.None||o===dn.Emulated)return null}return kt(i,t)}}function Ta(e,n,t,i,r){e.insertBefore(n,t,i,r)}function _0(e,n,t){e.appendChild(n,t)}function xm(e,n,t,i,r){i!==null?Ta(e,n,t,i,r):_0(e,n,t)}function eD(e,n,t,i){e.removeChild(n,t,i)}function Hu(e,n){return e.parentNode(n)}function tD(e,n){return e.nextSibling(n)}function y0(e,n,t){return iD(e,n,t)}function nD(e,n,t){return e.type&40?kt(e,t):null}var iD=nD,Dm;function oc(e,n,t,i){let r=v0(e,i,n),o=n[Ae],s=i.parent||n[xt],a=y0(s,i,n);if(r!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)xm(o,r,t[c],a,!1);else xm(o,r,t,a,!1);Dm!==void 0&&Dm(o,i,n,t,r)}function ma(e,n){if(n!==null){let t=n.type;if(t&3)return kt(n,e);if(t&4)return Bd(-1,e[n.index]);if(t&8){let i=n.child;if(i!==null)return ma(e,i);{let r=e[n.index];return Dn(r)?Bd(-1,r):un(r)}}else{if(t&32)return Uu(n,e)()||un(e[n.index]);{let i=b0(e,n);if(i!==null){if(Array.isArray(i))return i[0];let r=fo(e[zt]);return ma(r,i)}else return ma(e,n.next)}}}return null}function b0(e,n){if(n!==null){let i=e[zt][xt],r=n.projection;return i.projection[r]}return null}function Bd(e,n){let t=yt+e+1;if(t<n.length){let i=n[t],r=i[K].firstChild;if(r!==null)return ma(i,r)}return n[Ci]}function rD(e,n,t){let i=Hu(e,n);i&&eD(e,i,n,t)}function zu(e,n,t,i,r,o,s){for(;t!=null;){let a=i[t.index],c=t.type;if(s&&n===0&&(a&&Zn(un(a),i),t.flags|=2),(t.flags&32)!==32)if(c&8)zu(e,n,t.child,i,r,o,!1),or(n,e,r,a,o);else if(c&32){let h=Uu(t,i),f;for(;f=h();)or(n,e,r,f,o);or(n,e,r,a,o)}else c&16?w0(e,n,i,t,r,o):or(n,e,r,a,o);t=s?t.projectionNext:t.next}}function sc(e,n,t,i,r,o){zu(t,i,e.firstChild,n,r,o,!1)}function oD(e,n,t){let i=n[Ae],r=v0(e,t,n),o=t.parent||n[xt],s=y0(o,t,n);w0(i,0,n,t,r,s)}function w0(e,n,t,i,r,o){let s=t[zt],c=s[xt].projection[i.projection];if(Array.isArray(c))for(let h=0;h<c.length;h++){let f=c[h];or(n,e,r,f,o)}else{let h=c,f=s[Ye];Zg(i)&&(h.flags|=128),zu(e,n,h,f,r,o,!0)}}function sD(e,n,t,i,r){let o=t[Ci],s=un(t);o!==s&&or(n,e,i,o,r);for(let a=yt;a<t.length;a++){let c=t[a];sc(c[K],c,e,n,i,o)}}function aD(e,n,t,i,r){if(n)r?e.addClass(t,i):e.removeClass(t,i);else{let o=i.indexOf("-")===-1?void 0:Cn.DashCase;r==null?e.removeStyle(t,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Cn.Important),e.setStyle(t,i,r,o))}}function cD(e,n,t){e.setAttribute(n,"style",t)}function C0(e,n,t){t===""?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function x0(e,n,t){let{mergedAttrs:i,classes:r,styles:o}=t;i!==null&&Dd(e,n,i),r!==null&&C0(e,n,r),o!==null&&cD(e,n,o)}var Mn={};function m(e=1){D0(Pe(),se(),Ti()+e,!1)}function D0(e,n,t,i){if(!i)if((n[H]&3)===3){let o=e.preOrderCheckHooks;o!==null&&ha(n,o,t)}else{let o=e.preOrderHooks;o!==null&&fa(n,o,0,t)}xi(t)}function C(e,n=re.Default){let t=se();if(t===null)return y(e,n);let i=nt();return Gg(i,t,ut(e),n)}function E0(){let e="invalid";throw new Error(e)}function I0(e,n,t,i,r,o){let s=le(null);try{let a=null;r&G.SignalBased&&(a=n[i][jl]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),r&G.HasDecoratorInputTransform&&(o=e.inputTransforms[i].call(n,o)),e.setInput!==null?e.setInput(n,a,o,t,i):vg(n,a,i,o)}finally{le(s)}}function lD(e,n){let t=e.hostBindingOpCodes;if(t!==null)try{for(let i=0;i<t.length;i++){let r=t[i];if(r<0)xi(~r);else{let o=r,s=t[++i],a=t[++i];FC(s,o);let c=n[o];a(2,c)}}}finally{xi(-1)}}function ac(e,n,t,i,r,o,s,a,c,h,f){let p=n.blueprint.slice();return p[xn]=r,p[H]=i|4|128|8|64,(h!==null||e&&e[H]&2048)&&(p[H]|=2048),Dg(p),p[Ye]=p[vr]=e,p[Ot]=t,p[Ht]=s||e&&e[Ht],p[Ae]=a||e&&e[Ae],p[hr]=c||e&&e[hr]||null,p[xt]=o,p[Ya]=lx(),p[co]=f,p[mg]=h,p[zt]=n.type==2?e[zt]:p,p}function wr(e,n,t,i,r){let o=e.data[n];if(o===null)o=dD(e,n,t,i,r),NC()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=i,o.attrs=r;let s=OC();o.injectorIndex=s===null?-1:s.injectorIndex}return Mi(o,!0),o}function dD(e,n,t,i,r){let o=Mg(),s=Au(),a=s?o:o&&o.parent,c=e.data[n]=gD(e,a,t,n,i,r);return e.firstChild===null&&(e.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function S0(e,n,t,i){if(t===0)return-1;let r=n.length;for(let o=0;o<t;o++)n.push(i),e.blueprint.push(i),e.data.push(null);return r}function M0(e,n,t,i,r){let o=Ti(),s=i&2;try{xi(-1),s&&n.length>ft&&D0(e,n,ft,!1),cn(s?2:0,r),t(i,r)}finally{xi(o),cn(s?3:1,r)}}function Gu(e,n,t){if(Iu(n)){let i=le(null);try{let r=n.directiveStart,o=n.directiveEnd;for(let s=r;s<o;s++){let a=e.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{le(i)}}}function Wu(e,n,t){Ig()&&(CD(e,n,t,kt(t,n)),(t.flags&64)===64&&O0(e,n,t))}function qu(e,n,t=kt){let i=n.localNames;if(i!==null){let r=n.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?t(n,e):e[s];e[r++]=a}}}function T0(e){let n=e.tView;return n===null||n.incompleteFirstPass?e.tView=Yu(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function Yu(e,n,t,i,r,o,s,a,c,h,f){let p=ft+i,_=p+r,v=uD(p,_),w=typeof h=="function"?h():h;return v[K]={type:e,blueprint:v,template:t,queries:null,viewQuery:a,declTNode:n,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:w,incompleteFirstPass:!1,ssrId:f}}function uD(e,n){let t=[];for(let i=0;i<n;i++)t.push(i<e?null:Mn);return t}function hD(e,n,t,i){let o=i.get(gx,i0)||t===dn.ShadowDom,s=e.selectRootElement(n,o);return fD(s),s}function fD(e){pD(e)}var pD=()=>null;function mD(e,n,t,i){let r=R0(n);r.push(t),e.firstCreatePass&&N0(e).push(i,r.length-1)}function gD(e,n,t,i,r,o){let s=n?n.injectorIndex:-1,a=0;return Sg()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Em(e,n,t,i,r){for(let o in n){if(!n.hasOwnProperty(o))continue;let s=n[o];if(s===void 0)continue;i??={};let a,c=G.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let h=o;if(r!==null){if(!r.hasOwnProperty(o))continue;h=r[o]}e===0?Im(i,t,h,a,c):Im(i,t,h,a)}return i}function Im(e,n,t,i,r){let o;e.hasOwnProperty(t)?(o=e[t]).push(n,i):o=e[t]=[n,i],r!==void 0&&o.push(r)}function vD(e,n,t){let i=n.directiveStart,r=n.directiveEnd,o=e.data,s=n.attrs,a=[],c=null,h=null;for(let f=i;f<r;f++){let p=o[f],_=t?t.get(p):null,v=_?_.inputs:null,w=_?_.outputs:null;c=Em(0,p.inputs,f,c,v),h=Em(1,p.outputs,f,h,w);let x=c!==null&&s!==null&&!wu(n)?PD(c,f,s):null;a.push(x)}c!==null&&(c.hasOwnProperty("class")&&(n.flags|=8),c.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=a,n.inputs=c,n.outputs=h}function _D(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function Qu(e,n,t,i,r,o,s,a){let c=kt(n,t),h=n.inputs,f;!a&&h!=null&&(f=h[i])?(Ku(e,t,f,i,r),Qa(n)&&yD(t,n.index)):n.type&3?(i=_D(i),r=s!=null?s(r,n.value||"",i):r,o.setProperty(c,i,r)):n.type&12}function yD(e,n){let t=Xn(n,e);t[H]&16||(t[H]|=64)}function Zu(e,n,t,i){if(Ig()){let r=i===null?null:{"":-1},o=DD(e,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&A0(e,n,t,s,r,a),r&&ED(t,i,r)}t.mergedAttrs=so(t.mergedAttrs,t.attrs)}function A0(e,n,t,i,r,o){for(let h=0;h<i.length;h++)kd(Ea(t,n),e,i[h].type);SD(t,e.data.length,i.length);for(let h=0;h<i.length;h++){let f=i[h];f.providersResolver&&f.providersResolver(f)}let s=!1,a=!1,c=S0(e,n,i.length,null);for(let h=0;h<i.length;h++){let f=i[h];t.mergedAttrs=so(t.mergedAttrs,f.hostAttrs),MD(e,t,n,c,f),ID(c,f,r),f.contentQueries!==null&&(t.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(t.flags|=64);let p=f.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}vD(e,t,o)}function bD(e,n,t,i,r){let o=r.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~n.index;wD(s)!=a&&s.push(a),s.push(t,i,o)}}function wD(e){let n=e.length;for(;n>0;){let t=e[--n];if(typeof t=="number"&&t<0)return t}return 0}function CD(e,n,t,i){let r=t.directiveStart,o=t.directiveEnd;Qa(t)&&TD(n,t,e.data[r+t.componentOffset]),e.firstCreatePass||Ea(t,n),Zn(i,n);let s=t.initialInputs;for(let a=r;a<o;a++){let c=e.data[a],h=Ei(n,e,a,t);if(Zn(h,n),s!==null&&kD(n,a-r,h,c,t,s),Qn(c)){let f=Xn(t.index,n);f[Ot]=Ei(n,e,a,t)}}}function O0(e,n,t){let i=t.directiveStart,r=t.directiveEnd,o=t.index,s=LC();try{xi(o);for(let a=i;a<r;a++){let c=e.data[a],h=n[a];Ad(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&xD(c,h)}}finally{xi(-1),Ad(s)}}function xD(e,n){e.hostBindings!==null&&e.hostBindings(1,n)}function DD(e,n){let t=e.directiveRegistry,i=null,r=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(ig(n,s.selectors,!1))if(i||(i=[]),Qn(s))if(s.findHostDirectiveDefs!==null){let a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s);let c=a.length;Ud(e,n,c)}else i.unshift(s),Ud(e,n,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return i===null?null:[i,r]}function Ud(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function ED(e,n,t){if(n){let i=e.localNames=[];for(let r=0;r<n.length;r+=2){let o=t[n[r+1]];if(o==null)throw new R(-301,!1);i.push(n[r],o)}}}function ID(e,n,t){if(t){if(n.exportAs)for(let i=0;i<n.exportAs.length;i++)t[n.exportAs[i]]=e;Qn(n)&&(t[""]=e)}}function SD(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}function MD(e,n,t,i,r){e.data[i]=r;let o=r.factory||(r.factory=bi(r.type,!0)),s=new Di(o,Qn(r),C);e.blueprint[i]=s,t[i]=s,bD(e,n,i,S0(e,t,r.hostVars,Mn),r)}function TD(e,n,t){let i=kt(n,e),r=T0(t),o=e[Ht].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=cc(e,ac(e,r,null,s,i,n,null,o.createRenderer(i,t),null,null,null));e[n.index]=a}function AD(e,n,t,i,r,o){let s=kt(e,n);OD(n[Ae],s,o,e.value,t,i,r)}function OD(e,n,t,i,r,o,s){if(o==null)e.removeAttribute(n,r,t);else{let a=s==null?_o(o):s(o,i||"",r);e.setAttribute(n,r,a,t)}}function kD(e,n,t,i,r,o){let s=o[n];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],h=s[a++],f=s[a++],p=s[a++];I0(i,t,c,h,f,p)}}function PD(e,n,t){let i=null,r=0;for(;r<t.length;){let o=t[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(e.hasOwnProperty(o)){i===null&&(i=[]);let s=e[o];for(let a=0;a<s.length;a+=3)if(s[a]===n){i.push(o,s[a+1],s[a+2],t[r+1]);break}}r+=2}return i}function k0(e,n,t,i){return[e,!0,0,n,null,i,null,t,null,null]}function P0(e,n){let t=e.contentQueries;if(t!==null){let i=le(null);try{for(let r=0;r<t.length;r+=2){let o=t[r],s=t[r+1];if(s!==-1){let a=e.data[s];ku(o),a.contentQueries(2,n[s],s)}}}finally{le(i)}}}function cc(e,n){return e[uo]?e[dm][$t]=n:e[uo]=n,e[dm]=n,n}function $d(e,n,t){ku(0);let i=le(null);try{n(e,t)}finally{le(i)}}function R0(e){return e[lo]||(e[lo]=[])}function N0(e){return e.cleanup||(e.cleanup=[])}function F0(e,n){let t=e[hr],i=t?t.get(Gt,null):null;i&&i.handleError(n)}function Ku(e,n,t,i,r){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],c=t[o++],h=n[s],f=e.data[s];I0(f,h,i,a,c,r)}}function RD(e,n,t){let i=Cg(n,e);zx(e[Ae],i,t)}function ND(e,n){let t=Xn(n,e),i=t[K];FD(i,t);let r=t[xn];r!==null&&t[co]===null&&(t[co]=Vu(r,t[hr])),Xu(i,t,t[Ot])}function FD(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}function Xu(e,n,t){Pu(n);try{let i=e.viewQuery;i!==null&&$d(1,i,t);let r=e.template;r!==null&&M0(e,n,r,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),n[wn]?.finishViewCreation(e),e.staticContentQueries&&P0(e,n),e.staticViewQueries&&$d(2,e.viewQuery,t);let o=e.components;o!==null&&LD(n,o)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{n[H]&=-5,Ru()}}function LD(e,n){for(let t=0;t<n.length;t++)ND(e,n[t])}function L0(e,n,t,i){let r=le(null);try{let o=n.tView,a=e[H]&4096?4096:16,c=ac(e,o,t,a,null,n,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),h=e[n.index];c[bo]=h;let f=e[wn];return f!==null&&(c[wn]=f.createEmbeddedView(o)),Xu(o,c,t),c}finally{le(r)}}function VD(e,n){let t=yt+n;if(t<e.length)return e[t]}function Hd(e,n){return!n||n.firstChild===null||Zg(e)}function V0(e,n,t,i=!0){let r=n[K];if(Qx(r,n,e,t),i){let s=Bd(t,e),a=n[Ae],c=Hu(a,e[Ci]);c!==null&&qx(r,e[xt],a,n,c,s)}let o=n[co];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function jD(e,n){let t=Ma(e,n);return t!==void 0&&$u(t[K],t),t}function Aa(e,n,t,i,r=!1){for(;t!==null;){let o=n[t.index];o!==null&&i.push(un(o)),Dn(o)&&BD(o,i);let s=t.type;if(s&8)Aa(e,n,t.child,i);else if(s&32){let a=Uu(t,n),c;for(;c=a();)i.push(c)}else if(s&16){let a=b0(n,t);if(Array.isArray(a))i.push(...a);else{let c=fo(n[zt]);Aa(c[K],c,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function BD(e,n){for(let t=yt;t<e.length;t++){let i=e[t],r=i[K].firstChild;r!==null&&Aa(i[K],i,r,n)}e[Ci]!==e[xn]&&n.push(e[Ci])}var j0=[];function UD(e){return e[wi]??$D(e)}function $D(e){let n=j0.pop()??Object.create(zD);return n.lView=e,n}function HD(e){e.lView[wi]!==e&&(e.lView=null,j0.push(e))}var zD=de(S({},Cp),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{ho(e.lView)},consumerOnSignalRead(){this.lView[wi]=this}}),B0=100;function U0(e,n=!0,t=0){let i=e[Ht],r=i.rendererFactory,o=!1;o||r.begin?.();try{GD(e,t)}catch(s){throw n&&F0(e,s),s}finally{o||(r.end?.(),i.inlineEffectRunner?.flush())}}function GD(e,n){zd(e,n);let t=0;for(;Tu(e);){if(t===B0)throw new R(103,!1);t++,zd(e,1)}}function WD(e,n,t,i){let r=n[H];if((r&256)===256)return;let o=!1;!o&&n[Ht].inlineEffectRunner?.flush(),Pu(n);let s=null,a=null;!o&&qD(e)&&(a=UD(n),s=xp(a));try{Dg(n),RC(e.bindingStartIndex),t!==null&&M0(e,n,t,2,i);let c=(r&3)===3;if(!o)if(c){let p=e.preOrderCheckHooks;p!==null&&ha(n,p,null)}else{let p=e.preOrderHooks;p!==null&&fa(n,p,0,null),cd(n,0)}if(YD(n),$0(n,0),e.contentQueries!==null&&P0(e,n),!o)if(c){let p=e.contentCheckHooks;p!==null&&ha(n,p)}else{let p=e.contentHooks;p!==null&&fa(n,p,1),cd(n,1)}lD(e,n);let h=e.components;h!==null&&z0(n,h,0);let f=e.viewQuery;if(f!==null&&$d(2,f,i),!o)if(c){let p=e.viewCheckHooks;p!==null&&ha(n,p)}else{let p=e.viewHooks;p!==null&&fa(n,p,2),cd(n,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),n[ad]){for(let p of n[ad])p();n[ad]=null}o||(n[H]&=-73)}catch(c){throw ho(n),c}finally{a!==null&&(Dp(a,s),HD(a)),Ru()}}function qD(e){return e.type!==2}function $0(e,n){for(let t=Xg(e);t!==null;t=Jg(t))for(let i=yt;i<t.length;i++){let r=t[i];H0(r,n)}}function YD(e){for(let n=Xg(e);n!==null;n=Jg(n)){if(!(n[H]&Eu.HasTransplantedViews))continue;let t=n[fr];for(let i=0;i<t.length;i++){let r=t[i],o=r[Ye];xC(r)}}}function QD(e,n,t){let i=Xn(n,e);H0(i,t)}function H0(e,n){Mu(e)&&zd(e,n)}function zd(e,n){let i=e[K],r=e[H],o=e[wi],s=!!(n===0&&r&16);if(s||=!!(r&64&&n===0),s||=!!(r&1024),s||=!!(o?.dirty&&Bl(o)),o&&(o.dirty=!1),e[H]&=-9217,s)WD(i,e,i.template,e[Ot]);else if(r&8192){$0(e,1);let a=i.components;a!==null&&z0(e,a,1)}}function z0(e,n,t){for(let i=0;i<n.length;i++)QD(e,n[i],t)}function Ju(e){for(e[Ht].changeDetectionScheduler?.notify();e;){e[H]|=64;let n=fo(e);if(pC(e)&&!n)return e;e=n}return null}var Ii=class{get rootNodes(){let n=this._lView,t=n[K];return Aa(t,n,t.firstChild,[])}constructor(n,t,i=!0){this._lView=n,this._cdRefInjectingView=t,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ot]}set context(n){this._lView[Ot]=n}get destroyed(){return(this._lView[H]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[Ye];if(Dn(n)){let t=n[wa],i=t?t.indexOf(this):-1;i>-1&&(Ma(n,i),ya(t,i))}this._attachedToViewContainer=!1}$u(this._lView[K],this._lView)}onDestroy(n){Eg(this._lView,n)}markForCheck(){Ju(this._cdRefInjectingView||this._lView)}detach(){this._lView[H]&=-129}reattach(){Td(this._lView),this._lView[H]|=128}detectChanges(){this._lView[H]|=1024,U0(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new R(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,m0(this._lView[K],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new R(902,!1);this._appRef=n,Td(this._lView)}},Ct=(()=>{class e{static{this.__NG_ELEMENT_ID__=XD}}return e})(),ZD=Ct,KD=class extends ZD{constructor(n,t,i){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,t){return this.createEmbeddedViewImpl(n,t)}createEmbeddedViewImpl(n,t,i){let r=L0(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:t,dehydratedView:i});return new Ii(r)}};function XD(){return lc(nt(),se())}function lc(e,n){return e.type&4?new KD(n,e,br(e,n)):null}var Pj=new RegExp(`^(\\d+)*(${px}|${fx})*(.*)`);var JD=()=>null;function Gd(e,n){return JD(e,n)}var Oa=class{},Wd=class{},ka=class{};function eE(e){let n=Error(`No component factory found for ${ht(e)}.`);return n[tE]=e,n}var tE="ngComponent";var qd=class{resolveComponentFactory(n){throw eE(n)}},Jn=(()=>{class e{static{this.NULL=new qd}}return e})(),po=class{},ei=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>nE()}}return e})();function nE(){let e=se(),n=nt(),t=Xn(n.index,e);return(_i(t)?t:e)[Ae]}var iE=(()=>{class e{static{this.\u0275prov=I({token:e,providedIn:"root",factory:()=>null})}}return e})(),fd={};var Sm=new Set;function Eo(e){Sm.has(e)||(Sm.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function Mm(...e){}function rE(){let e=typeof Fe.requestAnimationFrame=="function",n=Fe[e?"requestAnimationFrame":"setTimeout"],t=Fe[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&t){let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i);let r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}var j=class e{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new oe(!1),this.onMicrotaskEmpty=new oe(!1),this.onStable=new oe(!1),this.onError=new oe(!1),typeof Zone>"u")throw new R(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=rE().nativeRequestAnimationFrame,aE(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new R(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new R(909,!1)}run(n,t,i){return this._inner.run(n,t,i)}runTask(n,t,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,n,oE,Mm,Mm);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(n,t,i){return this._inner.runGuarded(n,t,i)}runOutsideAngular(n){return this._outer.run(n)}},oE={};function eh(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function sE(e){e.isCheckStableRunning||e.lastRequestAnimationFrameId!==-1||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Fe,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Yd(e),e.isCheckStableRunning=!0,eh(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Yd(e))}function aE(e){let n=()=>{sE(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,o,s,a)=>{if(cE(a))return t.invokeTask(r,o,s,a);try{return Tm(e),t.invokeTask(r,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&n(),Am(e)}},onInvoke:(t,i,r,o,s,a,c)=>{try{return Tm(e),t.invoke(r,o,s,a,c)}finally{e.shouldCoalesceRunChangeDetection&&n(),Am(e)}},onHasTask:(t,i,r,o)=>{t.hasTask(r,o),i===r&&(o.change=="microTask"?(e._hasPendingMicrotasks=o.microTask,Yd(e),eh(e)):o.change=="macroTask"&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,i,r,o)=>(t.handleError(r,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}function Yd(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.lastRequestAnimationFrameId!==-1?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Tm(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Am(e){e._nesting--,eh(e)}var Qd=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new oe,this.onMicrotaskEmpty=new oe,this.onStable=new oe,this.onError=new oe}run(n,t,i){return n.apply(t,i)}runGuarded(n,t,i){return n.apply(t,i)}runOutsideAngular(n){return n()}runTask(n,t,i,r){return n.apply(t,i)}};function cE(e){return!Array.isArray(e)||e.length!==1?!1:e[0].data?.__ignore_ng_zone__===!0}function lE(e="zone.js",n){return e==="noop"?new Qd:e==="zone.js"?new j(n):e}var sr=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(sr||{}),dE={destroy(){}};function dc(e,n){!n&&uC(dc);let t=n?.injector??E(Re);if(!Ux(t))return dE;Eo("NgAfterNextRender");let i=t.get(th),r=i.handler??=new Kd,o=n?.phase??sr.MixedReadWrite,s=()=>{r.unregister(c),a()},a=t.get(Fu).onDestroy(s),c=Wt(t,()=>new Zd(o,()=>{s(),e()}));return r.register(c),{destroy:s}}var Zd=class{constructor(n,t){this.phase=n,this.callbackFn=t,this.zone=E(j),this.errorHandler=E(Gt,{optional:!0}),E(Oa,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(n){this.errorHandler?.handleError(n)}}},Kd=class{constructor(){this.executingCallbacks=!1,this.buckets={[sr.EarlyRead]:new Set,[sr.Write]:new Set,[sr.MixedReadWrite]:new Set,[sr.Read]:new Set},this.deferredCallbacks=new Set}register(n){(this.executingCallbacks?this.deferredCallbacks:this.buckets[n.phase]).add(n)}unregister(n){this.buckets[n.phase].delete(n),this.deferredCallbacks.delete(n)}execute(){this.executingCallbacks=!0;for(let n of Object.values(this.buckets))for(let t of n)t.invoke();this.executingCallbacks=!1;for(let n of this.deferredCallbacks)this.buckets[n.phase].add(n);this.deferredCallbacks.clear()}destroy(){for(let n of Object.values(this.buckets))n.clear();this.deferredCallbacks.clear()}},th=(()=>{class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let t=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of t)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=I({token:e,providedIn:"root",factory:()=>new e})}}return e})();function Pa(e,n,t){let i=t?e.styles:null,r=t?e.classes:null,o=0;if(n!==null)for(let s=0;s<n.length;s++){let a=n[s];if(typeof a=="number")o=a;else if(o==1)r=bd(r,a);else if(o==2){let c=a,h=n[++s];i=bd(i,c+": "+h+";")}}t?e.styles=i:e.stylesWithoutHost=i,t?e.classes=r:e.classesWithoutHost=r}var Ra=class extends Jn{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let t=Yn(n);return new mr(t,this.ngModule)}};function Om(e){let n=[];for(let t in e){if(!e.hasOwnProperty(t))continue;let i=e[t];i!==void 0&&n.push({propName:Array.isArray(i)?i[0]:i,templateName:t})}return n}function uE(e){let n=e.toLowerCase();return n==="svg"?wg:n==="math"?_C:null}var Xd=class{constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,i){i=za(i);let r=this.injector.get(n,fd,i);return r!==fd||t===fd?r:this.parentInjector.get(n,t,i)}},mr=class extends ka{get inputs(){let n=this.componentDef,t=n.inputTransforms,i=Om(n.inputs);if(t!==null)for(let r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return Om(this.componentDef.outputs)}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=Qw(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!t}create(n,t,i,r){let o=le(null);try{r=r||this.ngModule;let s=r instanceof et?r:r?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Xd(n,s):n,c=a.get(po,null);if(c===null)throw new R(407,!1);let h=a.get(iE,null),f=a.get(th,null),p=a.get(Oa,null),_={rendererFactory:c,sanitizer:h,inlineEffectRunner:null,afterRenderEventManager:f,changeDetectionScheduler:p},v=c.createRenderer(null,this.componentDef),w=this.componentDef.selectors[0][0]||"div",x=i?hD(v,i,this.componentDef.encapsulation,a):p0(v,w,uE(w)),T=512;this.componentDef.signals?T|=4096:this.componentDef.onPush||(T|=16);let P=null;x!==null&&(P=Vu(x,a,!0));let V=Yu(0,null,null,1,0,null,null,null,null,null,null),U=ac(null,V,null,T,null,null,_,v,a,null,P);Pu(U);let N,me;try{let be=this.componentDef,ne,At=null;be.findHostDirectiveDefs?(ne=[],At=new Map,be.findHostDirectiveDefs(be,ne,At),ne.push(be)):ne=[be];let ot=hE(U,x),tn=fE(ot,x,be,ne,U,_,v);me=Su(V,ft),x&&gE(v,be,x,i),t!==void 0&&vE(me,this.ngContentSelectors,t),N=mE(tn,be,ne,At,U,[_E]),Xu(V,U,null)}finally{Ru()}return new Jd(this.componentType,N,br(me,U),U,me)}finally{le(o)}}},Jd=class extends Wd{constructor(n,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Ii(r,void 0,!1),this.componentType=n}setInput(n,t){let i=this._tNode.inputs,r;if(i!==null&&(r=i[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;let o=this._rootLView;Ku(o[K],o,r,n,t),this.previousInputValues.set(n,t);let s=Xn(this._tNode.index,o);Ju(s)}}get injector(){return new yi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function hE(e,n){let t=e[K],i=ft;return e[i]=n,wr(t,i,2,"#host",null)}function fE(e,n,t,i,r,o,s){let a=r[K];pE(i,e,n,s);let c=null;n!==null&&(c=Vu(n,r[hr]));let h=o.rendererFactory.createRenderer(n,t),f=16;t.signals?f=4096:t.onPush&&(f=64);let p=ac(r,T0(t),null,f,r[e.index],e,o,h,null,null,c);return a.firstCreatePass&&Ud(a,e,i.length-1),cc(r,p),r[e.index]=p}function pE(e,n,t,i){for(let r of e)n.mergedAttrs=so(n.mergedAttrs,r.hostAttrs);n.mergedAttrs!==null&&(Pa(n,n.mergedAttrs,!0),t!==null&&x0(i,t,n))}function mE(e,n,t,i,r,o){let s=nt(),a=r[K],c=kt(s,r);A0(a,r,s,t,null,i);for(let f=0;f<t.length;f++){let p=s.directiveStart+f,_=Ei(r,a,p,s);Zn(_,r)}O0(a,r,s),c&&Zn(c,r);let h=Ei(r,a,s.directiveStart+s.componentOffset,s);if(e[Ot]=r[Ot]=h,o!==null)for(let f of o)f(h,n);return Gu(a,s,r),h}function gE(e,n,t,i){if(i)Dd(e,t,["ng-version","17.3.12"]);else{let{attrs:r,classes:o}=Zw(n.selectors[0]);r&&Dd(e,t,r),o&&o.length>0&&C0(e,t,o.join(" "))}}function vE(e,n,t){let i=e.projection=[];for(let r=0;r<n.length;r++){let o=t[r];i.push(o!=null?Array.from(o):null)}}function _E(){let e=nt();tc(se()[K],e)}var Dt=(()=>{class e{static{this.__NG_ELEMENT_ID__=yE}}return e})();function yE(){let e=nt();return W0(e,se())}var bE=Dt,G0=class extends bE{constructor(n,t,i){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=i}get element(){return br(this._hostTNode,this._hostLView)}get injector(){return new yi(this._hostTNode,this._hostLView)}get parentInjector(){let n=Nu(this._hostTNode,this._hostLView);if(jg(n)){let t=xa(n,this._hostLView),i=Ca(n),r=t[K].data[i+8];return new yi(r,t)}else return new yi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let t=km(this._lContainer);return t!==null&&t[n]||null}get length(){return this._lContainer.length-yt}createEmbeddedView(n,t,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=Gd(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,r,Hd(this._hostTNode,s)),a}createComponent(n,t,i,r,o){let s=n&&!fC(n),a;if(s)a=t;else{let w=t||{};a=w.index,i=w.injector,r=w.projectableNodes,o=w.environmentInjector||w.ngModuleRef}let c=s?n:new mr(Yn(n)),h=i||this.parentInjector;if(!o&&c.ngModule==null){let x=(s?h:this.parentInjector).get(et,null);x&&(o=x)}let f=Yn(c.componentType??{}),p=Gd(this._lContainer,f?.id??null),_=p?.firstChild??null,v=c.create(h,r,_,o);return this.insertImpl(v.hostView,a,Hd(this._hostTNode,p)),v}insert(n,t){return this.insertImpl(n,t,!0)}insertImpl(n,t,i){let r=n._lView;if(CC(r)){let a=this.indexOf(n);if(a!==-1)this.detach(a);else{let c=r[Ye],h=new G0(c,c[xt],c[Ye]);h.detach(h.indexOf(n))}}let o=this._adjustIndex(t),s=this._lContainer;return V0(s,r,o,i),n.attachToViewContainerRef(),Km(pd(s),o,n),n}move(n,t){return this.insert(n,t)}indexOf(n){let t=km(this._lContainer);return t!==null?t.indexOf(n):-1}remove(n){let t=this._adjustIndex(n,-1),i=Ma(this._lContainer,t);i&&(ya(pd(this._lContainer),t),$u(i[K],i))}detach(n){let t=this._adjustIndex(n,-1),i=Ma(this._lContainer,t);return i&&ya(pd(this._lContainer),t)!=null?new Ii(i):null}_adjustIndex(n,t=0){return n??this.length+t}};function km(e){return e[wa]}function pd(e){return e[wa]||(e[wa]=[])}function W0(e,n){let t,i=n[e.index];return Dn(i)?t=i:(t=k0(i,n,null,e),n[e.index]=t,cc(n,t)),CE(t,n,e,i),new G0(t,e,n)}function wE(e,n){let t=e[Ae],i=t.createComment(""),r=kt(n,e),o=Hu(t,r);return Ta(t,o,i,tD(t,r),!1),i}var CE=EE,xE=()=>!1;function DE(e,n,t){return xE(e,n,t)}function EE(e,n,t,i){if(e[Ci])return;let r;t.type&8?r=un(i):r=wE(n,t),e[Ci]=r}var eu=class e{constructor(n){this.queryList=n,this.matches=null}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},tu=class e{constructor(n=[]){this.queries=n}createEmbeddedView(n){let t=n.queries;if(t!==null){let i=n.contentQueries!==null?n.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new e(r)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let t=0;t<this.queries.length;t++)nh(n,t).matches!==null&&this.queries[t].setDirty()}},Na=class{constructor(n,t,i=null){this.flags=t,this.read=i,typeof n=="string"?this.predicate=PE(n):this.predicate=n}},nu=class e{constructor(n=[]){this.queries=n}elementStart(n,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(n,t)}elementEnd(n){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(n)}embeddedTView(n){let t=null;for(let i=0;i<this.length;i++){let r=t!==null?t.length:0,o=this.getByIndex(i).embeddedTView(n,r);o&&(o.indexInDeclarationView=i,t!==null?t.push(o):t=[o])}return t!==null?new e(t):null}template(n,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(n,t)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}},iu=class e{constructor(n,t=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(n,t){this.isApplyingToNode(t)&&this.matchTNode(n,t)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,t){this.elementStart(n,t)}embeddedTView(n,t){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,t),new e(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,i=n.parent;for(;i!==null&&i.type&8&&i.index!==t;)i=i.parent;return t===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(n,t){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(n,t,IE(t,o)),this.matchTNodeWithReadOption(n,t,pa(t,n,o,!1,!1))}else i===Ct?t.type&4&&this.matchTNodeWithReadOption(n,t,-1):this.matchTNodeWithReadOption(n,t,pa(t,n,i,!1,!1))}matchTNodeWithReadOption(n,t,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===ae||r===Dt||r===Ct&&t.type&4)this.addMatch(t.index,-2);else{let o=pa(t,n,r,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(n,t){this.matches===null?this.matches=[n,t]:this.matches.push(n,t)}};function IE(e,n){let t=e.localNames;if(t!==null){for(let i=0;i<t.length;i+=2)if(t[i]===n)return t[i+1]}return null}function SE(e,n){return e.type&11?br(e,n):e.type&4?lc(e,n):null}function ME(e,n,t,i){return t===-1?SE(n,e):t===-2?TE(e,n,i):Ei(e,e[K],t,n)}function TE(e,n,t){if(t===ae)return br(n,e);if(t===Ct)return lc(n,e);if(t===Dt)return W0(n,e)}function q0(e,n,t,i){let r=n[wn].queries[i];if(r.matches===null){let o=e.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let h=s[c];if(h<0)a.push(null);else{let f=o[h];a.push(ME(n,f,s[c+1],t.metadata.read))}}r.matches=a}return r.matches}function ru(e,n,t,i){let r=e.queries.getByIndex(t),o=r.matches;if(o!==null){let s=q0(e,n,r,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)i.push(s[a/2]);else{let h=o[a+1],f=n[-c];for(let p=yt;p<f.length;p++){let _=f[p];_[bo]===_[Ye]&&ru(_[K],_,h,i)}if(f[fr]!==null){let p=f[fr];for(let _=0;_<p.length;_++){let v=p[_];ru(v[K],v,h,i)}}}}}return i}function AE(e,n){return e[wn].queries[n].queryList}function Y0(e,n,t){let i=new Ia((t&4)===4);return mD(e,n,i,i.destroy),(n[wn]??=new tu).queries.push(new eu(i))-1}function OE(e,n,t){let i=Pe();return i.firstCreatePass&&(Q0(i,new Na(e,n,t),-1),(n&2)===2&&(i.staticViewQueries=!0)),Y0(i,se(),n)}function kE(e,n,t,i){let r=Pe();if(r.firstCreatePass){let o=nt();Q0(r,new Na(n,t,i),o.index),RE(r,e),(t&2)===2&&(r.staticContentQueries=!0)}return Y0(r,se(),t)}function PE(e){return e.split(",").map(n=>n.trim())}function Q0(e,n,t){e.queries===null&&(e.queries=new nu),e.queries.track(new iu(n,t))}function RE(e,n){let t=e.contentQueries||(e.contentQueries=[]),i=t.length?t[t.length-1]:-1;n!==i&&t.push(e.queries.length-1,n)}function nh(e,n){return e.queries.getByIndex(n)}function NE(e,n){let t=e[K],i=nh(t,n);return i.crossesNgTemplate?ru(t,e,n,[]):q0(t,e,i,n)}function Z0(e){return typeof e=="function"&&e[jl]!==void 0}function K0(e){return Z0(e)&&typeof e.set=="function"}function FE(e){let n=[],t=new Map;function i(r){let o=t.get(r);if(!o){let s=e(r);t.set(r,o=s.then(BE))}return o}return Fa.forEach((r,o)=>{let s=[];r.templateUrl&&s.push(i(r.templateUrl).then(h=>{r.template=h}));let a=typeof r.styles=="string"?[r.styles]:r.styles||[];if(r.styles=a,r.styleUrl&&r.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(r.styleUrls?.length){let h=r.styles.length,f=r.styleUrls;r.styleUrls.forEach((p,_)=>{a.push(""),s.push(i(p).then(v=>{a[h+_]=v,f.splice(f.indexOf(p),1),f.length==0&&(r.styleUrls=void 0)}))})}else r.styleUrl&&s.push(i(r.styleUrl).then(h=>{a.push(h),r.styleUrl=void 0}));let c=Promise.all(s).then(()=>UE(o));n.push(c)}),VE(),Promise.all(n).then(()=>{})}var Fa=new Map,LE=new Set;function VE(){let e=Fa;return Fa=new Map,e}function jE(){return Fa.size===0}function BE(e){return typeof e=="string"?e:e.text()}function UE(e){LE.delete(e)}function $E(e){return Object.getPrototypeOf(e.prototype).constructor}function We(e){let n=$E(e.type),t=!0,i=[e];for(;n;){let r;if(Qn(e))r=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new R(903,!1);r=n.\u0275dir}if(r){if(t){i.push(r);let s=e;s.inputs=ca(e.inputs),s.inputTransforms=ca(e.inputTransforms),s.declaredInputs=ca(e.declaredInputs),s.outputs=ca(e.outputs);let a=r.hostBindings;a&&qE(e,a);let c=r.viewQuery,h=r.contentQueries;if(c&&GE(e,c),h&&WE(e,h),HE(e,r),pw(e.outputs,r.outputs),Qn(r)&&r.data.animation){let f=e.data;f.animation=(f.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===We&&(t=!1)}}n=Object.getPrototypeOf(n)}zE(i)}function HE(e,n){for(let t in n.inputs){if(!n.inputs.hasOwnProperty(t)||e.inputs.hasOwnProperty(t))continue;let i=n.inputs[t];if(i!==void 0&&(e.inputs[t]=i,e.declaredInputs[t]=n.declaredInputs[t],n.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!n.inputTransforms.hasOwnProperty(r))continue;e.inputTransforms??={},e.inputTransforms[r]=n.inputTransforms[r]}}}function zE(e){let n=0,t=null;for(let i=e.length-1;i>=0;i--){let r=e[i];r.hostVars=n+=r.hostVars,r.hostAttrs=so(r.hostAttrs,t=so(t,r.hostAttrs))}}function ca(e){return e===lr?{}:e===_t?[]:e}function GE(e,n){let t=e.viewQuery;t?e.viewQuery=(i,r)=>{n(i,r),t(i,r)}:e.viewQuery=n}function WE(e,n){let t=e.contentQueries;t?e.contentQueries=(i,r,o)=>{n(i,r,o),t(i,r,o)}:e.contentQueries=n}function qE(e,n){let t=e.hostBindings;t?e.hostBindings=(i,r)=>{n(i,r),t(i,r)}:e.hostBindings=n}function qt(e){let n=e.inputConfig,t={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i];Array.isArray(r)&&r[3]&&(t[i]=r[3])}e.inputTransforms=t}var Kn=class{},mo=class{};var La=class extends Kn{constructor(n,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ra(this);let r=ag(n);this._bootstrapComponents=f0(r.bootstrap),this._r3Injector=Yg(n,t,[{provide:Kn,useValue:this},{provide:Jn,useValue:this.componentFactoryResolver},...i],ht(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},Va=class extends mo{constructor(n){super(),this.moduleType=n}create(n){return new La(this.moduleType,n,[])}};function YE(e,n,t){return new La(e,n,t)}var ou=class extends Kn{constructor(n){super(),this.componentFactoryResolver=new Ra(this),this.instance=null;let t=new ao([...n.providers,{provide:Kn,useValue:this},{provide:Jn,useValue:this.componentFactoryResolver}],n.parent||Du(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function uc(e,n,t=null){return new ou({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}var Oi=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Se(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function X0(e){return ZE(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function QE(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{let t=e[Symbol.iterator](),i;for(;!(i=t.next()).done;)n(i.value)}}function ZE(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function KE(e,n,t){return e[n]=t}function hn(e,n,t){let i=e[n];return Object.is(i,t)?!1:(e[n]=t,!0)}function XE(e,n,t,i){let r=hn(e,n,t);return hn(e,n+1,i)||r}function JE(e){return(e.flags&32)===32}function eI(e,n,t,i,r,o,s,a,c){let h=n.consts,f=wr(n,e,4,s||null,pr(h,a));Zu(n,t,f,pr(h,c)),tc(n,f);let p=f.tView=Yu(2,f,i,r,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,h,null);return n.queries!==null&&(n.queries.template(n,f),p.queries=n.queries.embeddedTView(f)),f}function L(e,n,t,i,r,o,s,a){let c=se(),h=Pe(),f=e+ft,p=h.firstCreatePass?eI(f,h,c,n,t,i,r,o,s):h.data[f];Mi(p,!1);let _=tI(h,c,p,e);Ja()&&oc(h,c,_,p),Zn(_,c);let v=k0(_,c,_,p);return c[f]=v,cc(c,v),DE(v,p,c),Za(p)&&Wu(h,c,p),s!=null&&qu(c,p,a),L}var tI=nI;function nI(e,n,t,i){return ec(!0),n[Ae].createComment("")}function he(e,n,t,i){let r=se(),o=_r();if(hn(r,o,n)){let s=Pe(),a=Ka();AD(a,r,e,n,t,i)}return he}function iI(e,n,t,i){return hn(e,_r(),t)?n+_o(t)+i:Mn}function la(e,n){return e<<17|n<<2}function Si(e){return e>>17&32767}function rI(e){return(e&2)==2}function oI(e,n){return e&131071|n<<17}function su(e){return e|2}function gr(e){return(e&131068)>>2}function md(e,n){return e&-131069|n<<2}function sI(e){return(e&1)===1}function au(e){return e|1}function aI(e,n,t,i,r,o){let s=o?n.classBindings:n.styleBindings,a=Si(s),c=gr(s);e[i]=t;let h=!1,f;if(Array.isArray(t)){let p=t;f=p[1],(f===null||yo(p,f)>0)&&(h=!0)}else f=t;if(r)if(c!==0){let _=Si(e[a+1]);e[i+1]=la(_,a),_!==0&&(e[_+1]=md(e[_+1],i)),e[a+1]=oI(e[a+1],i)}else e[i+1]=la(a,0),a!==0&&(e[a+1]=md(e[a+1],i)),a=i;else e[i+1]=la(c,0),a===0?a=i:e[c+1]=md(e[c+1],i),c=i;h&&(e[i+1]=su(e[i+1])),Pm(e,f,i,!0),Pm(e,f,i,!1),cI(n,f,e,i,o),s=la(a,c),o?n.classBindings=s:n.styleBindings=s}function cI(e,n,t,i,r){let o=r?e.residualClasses:e.residualStyles;o!=null&&typeof n=="string"&&yo(o,n)>=0&&(t[i+1]=au(t[i+1]))}function Pm(e,n,t,i){let r=e[t+1],o=n===null,s=i?Si(r):gr(r),a=!1;for(;s!==0&&(a===!1||o);){let c=e[s],h=e[s+1];lI(c,n)&&(a=!0,e[s+1]=i?au(h):su(h)),s=i?Si(h):gr(h)}a&&(e[t+1]=i?su(r):au(r))}function lI(e,n){return e===null||n==null||(Array.isArray(e)?e[1]:e)===n?!0:Array.isArray(e)&&typeof n=="string"?yo(e,n)>=0:!1}var Ut={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function dI(e){return e.substring(Ut.key,Ut.keyEnd)}function uI(e){return hI(e),J0(e,ev(e,0,Ut.textEnd))}function J0(e,n){let t=Ut.textEnd;return t===n?-1:(n=Ut.keyEnd=fI(e,Ut.key=n,t),ev(e,n,t))}function hI(e){Ut.key=0,Ut.keyEnd=0,Ut.value=0,Ut.valueEnd=0,Ut.textEnd=e.length}function ev(e,n,t){for(;n<t&&e.charCodeAt(n)<=32;)n++;return n}function fI(e,n,t){for(;n<t&&e.charCodeAt(n)>32;)n++;return n}function b(e,n,t){let i=se(),r=_r();if(hn(i,r,n)){let o=Pe(),s=Ka();Qu(o,s,i,e,n,i[Ae],t,!1)}return b}function cu(e,n,t,i,r){let o=n.inputs,s=r?"class":"style";Ku(e,t,o[s],s,i)}function Io(e,n,t){return tv(e,n,t,!1),Io}function ge(e,n){return tv(e,n,null,!0),ge}function ih(e){mI(wI,pI,e,!0)}function pI(e,n){for(let t=uI(n);t>=0;t=J0(n,t))bu(e,dI(n),!0)}function tv(e,n,t,i){let r=se(),o=Pe(),s=Tg(2);if(o.firstUpdatePass&&iv(o,e,s,i),n!==Mn&&hn(r,s,n)){let a=o.data[Ti()];rv(o,a,r,r[Ae],e,r[s+1]=xI(n,t),i,s)}}function mI(e,n,t,i){let r=Pe(),o=Tg(2);r.firstUpdatePass&&iv(r,null,o,i);let s=se();if(t!==Mn&&hn(s,o,t)){let a=r.data[Ti()];if(ov(a,i)&&!nv(r,o)){let c=i?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=bd(c,t||"")),cu(r,a,s,t,i)}else CI(r,a,s,s[Ae],s[o+1],s[o+1]=bI(e,n,t),i,o)}}function nv(e,n){return n>=e.expandoStartIndex}function iv(e,n,t,i){let r=e.data;if(r[t+1]===null){let o=r[Ti()],s=nv(e,t);ov(o,i)&&n===null&&!s&&(n=!1),n=gI(r,o,n,i),aI(r,o,n,t,s,i)}}function gI(e,n,t,i){let r=VC(e),o=i?n.residualClasses:n.residualStyles;if(r===null)(i?n.classBindings:n.styleBindings)===0&&(t=gd(null,e,n,t,i),t=go(t,n.attrs,i),o=null);else{let s=n.directiveStylingLast;if(s===-1||e[s]!==r)if(t=gd(r,e,n,t,i),o===null){let c=vI(e,n,i);c!==void 0&&Array.isArray(c)&&(c=gd(null,e,n,c[1],i),c=go(c,n.attrs,i),_I(e,n,i,c))}else o=yI(e,n,i)}return o!==void 0&&(i?n.residualClasses=o:n.residualStyles=o),t}function vI(e,n,t){let i=t?n.classBindings:n.styleBindings;if(gr(i)!==0)return e[Si(i)]}function _I(e,n,t,i){let r=t?n.classBindings:n.styleBindings;e[Si(r)]=i}function yI(e,n,t){let i,r=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<r;o++){let s=e[o].hostAttrs;i=go(i,s,t)}return go(i,n.attrs,t)}function gd(e,n,t,i,r){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=n[a],i=go(i,o.hostAttrs,r),o!==e);)a++;return e!==null&&(t.directiveStylingLast=a),i}function go(e,n,t){let i=t?1:2,r=-1;if(n!==null)for(let o=0;o<n.length;o++){let s=n[o];typeof s=="number"?r=s:r===i&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),bu(e,s,t?!0:n[++o]))}return e===void 0?null:e}function bI(e,n,t){if(t==null||t==="")return _t;let i=[],r=Ai(t);if(Array.isArray(r))for(let o=0;o<r.length;o++)e(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&e(i,o,r[o]);else typeof r=="string"&&n(i,r);return i}function wI(e,n,t){let i=String(n);i!==""&&!i.includes(" ")&&bu(e,i,t)}function CI(e,n,t,i,r,o,s,a){r===Mn&&(r=_t);let c=0,h=0,f=0<r.length?r[0]:null,p=0<o.length?o[0]:null;for(;f!==null||p!==null;){let _=c<r.length?r[c+1]:void 0,v=h<o.length?o[h+1]:void 0,w=null,x;f===p?(c+=2,h+=2,_!==v&&(w=p,x=v)):p===null||f!==null&&f<p?(c+=2,w=f):(h+=2,w=p,x=v),w!==null&&rv(e,n,t,i,w,x,s,a),f=c<r.length?r[c]:null,p=h<o.length?o[h]:null}}function rv(e,n,t,i,r,o,s,a){if(!(n.type&3))return;let c=e.data,h=c[a+1],f=sI(h)?Rm(c,n,t,r,gr(h),s):void 0;if(!ja(f)){ja(o)||rI(h)&&(o=Rm(c,null,t,r,a,s));let p=Cg(Ti(),t);aD(i,s,p,r,o)}}function Rm(e,n,t,i,r,o){let s=n===null,a;for(;r>0;){let c=e[r],h=Array.isArray(c),f=h?c[1]:c,p=f===null,_=t[r+1];_===Mn&&(_=p?_t:void 0);let v=p?od(_,i):f===i?_:void 0;if(h&&!ja(v)&&(v=od(c,i)),ja(v)&&(a=v,s))return a;let w=e[r+1];r=s?Si(w):gr(w)}if(n!==null){let c=o?n.residualClasses:n.residualStyles;c!=null&&(a=od(c,i))}return a}function ja(e){return e!==void 0}function xI(e,n){return e==null||e===""||(typeof n=="string"?e=e+n:typeof e=="object"&&(e=ht(Ai(e)))),e}function ov(e,n){return(e.flags&(n?8:16))!==0}function rh(e,n,t){Eo("NgControlFlow");let i=se(),r=_r(),o=DI(i,ft+e),s=0;if(hn(i,r,n)){let a=le(null);try{if(jD(o,s),n!==-1){let c=EI(i[K],ft+n),h=Gd(o,c.tView.ssrId),f=L0(i,c,t,{dehydratedView:h});V0(o,f,s,Hd(c,h))}}finally{le(a)}}else{let a=VD(o,s);a!==void 0&&(a[Ot]=t)}}function DI(e,n){return e[n]}function EI(e,n){return Su(e,n)}function II(e,n,t,i,r,o){let s=n.consts,a=pr(s,r),c=wr(n,e,2,i,a);return Zu(n,t,c,pr(s,o)),c.attrs!==null&&Pa(c,c.attrs,!1),c.mergedAttrs!==null&&Pa(c,c.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,c),c}function d(e,n,t,i){let r=se(),o=Pe(),s=ft+e,a=r[Ae],c=o.firstCreatePass?II(s,o,r,n,t,i):o.data[s],h=SI(o,r,c,a,n,e);r[s]=h;let f=Za(c);return Mi(c,!0),x0(a,h,c),!JE(c)&&Ja()&&oc(o,r,h,c),IC()===0&&Zn(h,r),SC(),f&&(Wu(o,r,c),Gu(o,c,r)),i!==null&&qu(r,c),d}function l(){let e=nt();Au()?Ou():(e=e.parent,Mi(e,!1));let n=e;TC(n)&&AC(),MC();let t=Pe();return t.firstCreatePass&&(tc(t,e),Iu(e)&&t.queries.elementEnd(e)),n.classesWithoutHost!=null&&WC(n)&&cu(t,n,se(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&qC(n)&&cu(t,n,se(),n.stylesWithoutHost,!1),l}function g(e,n,t,i){return d(e,n,t,i),l(),g}var SI=(e,n,t,i,r,o)=>(ec(!0),p0(i,r,$C()));function MI(e,n,t,i,r){let o=n.consts,s=pr(o,i),a=wr(n,e,8,"ng-container",s);s!==null&&Pa(a,s,!0);let c=pr(o,r);return Zu(n,t,a,c),n.queries!==null&&n.queries.elementStart(n,a),a}function Le(e,n,t){let i=se(),r=Pe(),o=e+ft,s=r.firstCreatePass?MI(o,r,i,n,t):r.data[o];Mi(s,!0);let a=TI(r,i,s,e);return i[o]=a,Ja()&&oc(r,i,a,s),Zn(a,i),Za(s)&&(Wu(r,i,s),Gu(r,s,i)),t!=null&&qu(i,s),Le}function Ve(){let e=nt(),n=Pe();return Au()?Ou():(e=e.parent,Mi(e,!1)),n.firstCreatePass&&(tc(n,e),Iu(e)&&n.queries.elementEnd(e)),Ve}function ki(e,n,t){return Le(e,n,t),Ve(),ki}var TI=(e,n,t,i)=>(ec(!0),Gx(n[Ae],""));function W(){return se()}function Cr(e,n,t){let i=se(),r=_r();if(hn(i,r,n)){let o=Pe(),s=Ka();Qu(o,s,i,e,n,i[Ae],t,!0)}return Cr}var vi=void 0;function AI(e){let n=e,t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*\.?/,"").length;return t===1&&i===0?1:5}var OI=["en",[["a","p"],["AM","PM"],vi],[["AM","PM"],vi,vi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],vi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],vi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",vi,"{1} 'at' {0}",vi],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",AI],vd={};function Et(e){let n=kI(e),t=Nm(n);if(t)return t;let i=n.split("-")[0];if(t=Nm(i),t)return t;if(i==="en")return OI;throw new R(701,!1)}function Nm(e){return e in vd||(vd[e]=Fe.ng&&Fe.ng.common&&Fe.ng.common.locales&&Fe.ng.common.locales[e]),vd[e]}var Ne=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Ne||{});function kI(e){return e.toLowerCase().replace(/_/g,"-")}var Ba="en-US";var PI=Ba;function RI(e){typeof e=="string"&&(PI=e.toLowerCase().replace(/_/g,"-"))}function M(e,n,t,i){let r=se(),o=Pe(),s=nt();return sv(o,r,r[Ae],s,e,n,i),M}function NI(e,n,t,i){let r=e.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===t&&r[o+1]===i){let a=n[lo],c=r[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function sv(e,n,t,i,r,o,s){let a=Za(i),h=e.firstCreatePass&&N0(e),f=n[Ot],p=R0(n),_=!0;if(i.type&3||s){let x=kt(i,n),T=s?s(x):x,P=p.length,V=s?N=>s(un(N[i.index])):i.index,U=null;if(!s&&a&&(U=NI(e,n,r,i.index)),U!==null){let N=U.__ngLastListenerFn__||U;N.__ngNextListenerFn__=o,U.__ngLastListenerFn__=o,_=!1}else{o=Lm(i,n,f,o,!1);let N=t.listen(T,r,o);p.push(o,N),h&&h.push(r,V,P,P+1)}}else o=Lm(i,n,f,o,!1);let v=i.outputs,w;if(_&&v!==null&&(w=v[r])){let x=w.length;if(x)for(let T=0;T<x;T+=2){let P=w[T],V=w[T+1],me=n[P][V].subscribe(o),be=p.length;p.push(o,me),h&&h.push(r,i.index,be,-(be+1))}}}function Fm(e,n,t,i){let r=le(null);try{return cn(6,n,t),t(i)!==!1}catch(o){return F0(e,o),!1}finally{cn(7,n,t),le(r)}}function Lm(e,n,t,i,r){return function o(s){if(s===Function)return i;let a=e.componentOffset>-1?Xn(e.index,n):n;Ju(a);let c=Fm(n,t,i,s),h=o.__ngNextListenerFn__;for(;h;)c=Fm(n,t,h,s)&&c,h=h.__ngNextListenerFn__;return r&&c===!1&&s.preventDefault(),c}}function D(e=1){return BC(e)}function FI(e,n){let t=null,i=zw(e);for(let r=0;r<n.length;r++){let o=n[r];if(o==="*"){t=r;continue}if(i===null?ig(e,o,!0):qw(i,o))return r}return t}function Tn(e){let n=se()[zt][xt];if(!n.projection){let t=e?e.length:1,i=n.projection=Nw(t,null),r=i.slice(),o=n.child;for(;o!==null;){let s=e?FI(o,e):0;s!==null&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function An(e,n=0,t){let i=se(),r=Pe(),o=wr(r,ft+e,16,null,t||null);o.projection===null&&(o.projection=n),Ou(),(!i[co]||Sg())&&(o.flags&32)!==32&&oD(r,i,o)}function av(e,n,t,i){kE(e,n,t,i)}function pt(e,n,t){OE(e,n,t)}function Qe(e){let n=se(),t=Pe(),i=Ag();ku(i+1);let r=nh(t,i);if(e.dirty&&wC(n)===((r.metadata.flags&2)===2)){if(r.matches===null)e.reset([]);else{let o=NE(n,i);e.reset(o,sx),e.notifyOnChanges()}return!0}return!1}function Ze(){return AE(se(),Ag())}function LI(e,n,t,i){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),n[t]=i}function Yt(e){let n=kC();return xg(n,ft+e)}function u(e,n=""){let t=se(),i=Pe(),r=e+ft,o=i.firstCreatePass?wr(i,r,1,n,null):i.data[r],s=VI(i,t,o,n,e);t[r]=s,Ja()&&oc(i,t,s,o),Mi(o,!1)}var VI=(e,n,t,i,r)=>(ec(!0),Hx(n[Ae],i));function Te(e){return Oe("",e,""),Te}function Oe(e,n,t){let i=se(),r=iI(i,e,n,t);return r!==Mn&&RD(i,Ti(),r),Oe}function So(e,n,t){K0(n)&&(n=n());let i=se(),r=_r();if(hn(i,r,n)){let o=Pe(),s=Ka();Qu(o,s,i,e,n,i[Ae],t,!1)}return So}function hc(e,n){let t=K0(e);return t&&e.set(n),t}function Mo(e,n){let t=se(),i=Pe(),r=nt();return sv(i,t,t[Ae],r,e,n),Mo}function jI(e,n,t){let i=Pe();if(i.firstCreatePass){let r=Qn(e);lu(t,i.data,i.blueprint,r,!0),lu(n,i.data,i.blueprint,r,!1)}}function lu(e,n,t,i,r){if(e=ut(e),Array.isArray(e))for(let o=0;o<e.length;o++)lu(e[o],n,t,i,r);else{let o=Pe(),s=se(),a=nt(),c=ur(e)?e:ut(e.provide),h=fg(e),f=a.providerIndexes&1048575,p=a.directiveStart,_=a.providerIndexes>>20;if(ur(e)||!e.multi){let v=new Di(h,r,C),w=yd(c,n,r?f:f+_,p);w===-1?(kd(Ea(a,s),o,c),_d(o,e,n.length),n.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(v),s.push(v)):(t[w]=v,s[w]=v)}else{let v=yd(c,n,f+_,p),w=yd(c,n,f,f+_),x=v>=0&&t[v],T=w>=0&&t[w];if(r&&!T||!r&&!x){kd(Ea(a,s),o,c);let P=$I(r?UI:BI,t.length,r,i,h);!r&&T&&(t[w].providerFactory=P),_d(o,e,n.length,0),n.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(P),s.push(P)}else{let P=cv(t[r?w:v],h,!r&&i);_d(o,e,v>-1?v:w,P)}!r&&i&&T&&t[w].componentProviders++}}}function _d(e,n,t,i){let r=ur(n),o=rC(n);if(r||o){let c=(o?ut(n.useClass):n).prototype.ngOnDestroy;if(c){let h=e.destroyHooks||(e.destroyHooks=[]);if(!r&&n.multi){let f=h.indexOf(t);f===-1?h.push(t,[i,c]):h[f+1].push(i,c)}else h.push(t,c)}}}function cv(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function yd(e,n,t,i){for(let r=t;r<i;r++)if(n[r]===e)return r;return-1}function BI(e,n,t,i){return du(this.multi,[])}function UI(e,n,t,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Ei(t,t[K],this.providerFactory.index,i);o=a.slice(0,s),du(r,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],du(r,o);return o}function du(e,n){for(let t=0;t<e.length;t++){let i=e[t];n.push(i())}return n}function $I(e,n,t,i,r){let o=new Di(e,t,C);return o.multi=[],o.index=n,o.componentProviders=0,cv(o,r,i&&!t),o}function Pt(e,n=[]){return t=>{t.providersResolver=(i,r)=>jI(i,r?r(e):e,n)}}var HI=(()=>{class e{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let i=dg(!1,t.type),r=i.length>0?uc([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=I({token:e,providedIn:"environment",factory:()=>new e(y(et))})}}return e})();function je(e){Eo("NgStandalone"),e.getStandaloneInjector=n=>n.get(HI).getOrCreateStandaloneInjector(e)}function zI(e,n){let t=e[n];return t===Mn?void 0:t}function GI(e,n,t,i,r,o,s){let a=n+t;return XE(e,a,r,o)?KE(e,a+2,s?i.call(s,r,o):i(r,o)):zI(e,a+2)}function To(e,n){let t=Pe(),i,r=e+ft;t.firstCreatePass?(i=WI(n,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];let o=i.factory||(i.factory=bi(i.type,!0)),s,a=vt(C);try{let c=Da(!1),h=o();return Da(c),LI(t,se(),r,h),h}finally{vt(a)}}function WI(e,n){if(n)for(let t=n.length-1;t>=0;t--){let i=n[t];if(e===i.name)return i}}function Ao(e,n,t,i){let r=e+ft,o=se(),s=xg(o,r);return qI(o,r)?GI(o,PC(),n,s.transform,t,i,s):s.transform(t,i)}function qI(e,n){return e[K].data[n].pure}function On(e,n){return lc(e,n)}var da=null;function YI(e){da!==null&&(e.defaultEncapsulation!==da.defaultEncapsulation||e.preserveWhitespaces!==da.preserveWhitespaces)||(da=e)}var fc=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();var oh=new k(""),Oo=new k(""),pc=(()=>{class e{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,sh||(QI(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{j.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(t)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t()},i)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}static{this.\u0275fac=function(i){return new(i||e)(y(j),y(mc),y(Oo))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac})}}return e})(),mc=(()=>{class e{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return sh?.findTestabilityInTree(this,t,i)??null}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function QI(e){sh=e}var sh;function Pi(e){return!!e&&typeof e.then=="function"}function lv(e){return!!e&&typeof e.subscribe=="function"}var gc=new k(""),dv=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=E(gc,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let r of this.appInits){let o=r();if(Pi(o))t.push(o);else if(lv(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),t.length===0&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),vc=new k("");function ZI(){Ip(()=>{throw new R(600,!1)})}function KI(e){return e.isBoundToModule}function XI(e,n,t){try{let i=t();return Pi(i)?i.catch(r=>{throw n.runOutsideAngular(()=>e.handleError(r)),r}):i}catch(i){throw n.runOutsideAngular(()=>e.handleError(i)),i}}function uv(e,n){return Array.isArray(n)?n.reduce(uv,e):S(S({},e),n)}var kn=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=E(Qg),this.afterRenderEffectManager=E(th),this.externalTestViews=new Set,this.beforeRender=new z,this.afterTick=new z,this.componentTypes=[],this.components=[],this.isStable=E(Oi).hasPendingTasks.pipe($(t=>!t)),this._injector=E(et)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){let r=t instanceof ka;if(!this._injector.get(dv).done){let _=!r&&sg(t),v=!1;throw new R(405,v)}let s;r?s=t:s=this._injector.get(Jn).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=KI(s)?void 0:this._injector.get(Kn),c=i||s.selector,h=s.create(Re.NULL,[],c,a),f=h.location.nativeElement,p=h.injector.get(oh,null);return p?.registerApplication(f),h.onDestroy(()=>{this.detachView(h.hostView),ga(this.components,h),p?.unregisterApplication(f)}),this._loadComponent(h),h}tick(){this._tick(!0)}_tick(t){if(this._runningTick)throw new R(101,!1);let i=le(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(t)}catch(r){this.internalErrorHandler(r)}finally{this.afterTick.next(),this._runningTick=!1,le(i)}}detectChangesInAttachedViews(t){let i=0,r=this.afterRenderEffectManager;for(;;){if(i===B0)throw new R(103,!1);if(t){let o=i===0;this.beforeRender.next(o);for(let{_lView:s,notifyErrorHandler:a}of this._views)JI(s,o,a)}if(i++,r.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>uu(o))&&(r.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>uu(o))))break}}attachView(t){let i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){let i=t;ga(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let i=this._injector.get(vc,[]);[...this._bootstrapListeners,...i].forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>ga(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new R(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function ga(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function JI(e,n,t){!n&&!uu(e)||eS(e,t,n)}function uu(e){return Tu(e)}function eS(e,n,t){let i;t?(i=0,e[H]|=1024):e[H]&64?i=0:i=1,U0(e,n,i)}var hu=class{constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}},_c=(()=>{class e{compileModuleSync(t){return new Va(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let i=this.compileModuleSync(t),r=ag(t),o=f0(r.declarations).reduce((s,a)=>{let c=Yn(a);return c&&s.push(new mr(c)),s},[]);return new hu(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),tS=new k("");function nS(e,n,t){let i=new Va(t);return Promise.resolve(i)}function Vm(e){for(let n=e.length-1;n>=0;n--)if(e[n]!==void 0)return e[n]}var iS=(()=>{class e{constructor(){this.zone=E(j),this.applicationRef=E(kn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function rS(e){return[{provide:j,useFactory:e},{provide:dr,multi:!0,useFactory:()=>{let n=E(iS,{optional:!0});return()=>n.initialize()}},{provide:dr,multi:!0,useFactory:()=>{let n=E(aS);return()=>{n.initialize()}}},{provide:Qg,useFactory:oS}]}function oS(){let e=E(j),n=E(Gt);return t=>e.runOutsideAngular(()=>n.handleError(t))}function sS(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var aS=(()=>{class e{constructor(){this.subscription=new xe,this.initialized=!1,this.zone=E(j),this.pendingTasks=E(Oi)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{j.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{j.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function cS(){return typeof $localize<"u"&&$localize.locale||Ba}var xr=new k("",{providedIn:"root",factory:()=>E(xr,re.Optional|re.SkipSelf)||cS()});var hv=new k(""),fv=(()=>{class e{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){let r=lE(i?.ngZone,sS({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{let o=YE(t.moduleType,this.injector,rS(()=>r)),s=o.injector.get(Gt,null);return r.runOutsideAngular(()=>{let a=r.onError.subscribe({next:c=>{s.handleError(c)}});o.onDestroy(()=>{ga(this._modules,o),a.unsubscribe()})}),XI(s,r,()=>{let a=o.injector.get(dv);return a.runInitializers(),a.donePromise.then(()=>{let c=o.injector.get(xr,Ba);return RI(c||Ba),this._moduleDoBootstrap(o),o})})})}bootstrapModule(t,i=[]){let r=uv({},i);return nS(this.injector,r,t).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(t){let i=t.injector.get(kn);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(i);else throw new R(-403,!1);this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new R(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let t=this._injector.get(hv,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(i){return new(i||e)(y(Re))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),ro=null,pv=new k("");function lS(e){if(ro&&!ro.get(pv,!1))throw new R(400,!1);ZI(),ro=e;let n=e.get(fv);return hS(e),n}function ah(e,n,t=[]){let i=`Platform: ${n}`,r=new k(i);return(o=[])=>{let s=mv();if(!s||s.injector.get(pv,!1)){let a=[...t,...o,{provide:r,useValue:!0}];e?e(a):lS(dS(a,i))}return uS(r)}}function dS(e=[],n){return Re.create({name:n,providers:[{provide:qa,useValue:"platform"},{provide:hv,useValue:new Set([()=>ro=null])},...e]})}function uS(e){let n=mv();if(!n)throw new R(401,!1);return n}function mv(){return ro?.get(fv)??null}function hS(e){e.get(Lu,null)?.forEach(t=>t())}var Ue=(()=>{class e{static{this.__NG_ELEMENT_ID__=fS}}return e})();function fS(e){return pS(nt(),se(),(e&16)===16)}function pS(e,n,t){if(Qa(e)&&!t){let i=Xn(e.index,n);return new Ii(i,i)}else if(e.type&47){let i=n[zt];return new Ii(i,n)}return null}var fu=class{constructor(){}supports(n){return X0(n)}create(n){return new pu(n)}},mS=(e,n)=>n,pu=class{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||mS}forEachItem(n){let t;for(t=this._itHead;t!==null;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){let s=!i||t&&t.currentIndex<jm(i,r,o)?t:i,a=jm(s,r,o),c=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,s.previousIndex==null)r++;else{o||(o=[]);let h=a-r,f=c-r;if(h!=f){for(let _=0;_<h;_++){let v=_<o.length?o[_]:o[_]=0,w=v+_;f<=w&&w<h&&(o[_]=v+1)}let p=s.previousIndex;o[p]=f-h}}a!==c&&n(s,a,c)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)n(t)}diff(n){if(n==null&&(n=[]),!X0(n))throw new R(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._itHead,i=!1,r,o,s;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),i=!0):(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else r=0,QE(n,a=>{s=this._trackByFn(r,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,r),i=!0):(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;n!==null;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;n!==null;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,i,r){let o;return n===null?o=this._itTail:(o=n._prev,this._remove(n)),n=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),n!==null?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,o,r)):(n=this._linkedRecords===null?null:this._linkedRecords.get(i,r),n!==null?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,o,r)):n=this._addAfter(new mu(t,i),o,r)),n}_verifyReinsertion(n,t,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?n=this._reinsertAfter(o,n._prev,r):n.currentIndex!=r&&(n.currentIndex=r,this._addToMoves(n,r)),n}_truncate(n){for(;n!==null;){let t=n._next;this._addToRemovals(this._unlink(n)),n=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(n);let r=n._prevRemoved,o=n._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(n,t,i),this._addToMoves(n,i),n}_moveAfter(n,t,i){return this._unlink(n),this._insertAfter(n,t,i),this._addToMoves(n,i),n}_addAfter(n,t,i){return this._insertAfter(n,t,i),this._additionsTail===null?this._additionsTail=this._additionsHead=n:this._additionsTail=this._additionsTail._nextAdded=n,n}_insertAfter(n,t,i){let r=t===null?this._itHead:t._next;return n._next=r,n._prev=t,r===null?this._itTail=n:r._prev=n,t===null?this._itHead=n:t._next=n,this._linkedRecords===null&&(this._linkedRecords=new Ua),this._linkedRecords.put(n),n.currentIndex=i,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){this._linkedRecords!==null&&this._linkedRecords.remove(n);let t=n._prev,i=n._next;return t===null?this._itHead=i:t._next=i,i===null?this._itTail=t:i._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=n:this._movesTail=this._movesTail._nextMoved=n),n}_addToRemovals(n){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ua),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=n:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=n,n}},mu=class{constructor(n,t){this.item=n,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},gu=class{constructor(){this._head=null,this._tail=null}add(n){this._head===null?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let i;for(i=this._head;i!==null;i=i._nextDup)if((t===null||t<=i.currentIndex)&&Object.is(i.trackById,n))return i;return null}remove(n){let t=n._prevDup,i=n._nextDup;return t===null?this._head=i:t._nextDup=i,i===null?this._tail=t:i._prevDup=t,this._head===null}},Ua=class{constructor(){this.map=new Map}put(n){let t=n.trackById,i=this.map.get(t);i||(i=new gu,this.map.set(t,i)),i.add(n)}get(n,t){let i=n,r=this.map.get(i);return r?r.get(n,t):null}remove(n){let t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function jm(e,n,t){let i=e.previousIndex;if(i===null)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+n+r}function Bm(){return new yc([new fu])}var yc=(()=>{class e{static{this.\u0275prov=I({token:e,providedIn:"root",factory:Bm})}constructor(t){this.factories=t}static create(t,i){if(i!=null){let r=i.factories.slice();t=t.concat(r)}return new e(t)}static extend(t){return{provide:e,useFactory:i=>e.create(t,i||Bm()),deps:[[e,new _u,new Ga]]}}find(t){let i=this.factories.find(r=>r.supports(t));if(i!=null)return i;throw new R(901,!1)}}return e})();var gv=ah(null,"core",[]),vv=(()=>{class e{constructor(t){}static{this.\u0275fac=function(i){return new(i||e)(y(kn))}}static{this.\u0275mod=Y({type:e})}static{this.\u0275inj=q({})}}return e})();function rt(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function ch(e,n=NaN){return!isNaN(parseFloat(e))&&!isNaN(Number(e))?Number(e):n}function _v(e){let n=Yn(e);if(!n)return null;let t=new mr(n);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}var Ev=null;function pn(){return Ev}function Iv(e){Ev??=e}var Mc=class{};var Q=new k(""),yh=(()=>{class e{historyGo(t){throw new Error("")}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=I({token:e,factory:()=>E(gS),providedIn:"platform"})}}return e})(),Sv=new k(""),gS=(()=>{class e extends yh{constructor(){super(),this._doc=E(Q),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return pn().getBaseHref(this._doc)}onPopState(t){let i=pn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){let i=pn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=I({token:e,factory:()=>new e,providedIn:"platform"})}}return e})();function bh(e,n){if(e.length==0)return n;if(n.length==0)return e;let t=0;return e.endsWith("/")&&t++,n.startsWith("/")&&t++,t==2?e+n.substring(1):t==1?e+n:e+"/"+n}function yv(e){let n=e.match(/#|\?|$/),t=n&&n.index||e.length,i=t-(e[t-1]==="/"?1:0);return e.slice(0,i)+e.slice(t)}function Rn(e){return e&&e[0]!=="?"?"?"+e:e}var Ln=(()=>{class e{historyGo(t){throw new Error("")}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=I({token:e,factory:()=>E(wh),providedIn:"root"})}}return e})(),Mv=new k(""),wh=(()=>{class e extends Ln{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??E(Q).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return bh(this._baseHref,t)}path(t=!1){let i=this._platformLocation.pathname+Rn(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+Rn(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+Rn(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||e)(y(yh),y(Mv,8))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Tv=(()=>{class e extends Ln{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(t){let i=bh(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+Rn(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+Rn(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||e)(y(yh),y(Mv,8))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac})}}return e})(),mn=(()=>{class e{constructor(t){this._subject=new oe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let i=this._locationStrategy.getBaseHref();this._basePath=yS(yv(bv(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Rn(i))}normalize(t){return e.stripTrailingSlash(_S(this._basePath,bv(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Rn(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Rn(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static{this.normalizeQueryParams=Rn}static{this.joinWithSlash=bh}static{this.stripTrailingSlash=yv}static{this.\u0275fac=function(i){return new(i||e)(y(Ln))}}static{this.\u0275prov=I({token:e,factory:()=>vS(),providedIn:"root"})}}return e})();function vS(){return new mn(y(Ln))}function _S(e,n){if(!e||!n.startsWith(e))return n;let t=n.substring(e.length);return t===""||["/",";","?","#"].includes(t[0])?t:n}function bv(e){return e.replace(/\/index.html$/,"")}function yS(e){if(new RegExp("^(https?:)?//").test(e)){let[,t]=e.split(/\/\/[^\/]+/);return t}return e}var Av=function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e}(Av||{});var mt=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(mt||{}),Ce=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(Ce||{}),It=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(It||{}),St={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function bS(e){return Et(e)[Ne.LocaleId]}function wS(e,n,t){let i=Et(e),r=[i[Ne.DayPeriodsFormat],i[Ne.DayPeriodsStandalone]],o=Rt(r,n);return Rt(o,t)}function CS(e,n,t){let i=Et(e),r=[i[Ne.DaysFormat],i[Ne.DaysStandalone]],o=Rt(r,n);return Rt(o,t)}function xS(e,n,t){let i=Et(e),r=[i[Ne.MonthsFormat],i[Ne.MonthsStandalone]],o=Rt(r,n);return Rt(o,t)}function DS(e,n){let i=Et(e)[Ne.Eras];return Rt(i,n)}function bc(e,n){let t=Et(e);return Rt(t[Ne.DateFormat],n)}function wc(e,n){let t=Et(e);return Rt(t[Ne.TimeFormat],n)}function Cc(e,n){let i=Et(e)[Ne.DateTimeFormat];return Rt(i,n)}function Nn(e,n){let t=Et(e),i=t[Ne.NumberSymbols][n];if(typeof i>"u"){if(n===St.CurrencyDecimal)return t[Ne.NumberSymbols][St.Decimal];if(n===St.CurrencyGroup)return t[Ne.NumberSymbols][St.Group]}return i}function ES(e,n){return Et(e)[Ne.NumberFormats][n]}function Ov(e){if(!e[Ne.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[Ne.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function IS(e){let n=Et(e);return Ov(n),(n[Ne.ExtraData][2]||[]).map(i=>typeof i=="string"?lh(i):[lh(i[0]),lh(i[1])])}function SS(e,n,t){let i=Et(e);Ov(i);let r=[i[Ne.ExtraData][0],i[Ne.ExtraData][1]],o=Rt(r,n)||[];return Rt(o,t)||[]}function Rt(e,n){for(let t=n;t>-1;t--)if(typeof e[t]<"u")return e[t];throw new Error("Locale data API: locale data undefined")}function lh(e){let[n,t]=e.split(":");return{hours:+n,minutes:+t}}var MS=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,xc={},TS=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Fn=function(e){return e[e.Short=0]="Short",e[e.ShortGMT=1]="ShortGMT",e[e.Long=2]="Long",e[e.Extended=3]="Extended",e}(Fn||{}),pe=function(e){return e[e.FullYear=0]="FullYear",e[e.Month=1]="Month",e[e.Date=2]="Date",e[e.Hours=3]="Hours",e[e.Minutes=4]="Minutes",e[e.Seconds=5]="Seconds",e[e.FractionalSeconds=6]="FractionalSeconds",e[e.Day=7]="Day",e}(pe||{}),fe=function(e){return e[e.DayPeriods=0]="DayPeriods",e[e.Days=1]="Days",e[e.Months=2]="Months",e[e.Eras=3]="Eras",e}(fe||{});function AS(e,n,t,i){let r=jS(e);n=Pn(t,n)||n;let s=[],a;for(;n;)if(a=TS.exec(n),a){s=s.concat(a.slice(1));let f=s.pop();if(!f)break;n=f}else{s.push(n);break}let c=r.getTimezoneOffset();i&&(c=Pv(i,c),r=VS(r,i,!0));let h="";return s.forEach(f=>{let p=FS(f);h+=p?p(r,t,c):f==="''"?"'":f.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),h}function Tc(e,n,t){let i=new Date(0);return i.setFullYear(e,n,t),i.setHours(0,0,0),i}function Pn(e,n){let t=bS(e);if(xc[t]??={},xc[t][n])return xc[t][n];let i="";switch(n){case"shortDate":i=bc(e,It.Short);break;case"mediumDate":i=bc(e,It.Medium);break;case"longDate":i=bc(e,It.Long);break;case"fullDate":i=bc(e,It.Full);break;case"shortTime":i=wc(e,It.Short);break;case"mediumTime":i=wc(e,It.Medium);break;case"longTime":i=wc(e,It.Long);break;case"fullTime":i=wc(e,It.Full);break;case"short":let r=Pn(e,"shortTime"),o=Pn(e,"shortDate");i=Dc(Cc(e,It.Short),[r,o]);break;case"medium":let s=Pn(e,"mediumTime"),a=Pn(e,"mediumDate");i=Dc(Cc(e,It.Medium),[s,a]);break;case"long":let c=Pn(e,"longTime"),h=Pn(e,"longDate");i=Dc(Cc(e,It.Long),[c,h]);break;case"full":let f=Pn(e,"fullTime"),p=Pn(e,"fullDate");i=Dc(Cc(e,It.Full),[f,p]);break}return i&&(xc[t][n]=i),i}function Dc(e,n){return n&&(e=e.replace(/\{([^}]+)}/g,function(t,i){return n!=null&&i in n?n[i]:t})),e}function Qt(e,n,t="-",i,r){let o="";(e<0||r&&e<=0)&&(r?e=-e+1:(e=-e,o=t));let s=String(e);for(;s.length<n;)s="0"+s;return i&&(s=s.slice(s.length-n)),o+s}function OS(e,n){return Qt(e,3).substring(0,n)}function $e(e,n,t=0,i=!1,r=!1){return function(o,s){let a=kS(e,o);if((t>0||a>-t)&&(a+=t),e===pe.Hours)a===0&&t===-12&&(a=12);else if(e===pe.FractionalSeconds)return OS(a,n);let c=Nn(s,St.MinusSign);return Qt(a,n,c,i,r)}}function kS(e,n){switch(e){case pe.FullYear:return n.getFullYear();case pe.Month:return n.getMonth();case pe.Date:return n.getDate();case pe.Hours:return n.getHours();case pe.Minutes:return n.getMinutes();case pe.Seconds:return n.getSeconds();case pe.FractionalSeconds:return n.getMilliseconds();case pe.Day:return n.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}function Ie(e,n,t=mt.Format,i=!1){return function(r,o){return PS(r,o,e,n,t,i)}}function PS(e,n,t,i,r,o){switch(t){case fe.Months:return xS(n,r,i)[e.getMonth()];case fe.Days:return CS(n,r,i)[e.getDay()];case fe.DayPeriods:let s=e.getHours(),a=e.getMinutes();if(o){let h=IS(n),f=SS(n,r,i),p=h.findIndex(_=>{if(Array.isArray(_)){let[v,w]=_,x=s>=v.hours&&a>=v.minutes,T=s<w.hours||s===w.hours&&a<w.minutes;if(v.hours<w.hours){if(x&&T)return!0}else if(x||T)return!0}else if(_.hours===s&&_.minutes===a)return!0;return!1});if(p!==-1)return f[p]}return wS(n,r,i)[s<12?0:1];case fe.Eras:return DS(n,i)[e.getFullYear()<=0?0:1];default:let c=t;throw new Error(`unexpected translation type ${c}`)}}function Ec(e){return function(n,t,i){let r=-1*i,o=Nn(t,St.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(e){case Fn.Short:return(r>=0?"+":"")+Qt(s,2,o)+Qt(Math.abs(r%60),2,o);case Fn.ShortGMT:return"GMT"+(r>=0?"+":"")+Qt(s,1,o);case Fn.Long:return"GMT"+(r>=0?"+":"")+Qt(s,2,o)+":"+Qt(Math.abs(r%60),2,o);case Fn.Extended:return i===0?"Z":(r>=0?"+":"")+Qt(s,2,o)+":"+Qt(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${e}"`)}}}var RS=0,Sc=4;function NS(e){let n=Tc(e,RS,1).getDay();return Tc(e,0,1+(n<=Sc?Sc:Sc+7)-n)}function kv(e){let n=e.getDay(),t=n===0?-3:Sc-n;return Tc(e.getFullYear(),e.getMonth(),e.getDate()+t)}function dh(e,n=!1){return function(t,i){let r;if(n){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();r=1+Math.floor((s+o)/7)}else{let o=kv(t),s=NS(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return Qt(r,e,Nn(i,St.MinusSign))}}function Ic(e,n=!1){return function(t,i){let o=kv(t).getFullYear();return Qt(o,e,Nn(i,St.MinusSign),n)}}var uh={};function FS(e){if(uh[e])return uh[e];let n;switch(e){case"G":case"GG":case"GGG":n=Ie(fe.Eras,Ce.Abbreviated);break;case"GGGG":n=Ie(fe.Eras,Ce.Wide);break;case"GGGGG":n=Ie(fe.Eras,Ce.Narrow);break;case"y":n=$e(pe.FullYear,1,0,!1,!0);break;case"yy":n=$e(pe.FullYear,2,0,!0,!0);break;case"yyy":n=$e(pe.FullYear,3,0,!1,!0);break;case"yyyy":n=$e(pe.FullYear,4,0,!1,!0);break;case"Y":n=Ic(1);break;case"YY":n=Ic(2,!0);break;case"YYY":n=Ic(3);break;case"YYYY":n=Ic(4);break;case"M":case"L":n=$e(pe.Month,1,1);break;case"MM":case"LL":n=$e(pe.Month,2,1);break;case"MMM":n=Ie(fe.Months,Ce.Abbreviated);break;case"MMMM":n=Ie(fe.Months,Ce.Wide);break;case"MMMMM":n=Ie(fe.Months,Ce.Narrow);break;case"LLL":n=Ie(fe.Months,Ce.Abbreviated,mt.Standalone);break;case"LLLL":n=Ie(fe.Months,Ce.Wide,mt.Standalone);break;case"LLLLL":n=Ie(fe.Months,Ce.Narrow,mt.Standalone);break;case"w":n=dh(1);break;case"ww":n=dh(2);break;case"W":n=dh(1,!0);break;case"d":n=$e(pe.Date,1);break;case"dd":n=$e(pe.Date,2);break;case"c":case"cc":n=$e(pe.Day,1);break;case"ccc":n=Ie(fe.Days,Ce.Abbreviated,mt.Standalone);break;case"cccc":n=Ie(fe.Days,Ce.Wide,mt.Standalone);break;case"ccccc":n=Ie(fe.Days,Ce.Narrow,mt.Standalone);break;case"cccccc":n=Ie(fe.Days,Ce.Short,mt.Standalone);break;case"E":case"EE":case"EEE":n=Ie(fe.Days,Ce.Abbreviated);break;case"EEEE":n=Ie(fe.Days,Ce.Wide);break;case"EEEEE":n=Ie(fe.Days,Ce.Narrow);break;case"EEEEEE":n=Ie(fe.Days,Ce.Short);break;case"a":case"aa":case"aaa":n=Ie(fe.DayPeriods,Ce.Abbreviated);break;case"aaaa":n=Ie(fe.DayPeriods,Ce.Wide);break;case"aaaaa":n=Ie(fe.DayPeriods,Ce.Narrow);break;case"b":case"bb":case"bbb":n=Ie(fe.DayPeriods,Ce.Abbreviated,mt.Standalone,!0);break;case"bbbb":n=Ie(fe.DayPeriods,Ce.Wide,mt.Standalone,!0);break;case"bbbbb":n=Ie(fe.DayPeriods,Ce.Narrow,mt.Standalone,!0);break;case"B":case"BB":case"BBB":n=Ie(fe.DayPeriods,Ce.Abbreviated,mt.Format,!0);break;case"BBBB":n=Ie(fe.DayPeriods,Ce.Wide,mt.Format,!0);break;case"BBBBB":n=Ie(fe.DayPeriods,Ce.Narrow,mt.Format,!0);break;case"h":n=$e(pe.Hours,1,-12);break;case"hh":n=$e(pe.Hours,2,-12);break;case"H":n=$e(pe.Hours,1);break;case"HH":n=$e(pe.Hours,2);break;case"m":n=$e(pe.Minutes,1);break;case"mm":n=$e(pe.Minutes,2);break;case"s":n=$e(pe.Seconds,1);break;case"ss":n=$e(pe.Seconds,2);break;case"S":n=$e(pe.FractionalSeconds,1);break;case"SS":n=$e(pe.FractionalSeconds,2);break;case"SSS":n=$e(pe.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":n=Ec(Fn.Short);break;case"ZZZZZ":n=Ec(Fn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=Ec(Fn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":n=Ec(Fn.Long);break;default:return null}return uh[e]=n,n}function Pv(e,n){e=e.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(t)?n:t}function LS(e,n){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+n),e}function VS(e,n,t){let i=t?-1:1,r=e.getTimezoneOffset(),o=Pv(n,r);return LS(e,i*(o-r))}function jS(e){if(wv(e))return e;if(typeof e=="number"&&!isNaN(e))return new Date(e);if(typeof e=="string"){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[r,o=1,s=1]=e.split("-").map(a=>+a);return Tc(r,o-1,s)}let t=parseFloat(e);if(!isNaN(e-t))return new Date(t);let i;if(i=e.match(MS))return BS(i)}let n=new Date(e);if(!wv(n))throw new Error(`Unable to convert "${e}" into a date`);return n}function BS(e){let n=new Date(0),t=0,i=0,r=e[8]?n.setUTCFullYear:n.setFullYear,o=e[8]?n.setUTCHours:n.setHours;e[9]&&(t=Number(e[9]+e[10]),i=Number(e[9]+e[11])),r.call(n,Number(e[1]),Number(e[2])-1,Number(e[3]));let s=Number(e[4]||0)-t,a=Number(e[5]||0)-i,c=Number(e[6]||0),h=Math.floor(parseFloat("0."+(e[7]||0))*1e3);return o.call(n,s,a,c,h),n}function wv(e){return e instanceof Date&&!isNaN(e.valueOf())}var US=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Cv=22,Ac=".",ko="0",$S=";",HS=",",hh="#";function zS(e,n,t,i,r,o,s=!1){let a="",c=!1;if(!isFinite(e))a=Nn(t,St.Infinity);else{let h=YS(e);s&&(h=qS(h));let f=n.minInt,p=n.minFrac,_=n.maxFrac;if(o){let V=o.match(US);if(V===null)throw new Error(`${o} is not a valid digit info`);let U=V[1],N=V[3],me=V[5];U!=null&&(f=fh(U)),N!=null&&(p=fh(N)),me!=null?_=fh(me):N!=null&&p>_&&(_=p)}QS(h,p,_);let v=h.digits,w=h.integerLen,x=h.exponent,T=[];for(c=v.every(V=>!V);w<f;w++)v.unshift(0);for(;w<0;w++)v.unshift(0);w>0?T=v.splice(w,v.length):(T=v,v=[0]);let P=[];for(v.length>=n.lgSize&&P.unshift(v.splice(-n.lgSize,v.length).join(""));v.length>n.gSize;)P.unshift(v.splice(-n.gSize,v.length).join(""));v.length&&P.unshift(v.join("")),a=P.join(Nn(t,i)),T.length&&(a+=Nn(t,r)+T.join("")),x&&(a+=Nn(t,St.Exponential)+"+"+x)}return e<0&&!c?a=n.negPre+a+n.negSuf:a=n.posPre+a+n.posSuf,a}function GS(e,n,t){let i=ES(n,Av.Decimal),r=WS(i,Nn(n,St.MinusSign));return zS(e,r,n,St.Group,St.Decimal,t)}function WS(e,n="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=e.split($S),r=i[0],o=i[1],s=r.indexOf(Ac)!==-1?r.split(Ac):[r.substring(0,r.lastIndexOf(ko)+1),r.substring(r.lastIndexOf(ko)+1)],a=s[0],c=s[1]||"";t.posPre=a.substring(0,a.indexOf(hh));for(let f=0;f<c.length;f++){let p=c.charAt(f);p===ko?t.minFrac=t.maxFrac=f+1:p===hh?t.maxFrac=f+1:t.posSuf+=p}let h=a.split(HS);if(t.gSize=h[1]?h[1].length:0,t.lgSize=h[2]||h[1]?(h[2]||h[1]).length:0,o){let f=r.length-t.posPre.length-t.posSuf.length,p=o.indexOf(hh);t.negPre=o.substring(0,p).replace(/'/g,""),t.negSuf=o.slice(p+f).replace(/'/g,"")}else t.negPre=n+t.posPre,t.negSuf=t.posSuf;return t}function qS(e){if(e.digits[0]===0)return e;let n=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(n===0?e.digits.push(0,0):n===1&&e.digits.push(0),e.integerLen+=2),e}function YS(e){let n=Math.abs(e)+"",t=0,i,r,o,s,a;for((r=n.indexOf(Ac))>-1&&(n=n.replace(Ac,"")),(o=n.search(/e/i))>0?(r<0&&(r=o),r+=+n.slice(o+1),n=n.substring(0,o)):r<0&&(r=n.length),o=0;n.charAt(o)===ko;o++);if(o===(a=n.length))i=[0],r=1;else{for(a--;n.charAt(a)===ko;)a--;for(r-=o,i=[],s=0;o<=a;o++,s++)i[s]=Number(n.charAt(o))}return r>Cv&&(i=i.splice(0,Cv-1),t=r-1,r=1),{digits:i,exponent:t,integerLen:r}}function QS(e,n,t){if(n>t)throw new Error(`The minimum number of digits after fraction (${n}) is higher than the maximum (${t}).`);let i=e.digits,r=i.length-e.integerLen,o=Math.min(Math.max(n,r),t),s=o+e.integerLen,a=i[s];if(s>0){i.splice(Math.max(e.integerLen,s));for(let p=s;p<i.length;p++)i[p]=0}else{r=Math.max(0,r),e.integerLen=1,i.length=Math.max(1,s=o+1),i[0]=0;for(let p=1;p<s;p++)i[p]=0}if(a>=5)if(s-1<0){for(let p=0;p>s;p--)i.unshift(0),e.integerLen++;i.unshift(1),e.integerLen++}else i[s-1]++;for(;r<Math.max(0,o);r++)i.push(0);let c=o!==0,h=n+e.integerLen,f=i.reduceRight(function(p,_,v,w){return _=_+p,w[v]=_<10?_:_-10,c&&(w[v]===0&&v>=h?w.pop():c=!1),_>=10?1:0},0);f&&(i.unshift(f),e.integerLen++)}function fh(e){let n=parseInt(e);if(isNaN(n))throw new Error("Invalid integer literal when parsing "+e);return n}function kc(e,n){n=encodeURIComponent(n);for(let t of e.split(";")){let i=t.indexOf("="),[r,o]=i==-1?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===n)return decodeURIComponent(o)}return null}var ph=class{constructor(n,t,i,r){this.$implicit=n,this.ngForOf=t,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Er=(()=>{class e{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new ph(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(o===null?void 0:o);else if(o!==null){let a=i.get(o);i.move(a,s),xv(a,r)}});for(let r=0,o=i.length;r<o;r++){let a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);xv(o,r)})}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||e)(C(Dt),C(Ct),C(yc))}}static{this.\u0275dir=ue({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return e})();function xv(e,n){e.context.$implicit=n.item}var bt=(()=>{class e{constructor(t,i){this._viewContainer=t,this._context=new mh,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Dv("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Dv("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||e)(C(Dt),C(Ct))}}static{this.\u0275dir=ue({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return e})(),mh=class{constructor(){this.$implicit=null,this.ngIf=null}};function Dv(e,n){if(!!!(!n||n.createEmbeddedView))throw new Error(`${e} must be a TemplateRef, but received '${ht(n)}'.`)}var ZS=!0,gh=class{constructor(n,t){this._viewContainerRef=n,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(n){n&&!this._created?this.create():!n&&this._created&&this.destroy()}},Po=(()=>{class e{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){let i=ZS?t===this._ngSwitch:t==this._ngSwitch;return this._lastCasesMatched||=i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(let i of this._defaultViews)i.enforceState(t)}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=ue({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return e})(),Pc=(()=>{class e{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new gh(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(i){return new(i||e)(C(Dt),C(Ct),C(Po,9))}}static{this.\u0275dir=ue({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return e})();function Rv(e,n){return new R(2100,!1)}var KS="mediumDate",XS=new k(""),JS=new k(""),Nv=(()=>{class e{constructor(t,i,r){this.locale=t,this.defaultTimezone=i,this.defaultOptions=r}transform(t,i,r,o){if(t==null||t===""||t!==t)return null;try{let s=i??this.defaultOptions?.dateFormat??KS,a=r??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return AS(t,s,o||this.locale,a)}catch(s){throw Rv(e,s.message)}}static{this.\u0275fac=function(i){return new(i||e)(C(xr,16),C(XS,24),C(JS,24))}}static{this.\u0275pipe=Cu({name:"date",type:e,pure:!0,standalone:!0})}}return e})();var Fv=(()=>{class e{constructor(t){this._locale=t}transform(t,i,r){if(!eM(t))return null;r||=this._locale;try{let o=tM(t);return GS(o,r,i)}catch(o){throw Rv(e,o.message)}}static{this.\u0275fac=function(i){return new(i||e)(C(xr,16))}}static{this.\u0275pipe=Cu({name:"number",type:e,pure:!0,standalone:!0})}}return e})();function eM(e){return!(e==null||e===""||e!==e)}function tM(e){if(typeof e=="string"&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if(typeof e!="number")throw new Error(`${e} is not a number`);return e}var wt=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=Y({type:e})}static{this.\u0275inj=q({})}}return e})(),Ch="browser",nM="server";function gn(e){return e===Ch}function Rc(e){return e===nM}var Lv=(()=>{class e{static{this.\u0275prov=I({token:e,providedIn:"root",factory:()=>gn(E(it))?new vh(E(Q),window):new _h})}}return e})(),vh=class{constructor(n,t){this.document=n,this.window=t,this.offset=()=>[0,0]}setOffset(n){Array.isArray(n)?this.offset=()=>n:this.offset=n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n){this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){let t=iM(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){this.window.history.scrollRestoration=n}scrollToElement(n){let t=n.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}};function iM(e,n){let t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let i=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}r=i.nextNode()}}return null}var _h=class{setOffset(n){}getScrollPosition(){return[0,0]}scrollToPosition(n){}scrollToAnchor(n){}setHistoryScrollRestoration(n){}},Dr=class{};var No=class{},Fc=class{},Vn=class e{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?typeof n=="string"?this.lazyInit=()=>{this.headers=new Map,n.split(`
`).forEach(t=>{let i=t.indexOf(":");if(i>0){let r=t.slice(0,i),o=r.toLowerCase(),s=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();let t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){let t=new e;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){let t=n.name.toLowerCase();switch(n.op){case"a":case"s":let i=n.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(n.name,t);let r=(n.op==="a"?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":let o=n.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(n,t){let i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=n.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(n,r)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}};var Dh=class{encodeKey(n){return Vv(n)}encodeValue(n){return Vv(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};function sM(e,n){let t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[n.decodeKey(r),""]:[n.decodeKey(r.slice(0,o)),n.decodeValue(r.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}var aM=/%(\d[a-f0-9])/gi,cM={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Vv(e){return encodeURIComponent(e).replace(aM,(n,t)=>cM[t]??n)}function Nc(e){return`${e}`}var ti=class e{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new Dh,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=sM(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{let i=n.fromObject[t],r=Array.isArray(i)?i.map(Nc):[Nc(i)];this.map.set(t,r)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();let t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){let t=[];return Object.keys(n).forEach(i=>{let r=n[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{let t=this.encoder.encodeKey(n);return this.map.get(n).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(n=>n!=="").join("&")}clone(n){let t=new e({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":let t=(n.op==="a"?this.map.get(n.param):void 0)||[];t.push(Nc(n.value)),this.map.set(n.param,t);break;case"d":if(n.value!==void 0){let i=this.map.get(n.param)||[],r=i.indexOf(Nc(n.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(n.param,i):this.map.delete(n.param)}else{this.map.delete(n.param);break}}}),this.cloneFrom=this.updates=null)}};var Eh=class{constructor(){this.map=new Map}set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}};function lM(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function jv(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function Bv(e){return typeof Blob<"u"&&e instanceof Blob}function Uv(e){return typeof FormData<"u"&&e instanceof FormData}function dM(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var Ro=class e{constructor(n,t,i,r){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase();let o;if(lM(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Vn,this.context??=new Eh,!this.params)this.params=new ti,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||jv(this.body)||Bv(this.body)||Uv(this.body)||dM(this.body)?this.body:this.body instanceof ti?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Uv(this.body)?null:Bv(this.body)?this.body.type||null:jv(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof ti?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(n={}){let t=n.method||this.method,i=n.url||this.url,r=n.responseType||this.responseType,o=n.transferCache??this.transferCache,s=n.body!==void 0?n.body:this.body,a=n.withCredentials??this.withCredentials,c=n.reportProgress??this.reportProgress,h=n.headers||this.headers,f=n.params||this.params,p=n.context??this.context;return n.setHeaders!==void 0&&(h=Object.keys(n.setHeaders).reduce((_,v)=>_.set(v,n.setHeaders[v]),h)),n.setParams&&(f=Object.keys(n.setParams).reduce((_,v)=>_.set(v,n.setParams[v]),f)),new e(t,i,s,{params:f,headers:h,context:p,reportProgress:c,responseType:r,withCredentials:a,transferCache:o})}},Ir=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Ir||{}),Fo=class{constructor(n,t=jc.Ok,i="OK"){this.headers=n.headers||new Vn,this.status=n.status!==void 0?n.status:t,this.statusText=n.statusText||i,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}},Ih=class e extends Fo{constructor(n={}){super(n),this.type=Ir.ResponseHeader}clone(n={}){return new e({headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},Lc=class e extends Fo{constructor(n={}){super(n),this.type=Ir.Response,this.body=n.body!==void 0?n.body:null}clone(n={}){return new e({body:n.body!==void 0?n.body:this.body,headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},Vc=class extends Fo{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${n.url||"(unknown url)"}`:this.message=`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}},jc=function(e){return e[e.Continue=100]="Continue",e[e.SwitchingProtocols=101]="SwitchingProtocols",e[e.Processing=102]="Processing",e[e.EarlyHints=103]="EarlyHints",e[e.Ok=200]="Ok",e[e.Created=201]="Created",e[e.Accepted=202]="Accepted",e[e.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",e[e.NoContent=204]="NoContent",e[e.ResetContent=205]="ResetContent",e[e.PartialContent=206]="PartialContent",e[e.MultiStatus=207]="MultiStatus",e[e.AlreadyReported=208]="AlreadyReported",e[e.ImUsed=226]="ImUsed",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.Found=302]="Found",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.Unused=306]="Unused",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.LengthRequired=411]="LengthRequired",e[e.PreconditionFailed=412]="PreconditionFailed",e[e.PayloadTooLarge=413]="PayloadTooLarge",e[e.UriTooLong=414]="UriTooLong",e[e.UnsupportedMediaType=415]="UnsupportedMediaType",e[e.RangeNotSatisfiable=416]="RangeNotSatisfiable",e[e.ExpectationFailed=417]="ExpectationFailed",e[e.ImATeapot=418]="ImATeapot",e[e.MisdirectedRequest=421]="MisdirectedRequest",e[e.UnprocessableEntity=422]="UnprocessableEntity",e[e.Locked=423]="Locked",e[e.FailedDependency=424]="FailedDependency",e[e.TooEarly=425]="TooEarly",e[e.UpgradeRequired=426]="UpgradeRequired",e[e.PreconditionRequired=428]="PreconditionRequired",e[e.TooManyRequests=429]="TooManyRequests",e[e.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",e[e.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout",e[e.HttpVersionNotSupported=505]="HttpVersionNotSupported",e[e.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",e[e.InsufficientStorage=507]="InsufficientStorage",e[e.LoopDetected=508]="LoopDetected",e[e.NotExtended=510]="NotExtended",e[e.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",e}(jc||{});function xh(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var Kt=(()=>{class e{constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof Ro)o=t;else{let c;r.headers instanceof Vn?c=r.headers:c=new Vn(r.headers);let h;r.params&&(r.params instanceof ti?h=r.params:h=new ti({fromObject:r.params})),o=new Ro(t,i,r.body!==void 0?r.body:null,{headers:c,context:r.context,params:h,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let s=F(o).pipe(bn(c=>this.handler.handle(c)));if(t instanceof Ro||r.observe==="events")return s;let a=s.pipe(Ee(c=>c instanceof Lc));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe($(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe($(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe($(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return a.pipe($(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:new ti().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,xh(r,i))}post(t,i,r={}){return this.request("POST",t,xh(r,i))}put(t,i,r={}){return this.request("PUT",t,xh(r,i))}static{this.\u0275fac=function(i){return new(i||e)(y(No))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac})}}return e})();function Gv(e,n){return n(e)}function uM(e,n){return(t,i)=>n.intercept(t,{handle:r=>e(r,i)})}function hM(e,n,t){return(i,r)=>Wt(t,()=>n(i,o=>e(o,r)))}var fM=new k(""),Sh=new k(""),pM=new k(""),mM=new k("");function gM(){let e=null;return(n,t)=>{e===null&&(e=(E(fM,{optional:!0})??[]).reduceRight(uM,Gv));let i=E(Oi),r=i.add();return e(n,t).pipe(lt(()=>i.remove(r)))}}var $v=(()=>{class e extends No{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null,this.pendingTasks=E(Oi);let r=E(mM,{optional:!0});this.backend=r??t}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Sh),...this.injector.get(pM,[])]));this.chain=r.reduceRight((o,s)=>hM(o,s,this.injector),Gv)}let i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(lt(()=>this.pendingTasks.remove(i)))}static{this.\u0275fac=function(i){return new(i||e)(y(Fc),y(et))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac})}}return e})();var vM=/^\)\]\}',?\n/;function _M(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}var Hv=(()=>{class e{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new R(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?ye(i.\u0275loadImpl()):F(null)).pipe(Ge(()=>new X(o=>{let s=i.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((x,T)=>s.setRequestHeader(x,T.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let x=t.detectContentTypeHeader();x!==null&&s.setRequestHeader("Content-Type",x)}if(t.responseType){let x=t.responseType.toLowerCase();s.responseType=x!=="json"?x:"text"}let a=t.serializeBody(),c=null,h=()=>{if(c!==null)return c;let x=s.statusText||"OK",T=new Vn(s.getAllResponseHeaders()),P=_M(s)||t.url;return c=new Ih({headers:T,status:s.status,statusText:x,url:P}),c},f=()=>{let{headers:x,status:T,statusText:P,url:V}=h(),U=null;T!==jc.NoContent&&(U=typeof s.response>"u"?s.responseText:s.response),T===0&&(T=U?jc.Ok:0);let N=T>=200&&T<300;if(t.responseType==="json"&&typeof U=="string"){let me=U;U=U.replace(vM,"");try{U=U!==""?JSON.parse(U):null}catch(be){U=me,N&&(N=!1,U={error:be,text:U})}}N?(o.next(new Lc({body:U,headers:x,status:T,statusText:P,url:V||void 0})),o.complete()):o.error(new Vc({error:U,headers:x,status:T,statusText:P,url:V||void 0}))},p=x=>{let{url:T}=h(),P=new Vc({error:x,status:s.status||0,statusText:s.statusText||"Unknown Error",url:T||void 0});o.error(P)},_=!1,v=x=>{_||(o.next(h()),_=!0);let T={type:Ir.DownloadProgress,loaded:x.loaded};x.lengthComputable&&(T.total=x.total),t.responseType==="text"&&s.responseText&&(T.partialText=s.responseText),o.next(T)},w=x=>{let T={type:Ir.UploadProgress,loaded:x.loaded};x.lengthComputable&&(T.total=x.total),o.next(T)};return s.addEventListener("load",f),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",v),a!==null&&s.upload&&s.upload.addEventListener("progress",w)),s.send(a),o.next({type:Ir.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",f),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",v),a!==null&&s.upload&&s.upload.removeEventListener("progress",w)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(i){return new(i||e)(y(Dr))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac})}}return e})(),Wv=new k(""),yM="XSRF-TOKEN",bM=new k("",{providedIn:"root",factory:()=>yM}),wM="X-XSRF-TOKEN",CM=new k("",{providedIn:"root",factory:()=>wM}),Bc=class{},xM=(()=>{class e{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=kc(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(i){return new(i||e)(y(Q),y(it),y(bM))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac})}}return e})();function DM(e,n){let t=e.url.toLowerCase();if(!E(Wv)||e.method==="GET"||e.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return n(e);let i=E(Bc).getToken(),r=E(CM);return i!=null&&!e.headers.has(r)&&(e=e.clone({headers:e.headers.set(r,i)})),n(e)}var qv=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(qv||{});function EM(e,n){return{\u0275kind:e,\u0275providers:n}}function IM(...e){let n=[Kt,Hv,$v,{provide:No,useExisting:$v},{provide:Fc,useExisting:Hv},{provide:Sh,useValue:DM,multi:!0},{provide:Wv,useValue:!0},{provide:Bc,useClass:xM}];for(let t of e)n.push(...t.\u0275providers);return Wa(n)}var zv=new k("");function SM(){return EM(qv.LegacyInterceptors,[{provide:zv,useFactory:gM},{provide:Sh,useExisting:zv,multi:!0}])}var Yv=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=Y({type:e})}static{this.\u0275inj=q({providers:[IM(SM())]})}}return e})();var Ah=class extends Mc{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Oh=class e extends Ah{static makeCurrent(){Iv(new e)}onAndCancel(n,t,i){return n.addEventListener(t,i),()=>{n.removeEventListener(t,i)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,t){return t=t||this.getDefaultDocument(),t.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return t==="window"?window:t==="document"?n:t==="body"?n.body:null}getBaseHref(n){let t=MM();return t==null?null:TM(t)}resetBaseElement(){Vo=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return kc(document.cookie,n)}},Vo=null;function MM(){return Vo=Vo||document.querySelector("base"),Vo?Vo.getAttribute("href"):null}function TM(e){return new URL(e,document.baseURI).pathname}var kh=class{addToWindow(n){Fe.getAngularTestability=(i,r=!0)=>{let o=n.findTestabilityInTree(i,r);if(o==null)throw new R(5103,!1);return o},Fe.getAllAngularTestabilities=()=>n.getAllTestabilities(),Fe.getAllAngularRootElements=()=>n.getAllRootElements();let t=i=>{let r=Fe.getAllAngularTestabilities(),o=r.length,s=function(){o--,o==0&&i()};r.forEach(a=>{a.whenStable(s)})};Fe.frameworkStabilizers||(Fe.frameworkStabilizers=[]),Fe.frameworkStabilizers.push(t)}findTestabilityInTree(n,t,i){if(t==null)return null;let r=n.getTestability(t);return r??(i?pn().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null)}},AM=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac})}}return e})(),Ph=new k(""),Xv=(()=>{class e{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new R(5101,!1);return this._eventNameToPlugin.set(t,i),i}static{this.\u0275fac=function(i){return new(i||e)(y(Ph),y(j))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac})}}return e})(),Uc=class{constructor(n){this._doc=n}},Mh="ng-app-id",Jv=(()=>{class e{constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Rc(o),this.resetHostNodes()}addStyles(t){for(let i of t)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(t){for(let i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){let i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${Mh}="${this.appId}"]`);if(t?.length){let i=new Map;return t.forEach(r=>{r.textContent!=null&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){let r=this.styleRef;if(r.has(t)){let o=r.get(t);return o.usage+=i,o.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){let r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===t)return r.delete(i),o.removeAttribute(Mh),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(Mh,this.appId),t.appendChild(s),s}}addStyleToHost(t,i){let r=this.getStyleElement(t,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||e)(y(Q),y(wo),y(Co,8),y(it))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac})}}return e})(),Th={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Nh=/%COMP%/g,e_="%COMP%",OM=`_nghost-${e_}`,kM=`_ngcontent-${e_}`,PM=!0,RM=new k("",{providedIn:"root",factory:()=>PM});function NM(e){return kM.replace(Nh,e)}function FM(e){return OM.replace(Nh,e)}function t_(e,n){return n.map(t=>t.replace(Nh,e))}var Qv=(()=>{class e{constructor(t,i,r,o,s,a,c,h=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=Rc(a),this.defaultRenderer=new jo(t,s,c,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===dn.ShadowDom&&(i=de(S({},i),{encapsulation:dn.Emulated}));let r=this.getOrCreateRenderer(t,i);return r instanceof $c?r.applyToHost(t):r instanceof Bo&&r.applyStyles(),r}getOrCreateRenderer(t,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,h=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(i.encapsulation){case dn.Emulated:o=new $c(c,h,i,this.appId,f,s,a,p);break;case dn.ShadowDom:return new Rh(c,h,t,i,s,a,this.nonce,p);default:o=new Bo(c,h,i,f,s,a,p);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||e)(y(Xv),y(Jv),y(wo),y(RM),y(Q),y(it),y(j),y(Co))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac})}}return e})(),jo=class{constructor(n,t,i,r){this.eventManager=n,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(n,t){return t?this.doc.createElementNS(Th[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(Zv(n)?n.content:n).appendChild(t)}insertBefore(n,t,i){n&&(Zv(n)?n.content:n).insertBefore(t,i)}removeChild(n,t){n&&n.removeChild(t)}selectRootElement(n,t){let i=typeof n=="string"?this.doc.querySelector(n):n;if(!i)throw new R(-5104,!1);return t||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,i,r){if(r){t=r+":"+t;let o=Th[r];o?n.setAttributeNS(o,t,i):n.setAttribute(t,i)}else n.setAttribute(t,i)}removeAttribute(n,t,i){if(i){let r=Th[i];r?n.removeAttributeNS(r,t):n.removeAttribute(`${i}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,i,r){r&(Cn.DashCase|Cn.Important)?n.style.setProperty(t,i,r&Cn.Important?"important":""):n.style[t]=i}removeStyle(n,t,i){i&Cn.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,i){n!=null&&(n[t]=i)}setValue(n,t){n.nodeValue=t}listen(n,t,i){if(typeof n=="string"&&(n=pn().getGlobalEventTarget(this.doc,n),!n))throw new Error(`Unsupported event target ${n} for event ${t}`);return this.eventManager.addEventListener(n,t,this.decoratePreventDefault(i))}decoratePreventDefault(n){return t=>{if(t==="__ngUnwrap__")return n;(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))===!1&&t.preventDefault()}}};function Zv(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Rh=class extends jo{constructor(n,t,i,r,o,s,a,c){super(n,o,s,c),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=t_(r.id,r.styles);for(let f of h){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=f,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,i){return super.insertBefore(this.nodeOrShadowRoot(n),t,i)}removeChild(n,t){return super.removeChild(this.nodeOrShadowRoot(n),t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Bo=class extends jo{constructor(n,t,i,r,o,s,a,c){super(n,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=c?t_(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},$c=class extends Bo{constructor(n,t,i,r,o,s,a,c){let h=r+"-"+i.id;super(n,t,i,o,s,a,c,h),this.contentAttr=NM(h),this.hostAttr=FM(h)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){let i=super.createElement(n,t);return super.setAttribute(i,this.contentAttr,""),i}},LM=(()=>{class e extends Uc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||e)(y(Q))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac})}}return e})(),Kv=["alt","control","meta","shift"],VM={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},jM={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},BM=(()=>{class e extends Uc{constructor(t){super(t)}supports(t){return e.parseEventName(t)!=null}addEventListener(t,i,r){let o=e.parseEventName(i),s=e.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>pn().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let i=t.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=e._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),Kv.forEach(h=>{let f=i.indexOf(h);f>-1&&(i.splice(f,1),s+=h+".")}),s+=o,i.length!=0||o.length===0)return null;let c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(t,i){let r=VM[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),Kv.forEach(s=>{if(s!==r){let a=jM[s];a(t)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{e.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(i){return new(i||e)(y(Q))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac})}}return e})();function UM(){Oh.makeCurrent()}function $M(){return new Gt}function HM(){return t0(document),document}var zM=[{provide:it,useValue:Ch},{provide:Lu,useValue:UM,multi:!0},{provide:Q,useFactory:HM,deps:[]}],n_=ah(gv,"browser",zM),GM=new k(""),WM=[{provide:Oo,useClass:kh,deps:[]},{provide:oh,useClass:pc,deps:[j,mc,Oo]},{provide:pc,useClass:pc,deps:[j,mc,Oo]}],qM=[{provide:qa,useValue:"root"},{provide:Gt,useFactory:$M,deps:[]},{provide:Ph,useClass:LM,multi:!0,deps:[Q,j,it]},{provide:Ph,useClass:BM,multi:!0,deps:[Q]},Qv,Jv,Xv,{provide:po,useExisting:Qv},{provide:Dr,useClass:AM,deps:[]},[]],i_=(()=>{class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:wo,useValue:t.appId}]}}static{this.\u0275fac=function(i){return new(i||e)(y(GM,12))}}static{this.\u0275mod=Y({type:e})}static{this.\u0275inj=q({providers:[...qM,...WM],imports:[wt,vv]})}}return e})();var Hc=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(i){return new(i||e)(y(Q))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var h_=(()=>{class e{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(i){return new(i||e)(C(ei),C(ae))}}static{this.\u0275dir=ue({type:e})}}return e})(),f_=(()=>{class e extends h_{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=En(e)))(r||e)}})()}static{this.\u0275dir=ue({type:e,features:[We]})}}return e})(),Tr=new k(""),YM={provide:Tr,useExisting:fn(()=>Uh),multi:!0},Uh=(()=>{class e extends f_{writeValue(t){this.setProperty("checked",t)}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=En(e)))(r||e)}})()}static{this.\u0275dir=ue({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){i&1&&M("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[Pt([YM]),We]})}}return e})(),QM={provide:Tr,useExisting:fn(()=>ii),multi:!0};function ZM(){let e=pn()?pn().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var KM=new k(""),ii=(()=>{class e extends h_{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!ZM())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(i){return new(i||e)(C(ei),C(ae),C(KM,8))}}static{this.\u0275dir=ue({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&M("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Pt([QM]),We]})}}return e})();function ni(e){return e==null||(typeof e=="string"||Array.isArray(e))&&e.length===0}function p_(e){return e!=null&&typeof e.length=="number"}var zo=new k(""),$h=new k(""),XM=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,jn=class{static min(n){return JM(n)}static max(n){return e1(n)}static required(n){return t1(n)}static requiredTrue(n){return n1(n)}static email(n){return i1(n)}static minLength(n){return r1(n)}static maxLength(n){return o1(n)}static pattern(n){return s1(n)}static nullValidator(n){return m_(n)}static compose(n){return w_(n)}static composeAsync(n){return x_(n)}};function JM(e){return n=>{if(ni(n.value)||ni(e))return null;let t=parseFloat(n.value);return!isNaN(t)&&t<e?{min:{min:e,actual:n.value}}:null}}function e1(e){return n=>{if(ni(n.value)||ni(e))return null;let t=parseFloat(n.value);return!isNaN(t)&&t>e?{max:{max:e,actual:n.value}}:null}}function t1(e){return ni(e.value)?{required:!0}:null}function n1(e){return e.value===!0?null:{required:!0}}function i1(e){return ni(e.value)||XM.test(e.value)?null:{email:!0}}function r1(e){return n=>ni(n.value)||!p_(n.value)?null:n.value.length<e?{minlength:{requiredLength:e,actualLength:n.value.length}}:null}function o1(e){return n=>p_(n.value)&&n.value.length>e?{maxlength:{requiredLength:e,actualLength:n.value.length}}:null}function s1(e){if(!e)return m_;let n,t;return typeof e=="string"?(t="",e.charAt(0)!=="^"&&(t+="^"),t+=e,e.charAt(e.length-1)!=="$"&&(t+="$"),n=new RegExp(t)):(t=e.toString(),n=e),i=>{if(ni(i.value))return null;let r=i.value;return n.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}function m_(e){return null}function g_(e){return e!=null}function v_(e){return Pi(e)?ye(e):e}function __(e){let n={};return e.forEach(t=>{n=t!=null?S(S({},n),t):n}),Object.keys(n).length===0?null:n}function y_(e,n){return n.map(t=>t(e))}function a1(e){return!e.validate}function b_(e){return e.map(n=>a1(n)?n:t=>n.validate(t))}function w_(e){if(!e)return null;let n=e.filter(g_);return n.length==0?null:function(t){return __(y_(t,n))}}function C_(e){return e!=null?w_(b_(e)):null}function x_(e){if(!e)return null;let n=e.filter(g_);return n.length==0?null:function(t){let i=y_(t,n).map(v_);return td(i).pipe($(__))}}function D_(e){return e!=null?x_(b_(e)):null}function r_(e,n){return e===null?[n]:Array.isArray(e)?[...e,n]:[e,n]}function E_(e){return e._rawValidators}function I_(e){return e._rawAsyncValidators}function Lh(e){return e?Array.isArray(e)?e:[e]:[]}function Gc(e,n){return Array.isArray(e)?e.includes(n):e===n}function o_(e,n){let t=Lh(n);return Lh(e).forEach(r=>{Gc(t,r)||t.push(r)}),t}function s_(e,n){return Lh(n).filter(t=>!Gc(e,t))}var Wc=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=C_(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=D_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return this.control?this.control.hasError(n,t):!1}getError(n,t){return this.control?this.control.getError(n,t):null}},Ri=class extends Wc{get formDirective(){return null}get path(){return null}},Ni=class extends Wc{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},qc=class{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},c1={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},G3=de(S({},c1),{"[class.ng-submitted]":"isSubmitted"}),Ar=(()=>{class e extends qc{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||e)(C(Ni,2))}}static{this.\u0275dir=ue({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&ge("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[We]})}}return e})(),Kc=(()=>{class e extends qc{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||e)(C(Ri,10))}}static{this.\u0275dir=ue({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&ge("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[We]})}}return e})();var Uo="VALID",zc="INVALID",Sr="PENDING",$o="DISABLED";function Hh(e){return(Xc(e)?e.validators:e)||null}function l1(e){return Array.isArray(e)?C_(e):e||null}function zh(e,n){return(Xc(n)?n.asyncValidators:e)||null}function d1(e){return Array.isArray(e)?D_(e):e||null}function Xc(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function S_(e,n,t){let i=e.controls;if(!(n?Object.keys(i):i).length)throw new R(1e3,"");if(!i[t])throw new R(1001,"")}function M_(e,n,t){e._forEachChild((i,r)=>{if(t[r]===void 0)throw new R(1002,"")})}var Mr=class{constructor(n,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===Uo}get invalid(){return this.status===zc}get pending(){return this.status==Sr}get disabled(){return this.status===$o}get enabled(){return this.status!==$o}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(o_(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(o_(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(s_(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(s_(n,this._rawAsyncValidators))}hasValidator(n){return Gc(this._rawValidators,n)}hasAsyncValidator(n){return Gc(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=Sr,n.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=$o,this.errors=null,this._forEachChild(i=>{i.disable(de(S({},n),{onlySelf:!0}))}),this._updateValue(),n.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(de(S({},n),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=Uo,this._forEachChild(i=>{i.enable(de(S({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(de(S({},n),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Uo||this.status===Sr)&&this._runAsyncValidator(n.emitEvent)),n.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?$o:Uo}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=Sr,this._hasOwnPendingAsyncValidator=!0;let t=v_(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(t.emitEvent!==!1)}get(n){let t=n;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(n,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new oe,this.statusChanges=new oe}_calculateStatus(){return this._allControlsDisabled()?$o:this.errors?zc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Sr)?Sr:this._anyControlsHaveStatus(zc)?zc:Uo}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Xc(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let t=this._parent&&this._parent.dirty;return!n&&!!t&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=l1(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=d1(this._rawAsyncValidators)}},Yc=class extends Mr{constructor(n,t,i){super(Hh(t),zh(i,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,t){return this.controls[n]?this.controls[n]:(this.controls[n]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(n,t,i={}){this.registerControl(n,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(n,t,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],t&&this.registerControl(n,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,t={}){M_(this,!0,n),Object.keys(n).forEach(i=>{S_(this,!0,i),this.controls[i].setValue(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){n!=null&&(Object.keys(n).forEach(i=>{let r=this.controls[i];r&&r.patchValue(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n={},t={}){this._forEachChild((i,r)=>{i.reset(n?n[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(n,t,i)=>(n[i]=t.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&n(i,t)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&n(i))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(n,t){let i=n;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var Vh=class extends Yc{};var Jc=new k("CallSetDisabledState",{providedIn:"root",factory:()=>el}),el="always";function T_(e,n){return[...n.path,e]}function jh(e,n,t=el){Gh(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||t==="always")&&n.valueAccessor.setDisabledState?.(e.disabled),h1(e,n),p1(e,n),f1(e,n),u1(e,n)}function a_(e,n,t=!0){let i=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(i),n.valueAccessor.registerOnTouched(i)),Zc(e,n),e&&(n._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function Qc(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function u1(e,n){if(n.valueAccessor.setDisabledState){let t=i=>{n.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}function Gh(e,n){let t=E_(e);n.validator!==null?e.setValidators(r_(t,n.validator)):typeof t=="function"&&e.setValidators([t]);let i=I_(e);n.asyncValidator!==null?e.setAsyncValidators(r_(i,n.asyncValidator)):typeof i=="function"&&e.setAsyncValidators([i]);let r=()=>e.updateValueAndValidity();Qc(n._rawValidators,r),Qc(n._rawAsyncValidators,r)}function Zc(e,n){let t=!1;if(e!==null){if(n.validator!==null){let r=E_(e);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==n.validator);o.length!==r.length&&(t=!0,e.setValidators(o))}}if(n.asyncValidator!==null){let r=I_(e);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==n.asyncValidator);o.length!==r.length&&(t=!0,e.setAsyncValidators(o))}}}let i=()=>{};return Qc(n._rawValidators,i),Qc(n._rawAsyncValidators,i),t}function h1(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&A_(e,n)})}function f1(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&A_(e,n),e.updateOn!=="submit"&&e.markAsTouched()})}function A_(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function p1(e,n){let t=(i,r)=>{n.valueAccessor.writeValue(i),r&&n.viewToModelUpdate(i)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}function m1(e,n){e==null,Gh(e,n)}function g1(e,n){return Zc(e,n)}function O_(e,n){if(!e.hasOwnProperty("model"))return!1;let t=e.model;return t.isFirstChange()?!0:!Object.is(n,t.currentValue)}function v1(e){return Object.getPrototypeOf(e.constructor)===f_}function _1(e,n){e._syncPendingControls(),n.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function k_(e,n){if(!n)return null;Array.isArray(n);let t,i,r;return n.forEach(o=>{o.constructor===ii?t=o:v1(o)?i=o:r=o}),r||i||t||null}function y1(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function c_(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function l_(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var Ho=class extends Mr{constructor(n=null,t,i){super(Hh(t),zh(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Xc(t)&&(t.nonNullable||t.initialValueIsDefault)&&(l_(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){c_(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){c_(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){l_(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var b1=e=>e instanceof Ho;var w1={provide:Ni,useExisting:fn(()=>Go)},d_=Promise.resolve(),Go=(()=>{class e extends Ni{constructor(t,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Ho,this._registered=!1,this.name="",this.update=new oe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=k_(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),O_(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){jh(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){d_.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let i=t.isDisabled.currentValue,r=i!==0&&rt(i);d_.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?T_(t,this._parent):[t]}static{this.\u0275fac=function(i){return new(i||e)(C(Ri,9),C(zo,10),C($h,10),C(Tr,10),C(Ue,8),C(Jc,8))}}static{this.\u0275dir=ue({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[G.None,"disabled","isDisabled"],model:[G.None,"ngModel","model"],options:[G.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Pt([w1]),We,tt]})}}return e})(),tl=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=ue({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return e})();var P_=new k("");var C1={provide:Ri,useExisting:fn(()=>Wo)},Wo=(()=>{class e extends Ri{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new oe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Zc(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let i=this.form.get(t.path);return jh(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){a_(t.control||null,t,!1),y1(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,_1(this.form,this.directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{let i=t.control,r=this.form.get(t.path);i!==r&&(a_(i||null,t),b1(r)&&(jh(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let i=this.form.get(t.path);m1(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let i=this.form.get(t.path);i&&g1(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Gh(this.form,this),this._oldForm&&Zc(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(i){return new(i||e)(C(zo,10),C($h,10),C(Jc,8))}}static{this.\u0275dir=ue({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&M("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[G.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Pt([C1]),We,tt]})}}return e})();var x1={provide:Ni,useExisting:fn(()=>qo)},qo=(()=>{class e extends Ni{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,i,r,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new oe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=k_(this,o)}ngOnChanges(t){this._added||this._setUpControl(),O_(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return T_(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(i){return new(i||e)(C(Ri,13),C(zo,10),C($h,10),C(Tr,10),C(P_,8))}}static{this.\u0275dir=ue({type:e,selectors:[["","formControlName",""]],inputs:{name:[G.None,"formControlName","name"],isDisabled:[G.None,"disabled","isDisabled"],model:[G.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Pt([x1]),We,tt]})}}return e})();var R_=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=Y({type:e})}static{this.\u0275inj=q({})}}return e})(),Bh=class extends Mr{constructor(n,t,i){super(Hh(t),zh(i,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[this._adjustIndex(n)]}push(n,t={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(n,t,i={}){this.controls.splice(n,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(n,t={}){let i=this._adjustIndex(n);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(n,t,i={}){let r=this._adjustIndex(n);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,t={}){M_(this,!1,n),n.forEach((i,r)=>{S_(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){n!=null&&(n.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n=[],t={}){this._forEachChild((i,r)=>{i.reset(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((t,i)=>i._syncPendingControls()?!0:t,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((t,i)=>{n(t,i)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(t=>t.enabled&&n(t))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(let n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){return this.at(n)??null}};function u_(e){return!!e&&(e.asyncValidators!==void 0||e.validators!==void 0||e.updateOn!==void 0)}var nl=(()=>{class e{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new e;return t.useNonNullable=!0,t}group(t,i=null){let r=this._reduceControls(t),o={};return u_(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new Yc(r,o)}record(t,i=null){let r=this._reduceControls(t);return new Vh(r,i)}control(t,i,r){let o={};return this.useNonNullable?(u_(i)?o=i:(o.validators=i,o.asyncValidators=r),new Ho(t,de(S({},o),{nonNullable:!0}))):new Ho(t,i,r)}array(t,i,r){let o=t.map(s=>this._createControl(s));return new Bh(o,i,r)}_reduceControls(t){let i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){if(t instanceof Ho)return t;if(t instanceof Mr)return t;if(Array.isArray(t)){let i=t[0],r=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(i,r,o)}else return this.control(t)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Or=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:Jc,useValue:t.callSetDisabledState??el}]}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=Y({type:e})}static{this.\u0275inj=q({imports:[R_]})}}return e})(),il=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:P_,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Jc,useValue:t.callSetDisabledState??el}]}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=Y({type:e})}static{this.\u0275inj=q({imports:[R_]})}}return e})();var ee="primary",cs=Symbol("RouteTitle"),Kh=class{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Fr(e){return new Kh(e)}function D1(e,n,t){let i=t.path.split("/");if(i.length>e.length||t.pathMatch==="full"&&(n.hasChildren()||i.length<e.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=e[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function E1(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!vn(e[t],n[t]))return!1;return!0}function vn(e,n){let t=e?Xh(e):void 0,i=n?Xh(n):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!H_(e[r],n[r]))return!1;return!0}function Xh(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function H_(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;let t=[...e].sort(),i=[...n].sort();return t.every((r,o)=>i[o]===r)}else return e===n}function z_(e){return e.length>0?e[e.length-1]:null}function ci(e){return Js(e)?e:Pi(e)?ye(Promise.resolve(e)):F(e)}var I1={exact:W_,subset:q_},G_={exact:S1,subset:M1,ignored:()=>!0};function N_(e,n,t){return I1[t.paths](e.root,n.root,t.matrixParams)&&G_[t.queryParams](e.queryParams,n.queryParams)&&!(t.fragment==="exact"&&e.fragment!==n.fragment)}function S1(e,n){return vn(e,n)}function W_(e,n,t){if(!Li(e.segments,n.segments)||!sl(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(let i in n.children)if(!e.children[i]||!W_(e.children[i],n.children[i],t))return!1;return!0}function M1(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>H_(e[t],n[t]))}function q_(e,n,t){return Y_(e,n,n.segments,t)}function Y_(e,n,t,i){if(e.segments.length>t.length){let r=e.segments.slice(0,t.length);return!(!Li(r,t)||n.hasChildren()||!sl(r,t,i))}else if(e.segments.length===t.length){if(!Li(e.segments,t)||!sl(e.segments,t,i))return!1;for(let r in n.children)if(!e.children[r]||!q_(e.children[r],n.children[r],i))return!1;return!0}else{let r=t.slice(0,e.segments.length),o=t.slice(e.segments.length);return!Li(e.segments,r)||!sl(e.segments,r,i)||!e.children[ee]?!1:Y_(e.children[ee],n,o,i)}}function sl(e,n,t){return n.every((i,r)=>G_[t](e[r].parameters,i.parameters))}var ri=class{constructor(n=new ve([],{}),t={},i=null){this.root=n,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Fr(this.queryParams),this._queryParamMap}toString(){return O1.serialize(this)}},ve=class{constructor(n,t){this.segments=n,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return al(this)}},Fi=class{constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap??=Fr(this.parameters),this._parameterMap}toString(){return Z_(this)}};function T1(e,n){return Li(e,n)&&e.every((t,i)=>vn(t.parameters,n[i].parameters))}function Li(e,n){return e.length!==n.length?!1:e.every((t,i)=>t.path===n[i].path)}function A1(e,n){let t=[];return Object.entries(e.children).forEach(([i,r])=>{i===ee&&(t=t.concat(n(r,i)))}),Object.entries(e.children).forEach(([i,r])=>{i!==ee&&(t=t.concat(n(r,i)))}),t}var ls=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=I({token:e,factory:()=>new es,providedIn:"root"})}}return e})(),es=class{parse(n){let t=new ef(n);return new ri(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){let t=`/${Yo(n.root,!0)}`,i=R1(n.queryParams),r=typeof n.fragment=="string"?`#${k1(n.fragment)}`:"";return`${t}${i}${r}`}},O1=new es;function al(e){return e.segments.map(n=>Z_(n)).join("/")}function Yo(e,n){if(!e.hasChildren())return al(e);if(n){let t=e.children[ee]?Yo(e.children[ee],!1):"",i=[];return Object.entries(e.children).forEach(([r,o])=>{r!==ee&&i.push(`${r}:${Yo(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=A1(e,(i,r)=>r===ee?[Yo(e.children[ee],!1)]:[`${r}:${Yo(i,!1)}`]);return Object.keys(e.children).length===1&&e.children[ee]!=null?`${al(e)}/${t[0]}`:`${al(e)}/(${t.join("//")})`}}function Q_(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function rl(e){return Q_(e).replace(/%3B/gi,";")}function k1(e){return encodeURI(e)}function Jh(e){return Q_(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function cl(e){return decodeURIComponent(e)}function F_(e){return cl(e.replace(/\+/g,"%20"))}function Z_(e){return`${Jh(e.path)}${P1(e.parameters)}`}function P1(e){return Object.entries(e).map(([n,t])=>`;${Jh(n)}=${Jh(t)}`).join("")}function R1(e){let n=Object.entries(e).map(([t,i])=>Array.isArray(i)?i.map(r=>`${rl(t)}=${rl(r)}`).join("&"):`${rl(t)}=${rl(i)}`).filter(t=>t);return n.length?`?${n.join("&")}`:""}var N1=/^[^\/()?;#]+/;function qh(e){let n=e.match(N1);return n?n[0]:""}var F1=/^[^\/()?;=#]+/;function L1(e){let n=e.match(F1);return n?n[0]:""}var V1=/^[^=?&#]+/;function j1(e){let n=e.match(V1);return n?n[0]:""}var B1=/^[^&#]+/;function U1(e){let n=e.match(B1);return n?n[0]:""}var ef=class{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ve([],{}):new ve([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(i[ee]=new ve(n,t)),i}parseSegment(){let n=qh(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new R(4009,!1);return this.capture(n),new Fi(cl(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let t=L1(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let r=qh(this.remaining);r&&(i=r,this.capture(i))}n[cl(t)]=cl(i)}parseQueryParam(n){let t=j1(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let s=U1(this.remaining);s&&(i=s,this.capture(i))}let r=F_(t),o=F_(i);if(n.hasOwnProperty(r)){let s=n[r];Array.isArray(s)||(s=[s],n[r]=s),s.push(o)}else n[r]=o}parseParens(n){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=qh(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new R(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=ee);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[ee]:new ve([],s),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new R(4011,!1)}};function K_(e){return e.segments.length>0?new ve([],{[ee]:e}):e}function X_(e){let n={};for(let[i,r]of Object.entries(e.children)){let o=X_(r);if(i===ee&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[i]=o)}let t=new ve(e.segments,n);return $1(t)}function $1(e){if(e.numberOfChildren===1&&e.children[ee]){let n=e.children[ee];return new ve(e.segments.concat(n.segments),n.children)}return e}function Lr(e){return e instanceof ri}function H1(e,n,t=null,i=null){let r=J_(e);return ey(r,n,t,i)}function J_(e){let n;function t(o){let s={};for(let c of o.children){let h=t(c);s[c.outlet]=h}let a=new ve(o.url,s);return o===e&&(n=a),a}let i=t(e.root),r=K_(i);return n??r}function ey(e,n,t,i){let r=e;for(;r.parent;)r=r.parent;if(n.length===0)return Yh(r,r,r,t,i);let o=z1(n);if(o.toRoot())return Yh(r,r,new ve([],{}),t,i);let s=G1(o,r,e),a=s.processChildren?Ko(s.segmentGroup,s.index,o.commands):ny(s.segmentGroup,s.index,o.commands);return Yh(r,s.segmentGroup,a,t,i)}function ll(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function ts(e){return typeof e=="object"&&e!=null&&e.outlets}function Yh(e,n,t,i,r){let o={};i&&Object.entries(i).forEach(([c,h])=>{o[c]=Array.isArray(h)?h.map(f=>`${f}`):`${h}`});let s;e===n?s=t:s=ty(e,n,t);let a=K_(X_(s));return new ri(a,o,r)}function ty(e,n,t){let i={};return Object.entries(e.children).forEach(([r,o])=>{o===n?i[r]=t:i[r]=ty(o,n,t)}),new ve(e.segments,i)}var dl=class{constructor(n,t,i){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=i,n&&i.length>0&&ll(i[0]))throw new R(4003,!1);let r=i.find(ts);if(r&&r!==z_(i))throw new R(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function z1(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new dl(!0,0,e);let n=0,t=!1,i=e.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,h])=>{a[c]=typeof h=="string"?h.split("/"):h}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?n++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new dl(t,n,i)}var Rr=class{constructor(n,t,i){this.segmentGroup=n,this.processChildren=t,this.index=i}};function G1(e,n,t){if(e.isAbsolute)return new Rr(n,!0,0);if(!t)return new Rr(n,!1,NaN);if(t.parent===null)return new Rr(t,!0,0);let i=ll(e.commands[0])?0:1,r=t.segments.length-1+i;return W1(t,r,e.numberOfDoubleDots)}function W1(e,n,t){let i=e,r=n,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new R(4005,!1);r=i.segments.length}return new Rr(i,!1,r-o)}function q1(e){return ts(e[0])?e[0].outlets:{[ee]:e}}function ny(e,n,t){if(e??=new ve([],{}),e.segments.length===0&&e.hasChildren())return Ko(e,n,t);let i=Y1(e,n,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){let o=new ve(e.segments.slice(0,i.pathIndex),{});return o.children[ee]=new ve(e.segments.slice(i.pathIndex),e.children),Ko(o,0,r)}else return i.match&&r.length===0?new ve(e.segments,{}):i.match&&!e.hasChildren()?tf(e,n,t):i.match?Ko(e,0,r):tf(e,n,t)}function Ko(e,n,t){if(t.length===0)return new ve(e.segments,{});{let i=q1(t),r={};if(Object.keys(i).some(o=>o!==ee)&&e.children[ee]&&e.numberOfChildren===1&&e.children[ee].segments.length===0){let o=Ko(e.children[ee],n,t);return new ve(e.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=ny(e.children[o],n,s))}),Object.entries(e.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new ve(e.segments,r)}}function Y1(e,n,t){let i=0,r=n,o={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(i>=t.length)return o;let s=e.segments[r],a=t[i];if(ts(a))break;let c=`${a}`,h=i<t.length-1?t[i+1]:null;if(r>0&&c===void 0)break;if(c&&h&&typeof h=="object"&&h.outlets===void 0){if(!V_(c,h,s))return o;i+=2}else{if(!V_(c,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function tf(e,n,t){let i=e.segments.slice(0,n),r=0;for(;r<t.length;){let o=t[r];if(ts(o)){let c=Q1(o.outlets);return new ve(i,c)}if(r===0&&ll(t[0])){let c=e.segments[n];i.push(new Fi(c.path,L_(t[0]))),r++;continue}let s=ts(o)?o.outlets[ee]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&ll(a)?(i.push(new Fi(s,L_(a))),r+=2):(i.push(new Fi(s,{})),r++)}return new ve(i,{})}function Q1(e){let n={};return Object.entries(e).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(n[t]=tf(new ve([],{}),0,i))}),n}function L_(e){let n={};return Object.entries(e).forEach(([t,i])=>n[t]=`${i}`),n}function V_(e,n,t){return e==t.path&&vn(n,t.parameters)}var Xo="imperative",qe=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(qe||{}),Nt=class{constructor(n,t){this.id=n,this.url=t}},Vr=class extends Nt{constructor(n,t,i="imperative",r=null){super(n,t),this.type=qe.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Xt=class extends Nt{constructor(n,t,i){super(n,t),this.urlAfterRedirects=i,this.type=qe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Tt=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Tt||{}),ul=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(ul||{}),oi=class extends Nt{constructor(n,t,i,r){super(n,t),this.reason=i,this.code=r,this.type=qe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},si=class extends Nt{constructor(n,t,i,r){super(n,t),this.reason=i,this.code=r,this.type=qe.NavigationSkipped}},ns=class extends Nt{constructor(n,t,i,r){super(n,t),this.error=i,this.target=r,this.type=qe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},hl=class extends Nt{constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r,this.type=qe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},nf=class extends Nt{constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r,this.type=qe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rf=class extends Nt{constructor(n,t,i,r,o){super(n,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=qe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},of=class extends Nt{constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r,this.type=qe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sf=class extends Nt{constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r,this.type=qe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},af=class{constructor(n){this.route=n,this.type=qe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},cf=class{constructor(n){this.route=n,this.type=qe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},lf=class{constructor(n){this.snapshot=n,this.type=qe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},df=class{constructor(n){this.snapshot=n,this.type=qe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},uf=class{constructor(n){this.snapshot=n,this.type=qe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hf=class{constructor(n){this.snapshot=n,this.type=qe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fl=class{constructor(n,t,i){this.routerEvent=n,this.position=t,this.anchor=i,this.type=qe.Scroll}toString(){let n=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${n}')`}},is=class{},rs=class{constructor(n){this.url=n}};var ff=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ds,this.attachRef=null}},ds=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){let r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){let i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new ff,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),pl=class{constructor(n){this._root=n}get root(){return this._root.value}parent(n){let t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){let t=pf(n,this._root);return t?t.children.map(i=>i.value):[]}firstChild(n){let t=pf(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){let t=mf(n,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==n)}pathFromRoot(n){return mf(n,this._root).map(t=>t.value)}};function pf(e,n){if(e===n.value)return n;for(let t of n.children){let i=pf(e,t);if(i)return i}return null}function mf(e,n){if(e===n.value)return[n];for(let t of n.children){let i=mf(e,t);if(i.length)return i.unshift(n),i}return[]}var Mt=class{constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}};function Pr(e){let n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}var ml=class extends pl{constructor(n,t){super(n),this.snapshot=t,Ef(this,n)}toString(){return this.snapshot.toString()}};function iy(e){let n=Z1(e),t=new Se([new Fi("",{})]),i=new Se({}),r=new Se({}),o=new Se({}),s=new Se(""),a=new Bn(t,i,o,s,r,ee,e,n.root);return a.snapshot=n.root,new ml(new Mt(a,[]),n)}function Z1(e){let n={},t={},i={},r="",o=new os([],n,i,r,t,ee,e,null,{});return new gl("",new Mt(o,[]))}var Bn=class{constructor(n,t,i,r,o,s,a,c){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe($(h=>h[cs]))??F(void 0),this.url=n,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe($(n=>Fr(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe($(n=>Fr(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Df(e,n,t="emptyOnly"){let i,{routeConfig:r}=e;return n!==null&&(t==="always"||r?.path===""||!n.component&&!n.routeConfig?.loadComponent)?i={params:S(S({},n.params),e.params),data:S(S({},n.data),e.data),resolve:S(S(S(S({},e.data),n.data),r?.data),e._resolvedData)}:i={params:S({},e.params),data:S({},e.data),resolve:S(S({},e.data),e._resolvedData??{})},r&&oy(r)&&(i.resolve[cs]=r.title),i}var os=class{get title(){return this.data?.[cs]}constructor(n,t,i,r,o,s,a,c,h){this.url=n,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Fr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Fr(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${t}')`}},gl=class extends pl{constructor(n,t){super(t),this.url=n,Ef(this,t)}toString(){return ry(this._root)}};function Ef(e,n){n.value._routerState=e,n.children.forEach(t=>Ef(e,t))}function ry(e){let n=e.children.length>0?` { ${e.children.map(ry).join(", ")} } `:"";return`${e.value}${n}`}function Qh(e){if(e.snapshot){let n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,vn(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),vn(n.params,t.params)||e.paramsSubject.next(t.params),E1(n.url,t.url)||e.urlSubject.next(t.url),vn(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function gf(e,n){let t=vn(e.params,n.params)&&T1(e.url,n.url),i=!e.parent!=!n.parent;return t&&!i&&(!e.parent||gf(e.parent,n.parent))}function oy(e){return typeof e.title=="string"||e.title===null}var If=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ee,this.activateEvents=new oe,this.deactivateEvents=new oe,this.attachEvents=new oe,this.detachEvents=new oe,this.parentContexts=E(ds),this.location=E(Dt),this.changeDetector=E(Ue),this.environmentInjector=E(et),this.inputBinder=E(wl,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new R(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new R(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new R(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new R(4013,!1);this._activatedRoute=t;let r=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new vf(t,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=ue({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[tt]})}}return e})(),vf=class e{__ngOutletInjector(n){return new e(this.route,this.childContexts,n)}constructor(n,t,i){this.route=n,this.childContexts=t,this.parent=i}get(n,t){return n===Bn?this.route:n===ds?this.childContexts:this.parent.get(n,t)}},wl=new k(""),j_=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:i}=t,r=gi([i.queryParams,i.params,i.data]).pipe(Ge(([o,s,a],c)=>(a=S(S(S({},o),s),a),c===0?F(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(t);return}let s=_v(i.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,r)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac})}}return e})();function K1(e,n,t){let i=ss(e,n._root,t?t._root:void 0);return new ml(i,n)}function ss(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=n.value;let r=X1(e,n,t);return new Mt(i,r)}else{if(e.shouldAttach(n.value)){let o=e.retrieve(n.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>ss(e,a)),s}}let i=J1(n.value),r=n.children.map(o=>ss(e,o));return new Mt(i,r)}}function X1(e,n,t){return n.children.map(i=>{for(let r of t.children)if(e.shouldReuseRoute(i.value,r.value.snapshot))return ss(e,i,r);return ss(e,i)})}function J1(e){return new Bn(new Se(e.url),new Se(e.params),new Se(e.queryParams),new Se(e.fragment),new Se(e.data),e.outlet,e.component,e)}var sy="ngNavigationCancelingError";function ay(e,n){let{redirectTo:t,navigationBehaviorOptions:i}=Lr(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,r=cy(!1,Tt.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function cy(e,n){let t=new Error(`NavigationCancelingError: ${e||""}`);return t[sy]=!0,t.cancellationCode=n,t}function eT(e){return ly(e)&&Lr(e.url)}function ly(e){return!!e&&e[sy]}var tT=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=_e({type:e,selectors:[["ng-component"]],standalone:!0,features:[je],decls:1,vars:0,template:function(i,r){i&1&&g(0,"router-outlet")},dependencies:[If],encapsulation:2})}}return e})();function nT(e,n){return e.providers&&!e._injector&&(e._injector=uc(e.providers,n,`Route: ${e.path}`)),e._injector??n}function Sf(e){let n=e.children&&e.children.map(Sf),t=n?de(S({},e),{children:n}):S({},e);return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==ee&&(t.component=tT),t}function _n(e){return e.outlet||ee}function iT(e,n){let t=e.filter(i=>_n(i)===n);return t.push(...e.filter(i=>_n(i)!==n)),t}function us(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){let t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var rT=(e,n,t,i)=>$(r=>(new _f(n,r.targetRouterState,r.currentRouterState,t,i).activate(e),r)),_f=class{constructor(n,t,i,r,o){this.routeReuseStrategy=n,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(n){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,n),Qh(this.futureState.root),this.activateChildRoutes(t,i,n)}deactivateChildRoutes(n,t,i){let r=Pr(t);n.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(n,t,i){let r=n.value,o=t?t.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(n,t,s.children)}else this.deactivateChildRoutes(n,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){let i=t.getContext(n.value.outlet),r=i&&n.value.component?i.children:t,o=Pr(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){let i=t.getContext(n.value.outlet),r=i&&n.value.component?i.children:t,o=Pr(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(n,t,i){let r=Pr(t);n.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new hf(o.value.snapshot))}),n.children.length&&this.forwardEvent(new df(n.value.snapshot))}activateRoutes(n,t,i){let r=n.value,o=t?t.value:null;if(Qh(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(n,t,s.children)}else this.activateChildRoutes(n,t,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Qh(a.route.value),this.activateChildRoutes(n,null,s.children)}else{let a=us(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(n,null,s.children)}}else this.activateChildRoutes(n,null,i)}},vl=class{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},Nr=class{constructor(n,t){this.component=n,this.route=t}};function oT(e,n,t){let i=e._root,r=n?n._root:null;return Qo(i,r,t,[i.value])}function sT(e){let n=e.routeConfig?e.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:e,guards:n}}function Br(e,n){let t=Symbol(),i=n.get(e,t);return i===t?typeof e=="function"&&!zm(e)?e:n.get(e):i}function Qo(e,n,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Pr(n);return e.children.forEach(s=>{aT(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Jo(a,t.getContext(s),r)),r}function aT(e,n,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=cT(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new vl(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Qo(e,n,a?a.children:null,i,r):Qo(e,n,t,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Nr(a.outlet.component,s))}else s&&Jo(n,a,r),r.canActivateChecks.push(new vl(i)),o.component?Qo(e,null,a?a.children:null,i,r):Qo(e,null,t,i,r);return r}function cT(e,n,t){if(typeof t=="function")return t(e,n);switch(t){case"pathParamsChange":return!Li(e.url,n.url);case"pathParamsOrQueryParamsChange":return!Li(e.url,n.url)||!vn(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!gf(e,n)||!vn(e.queryParams,n.queryParams);case"paramsChange":default:return!gf(e,n)}}function Jo(e,n,t){let i=Pr(e),r=e.value;Object.entries(i).forEach(([o,s])=>{r.component?n?Jo(s,n.children.getContext(o),t):Jo(s,null,t):Jo(s,n,t)}),r.component?n&&n.outlet&&n.outlet.isActivated?t.canDeactivateChecks.push(new Nr(n.outlet.component,r)):t.canDeactivateChecks.push(new Nr(null,r)):t.canDeactivateChecks.push(new Nr(null,r))}function hs(e){return typeof e=="function"}function lT(e){return typeof e=="boolean"}function dT(e){return e&&hs(e.canLoad)}function uT(e){return e&&hs(e.canActivate)}function hT(e){return e&&hs(e.canActivateChild)}function fT(e){return e&&hs(e.canDeactivate)}function pT(e){return e&&hs(e.canMatch)}function dy(e){return e instanceof jt||e?.name==="EmptyError"}var ol=Symbol("INITIAL_VALUE");function jr(){return Ge(e=>gi(e.map(n=>n.pipe(ze(1),an(ol)))).pipe($(n=>{for(let t of n)if(t!==!0){if(t===ol)return ol;if(t===!1||t instanceof ri)return t}return!0}),Ee(n=>n!==ol),ze(1)))}function mT(e,n){return ke(t=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?F(de(S({},t),{guardsResult:!0})):gT(s,i,r,e).pipe(ke(a=>a&&lT(a)?vT(i,o,e,n):F(a)),$(a=>de(S({},t),{guardsResult:a})))})}function gT(e,n,t,i){return ye(e).pipe(ke(r=>CT(r.component,r.route,t,n,i)),sn(r=>r!==!0,!0))}function vT(e,n,t,i){return ye(n).pipe(bn(r=>Hn(yT(r.route.parent,i),_T(r.route,i),wT(e,r.path,t),bT(e,r.route,t))),sn(r=>r!==!0,!0))}function _T(e,n){return e!==null&&n&&n(new uf(e)),F(!0)}function yT(e,n){return e!==null&&n&&n(new lf(e)),F(!0)}function bT(e,n,t){let i=n.routeConfig?n.routeConfig.canActivate:null;if(!i||i.length===0)return F(!0);let r=i.map(o=>zn(()=>{let s=us(n)??t,a=Br(o,s),c=uT(a)?a.canActivate(n,e):Wt(s,()=>a(n,e));return ci(c).pipe(sn())}));return F(r).pipe(jr())}function wT(e,n,t){let i=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>sT(s)).filter(s=>s!==null).map(s=>zn(()=>{let a=s.guards.map(c=>{let h=us(s.node)??t,f=Br(c,h),p=hT(f)?f.canActivateChild(i,e):Wt(h,()=>f(i,e));return ci(p).pipe(sn())});return F(a).pipe(jr())}));return F(o).pipe(jr())}function CT(e,n,t,i,r){let o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!o||o.length===0)return F(!0);let s=o.map(a=>{let c=us(n)??r,h=Br(a,c),f=fT(h)?h.canDeactivate(e,n,t,i):Wt(c,()=>h(e,n,t,i));return ci(f).pipe(sn())});return F(s).pipe(jr())}function xT(e,n,t,i){let r=n.canLoad;if(r===void 0||r.length===0)return F(!0);let o=r.map(s=>{let a=Br(s,e),c=dT(a)?a.canLoad(n,t):Wt(e,()=>a(n,t));return ci(c)});return F(o).pipe(jr(),uy(i))}function uy(e){return Yl(Me(n=>{if(Lr(n))throw ay(e,n)}),$(n=>n===!0))}function DT(e,n,t,i){let r=n.canMatch;if(!r||r.length===0)return F(!0);let o=r.map(s=>{let a=Br(s,e),c=pT(a)?a.canMatch(n,t):Wt(e,()=>a(n,t));return ci(c)});return F(o).pipe(jr(),uy(i))}var as=class{constructor(n){this.segmentGroup=n||null}},_l=class extends Error{constructor(n){super(),this.urlTree=n}};function kr(e){return rn(new as(e))}function ET(e){return rn(new R(4e3,!1))}function IT(e){return rn(cy(!1,Tt.GuardRejected))}var yf=class{constructor(n,t){this.urlSerializer=n,this.urlTree=t}lineralizeSegments(n,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return F(i);if(r.numberOfChildren>1||!r.children[ee])return ET(n.redirectTo);r=r.children[ee]}}applyRedirectCommands(n,t,i){let r=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,i);if(t.startsWith("/"))throw new _l(r);return r}applyRedirectCreateUrlTree(n,t,i,r){let o=this.createSegmentGroup(n,t.root,i,r);return new ri(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){let i={};return Object.entries(n).forEach(([r,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);i[r]=t[a]}else i[r]=o}),i}createSegmentGroup(n,t,i,r){let o=this.createSegments(n,t.segments,i,r),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(n,c,i,r)}),new ve(o,s)}createSegments(n,t,i,r){return t.map(o=>o.path.startsWith(":")?this.findPosParam(n,o,r):this.findOrReturn(o,i))}findPosParam(n,t,i){let r=i[t.path.substring(1)];if(!r)throw new R(4001,!1);return r}findOrReturn(n,t){let i=0;for(let r of t){if(r.path===n.path)return t.splice(i),r;i++}return n}},bf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ST(e,n,t,i,r){let o=Mf(e,n,t);return o.matched?(i=nT(n,i),DT(i,n,t,r).pipe($(s=>s===!0?o:S({},bf)))):F(o)}function Mf(e,n,t){if(n.path==="**")return MT(t);if(n.path==="")return n.pathMatch==="full"&&(e.hasChildren()||t.length>0)?S({},bf):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(n.matcher||D1)(t,e,n);if(!r)return S({},bf);let o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=r.consumed.length>0?S(S({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function MT(e){return{matched:!0,parameters:e.length>0?z_(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function B_(e,n,t,i){return t.length>0&&OT(e,t,i)?{segmentGroup:new ve(n,AT(i,new ve(t,e.children))),slicedSegments:[]}:t.length===0&&kT(e,t,i)?{segmentGroup:new ve(e.segments,TT(e,t,i,e.children)),slicedSegments:t}:{segmentGroup:new ve(e.segments,e.children),slicedSegments:t}}function TT(e,n,t,i){let r={};for(let o of t)if(Cl(e,n,o)&&!i[_n(o)]){let s=new ve([],{});r[_n(o)]=s}return S(S({},i),r)}function AT(e,n){let t={};t[ee]=n;for(let i of e)if(i.path===""&&_n(i)!==ee){let r=new ve([],{});t[_n(i)]=r}return t}function OT(e,n,t){return t.some(i=>Cl(e,n,i)&&_n(i)!==ee)}function kT(e,n,t){return t.some(i=>Cl(e,n,i))}function Cl(e,n,t){return(e.hasChildren()||n.length>0)&&t.pathMatch==="full"?!1:t.path===""}function PT(e,n,t,i){return _n(e)!==i&&(i===ee||!Cl(n,t,e))?!1:Mf(n,e,t).matched}function RT(e,n,t){return n.length===0&&!e.children[t]}var wf=class{};function NT(e,n,t,i,r,o,s="emptyOnly"){return new Cf(e,n,t,i,r,s,o).recognize()}var FT=31,Cf=class{constructor(n,t,i,r,o,s,a){this.injector=n,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new yf(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(n){return new R(4002,`'${n.segmentGroup}'`)}recognize(){let n=B_(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe($(t=>{let i=new os([],Object.freeze({}),Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,{},ee,this.rootComponentType,null,{}),r=new Mt(i,t),o=new gl("",r),s=H1(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n,ee).pipe(Je(i=>{if(i instanceof _l)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof as?this.noMatchError(i):i}))}inheritParamsAndData(n,t){let i=n.value,r=Df(i,t,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),n.children.forEach(o=>this.inheritParamsAndData(o,i))}processSegmentGroup(n,t,i,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(n,t,i):this.processSegment(n,t,i,i.segments,r,!0).pipe($(o=>o instanceof Mt?[o]:[]))}processChildren(n,t,i){let r=[];for(let o of Object.keys(i.children))o==="primary"?r.unshift(o):r.push(o);return ye(r).pipe(bn(o=>{let s=i.children[o],a=iT(t,o);return this.processSegmentGroup(n,a,s,o)}),rd((o,s)=>(o.push(...s),o)),Gn(null),id(),ke(o=>{if(o===null)return kr(i);let s=hy(o);return LT(s),F(s)}))}processSegment(n,t,i,r,o,s){return ye(t).pipe(bn(a=>this.processSegmentAgainstRoute(a._injector??n,t,a,i,r,o,s).pipe(Je(c=>{if(c instanceof as)return F(null);throw c}))),sn(a=>!!a),Je(a=>{if(dy(a))return RT(i,r,o)?F(new wf):kr(i);throw a}))}processSegmentAgainstRoute(n,t,i,r,o,s,a){return PT(i,r,o,s)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(n,r,i,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,r,t,i,o,s):kr(r):kr(r)}expandSegmentAgainstRouteUsingRedirect(n,t,i,r,o,s){let{matched:a,consumedSegments:c,positionalParamSegments:h,remainingSegments:f}=Mf(t,r,o);if(!a)return kr(t);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>FT&&(this.allowRedirects=!1));let p=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,h);return this.applyRedirects.lineralizeSegments(r,p).pipe(ke(_=>this.processSegment(n,i,t,_.concat(f),s,!1)))}matchSegmentAgainstRoute(n,t,i,r,o){let s=ST(t,i,r,n,this.urlSerializer);return i.path==="**"&&(t.children={}),s.pipe(Ge(a=>a.matched?(n=i._injector??n,this.getChildConfig(n,i,r).pipe(Ge(({routes:c})=>{let h=i._loadedInjector??n,{consumedSegments:f,remainingSegments:p,parameters:_}=a,v=new os(f,_,Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,jT(i),_n(i),i.component??i._loadedComponent??null,i,BT(i)),{segmentGroup:w,slicedSegments:x}=B_(t,f,p,c);if(x.length===0&&w.hasChildren())return this.processChildren(h,c,w).pipe($(P=>P===null?null:new Mt(v,P)));if(c.length===0&&x.length===0)return F(new Mt(v,[]));let T=_n(i)===o;return this.processSegment(h,c,w,x,T?ee:o,!0).pipe($(P=>new Mt(v,P instanceof Mt?[P]:[])))}))):kr(t)))}getChildConfig(n,t,i){return t.children?F({routes:t.children,injector:n}):t.loadChildren?t._loadedRoutes!==void 0?F({routes:t._loadedRoutes,injector:t._loadedInjector}):xT(n,t,i,this.urlSerializer).pipe(ke(r=>r?this.configLoader.loadChildren(n,t).pipe(Me(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):IT(t))):F({routes:[],injector:n})}};function LT(e){e.sort((n,t)=>n.value.outlet===ee?-1:t.value.outlet===ee?1:n.value.outlet.localeCompare(t.value.outlet))}function VT(e){let n=e.value.routeConfig;return n&&n.path===""}function hy(e){let n=[],t=new Set;for(let i of e){if(!VT(i)){n.push(i);continue}let r=n.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),t.add(r)):n.push(i)}for(let i of t){let r=hy(i.children);n.push(new Mt(i.value,r))}return n.filter(i=>!t.has(i))}function jT(e){return e.data||{}}function BT(e){return e.resolve||{}}function UT(e,n,t,i,r,o){return ke(s=>NT(e,n,t,i,s.extractedUrl,r,o).pipe($(({state:a,tree:c})=>de(S({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function $T(e,n){return ke(t=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return F(t);let o=new Set(r.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let h of fy(c))s.add(h);let a=0;return ye(s).pipe(bn(c=>o.has(c)?HT(c,i,e,n):(c.data=Df(c,c.parent,e).resolve,F(void 0))),Me(()=>a++),nr(1),ke(c=>a===s.size?F(t):ct))})}function fy(e){let n=e.children.map(t=>fy(t)).flat();return[e,...n]}function HT(e,n,t,i){let r=e.routeConfig,o=e._resolve;return r?.title!==void 0&&!oy(r)&&(o[cs]=r.title),zT(o,e,n,i).pipe($(s=>(e._resolvedData=s,e.data=Df(e,e.parent,t).resolve,null)))}function zT(e,n,t,i){let r=Xh(e);if(r.length===0)return F({});let o={};return ye(r).pipe(ke(s=>GT(e[s],n,t,i).pipe(sn(),Me(a=>{o[s]=a}))),nr(1),nd(o),Je(s=>dy(s)?ct:rn(s)))}function GT(e,n,t,i){let r=us(n)??i,o=Br(e,r),s=o.resolve?o.resolve(n,t):Wt(r,()=>o(n,t));return ci(s)}function Zh(e){return Ge(n=>{let t=e(n);return t?ye(t).pipe($(()=>n)):F(n)})}var py=(()=>{class e{buildTitle(t){let i,r=t.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===ee);return i}getResolvedTitleForRoute(t){return t.data[cs]}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=I({token:e,factory:()=>E(WT),providedIn:"root"})}}return e})(),WT=(()=>{class e extends py{constructor(t){super(),this.title=t}updateTitle(t){let i=this.buildTitle(t);i!==void 0&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||e)(y(Hc))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),fs=new k("",{providedIn:"root",factory:()=>({})}),yl=new k(""),Tf=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=E(_c)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return F(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let i=ci(t.loadComponent()).pipe($(my),Me(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),lt(()=>{this.componentLoaders.delete(t)})),r=new Zi(i,()=>new z).pipe(Qi());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return F({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=qT(i,this.compiler,t,this.onLoadEndListener).pipe(lt(()=>{this.childrenLoaders.delete(i)})),s=new Zi(o,()=>new z).pipe(Qi());return this.childrenLoaders.set(i,s),s}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function qT(e,n,t,i){return ci(e.loadChildren()).pipe($(my),ke(r=>r instanceof mo||Array.isArray(r)?F(r):ye(n.compileModuleAsync(r))),$(r=>{i&&i(e);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(t).injector,s=o.get(yl,[],{optional:!0,self:!0}).flat()),{routes:s.map(Sf),injector:o}}))}function YT(e){return e&&typeof e=="object"&&"default"in e}function my(e){return YT(e)?e.default:e}var Af=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=I({token:e,factory:()=>E(QT),providedIn:"root"})}}return e})(),QT=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),gy=new k(""),vy=new k("");function ZT(e,n,t){let i=e.get(vy),r=e.get(Q);return e.get(j).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(h=>setTimeout(h));let o,s=new Promise(h=>{o=h}),a=r.startViewTransition(()=>(o(),KT(e))),{onViewTransitionCreated:c}=i;return c&&Wt(e,()=>c({transition:a,from:n,to:t})),s})}function KT(e){return new Promise(n=>{dc(n,{injector:e})})}var Of=(()=>{class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new z,this.transitionAbortSubject=new z,this.configLoader=E(Tf),this.environmentInjector=E(et),this.urlSerializer=E(ls),this.rootContexts=E(ds),this.location=E(mn),this.inputBindingEnabled=E(wl,{optional:!0})!==null,this.titleStrategy=E(py),this.options=E(fs,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=E(Af),this.createViewTransition=E(gy,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>F(void 0),this.rootComponentType=null;let t=r=>this.events.next(new af(r)),i=r=>this.events.next(new cf(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let i=++this.navigationId;this.transitions?.next(de(S(S({},this.transitions.value),t),{id:i}))}setupNavigations(t,i,r){return this.transitions=new Se({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Xo,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ee(o=>o.id!==0),$(o=>de(S({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Ge(o=>{let s=!1,a=!1;return F(o).pipe(Ge(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Tt.SupersededByNewNavigation),ct;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?de(S({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=c.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!h&&f!=="reload"){let p="";return this.events.next(new si(c.id,this.urlSerializer.serialize(c.rawUrl),p,ul.IgnoredSameUrlNavigation)),c.resolve(null),ct}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return F(c).pipe(Ge(p=>{let _=this.transitions?.getValue();return this.events.next(new Vr(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),_!==this.transitions?.getValue()?ct:Promise.resolve(p)}),UT(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Me(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=de(S({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let _=new hl(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(_)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:p,extractedUrl:_,source:v,restoredState:w,extras:x}=c,T=new Vr(p,this.urlSerializer.serialize(_),v,w);this.events.next(T);let P=iy(this.rootComponentType).snapshot;return this.currentTransition=o=de(S({},c),{targetSnapshot:P,urlAfterRedirects:_,extras:de(S({},x),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=_,F(o)}else{let p="";return this.events.next(new si(c.id,this.urlSerializer.serialize(c.extractedUrl),p,ul.IgnoredByUrlHandlingStrategy)),c.resolve(null),ct}}),Me(c=>{let h=new nf(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(h)}),$(c=>(this.currentTransition=o=de(S({},c),{guards:oT(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),mT(this.environmentInjector,c=>this.events.next(c)),Me(c=>{if(o.guardsResult=c.guardsResult,Lr(c.guardsResult))throw ay(this.urlSerializer,c.guardsResult);let h=new rf(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(h)}),Ee(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Tt.GuardRejected),!1)),Zh(c=>{if(c.guards.canActivateChecks.length)return F(c).pipe(Me(h=>{let f=new of(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}),Ge(h=>{let f=!1;return F(h).pipe($T(this.paramsInheritanceStrategy,this.environmentInjector),Me({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(h,"",Tt.NoDataFromResolver)}}))}),Me(h=>{let f=new sf(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}))}),Zh(c=>{let h=f=>{let p=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(f.routeConfig).pipe(Me(_=>{f.component=_}),$(()=>{})));for(let _ of f.children)p.push(...h(_));return p};return gi(h(c.targetSnapshot.root)).pipe(Gn(null),ze(1))}),Zh(()=>this.afterPreactivation()),Ge(()=>{let{currentSnapshot:c,targetSnapshot:h}=o,f=this.createViewTransition?.(this.environmentInjector,c.root,h.root);return f?ye(f).pipe($(()=>o)):F(o)}),$(c=>{let h=K1(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=de(S({},c),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,o}),Me(()=>{this.events.next(new is)}),rT(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),ze(1),Me({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Xt(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),dt(this.transitionAbortSubject.pipe(Me(c=>{throw c}))),lt(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Tt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Je(c=>{if(a=!0,ly(c))this.events.next(new oi(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),eT(c)?this.events.next(new rs(c.url)):o.resolve(!1);else{this.events.next(new ns(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(c))}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return ct}))}))}cancelNavigationTransition(t,i,r){let o=new oi(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function XT(e){return e!==Xo}var JT=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=I({token:e,factory:()=>E(eA),providedIn:"root"})}}return e})(),xf=class{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}},eA=(()=>{class e extends xf{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=En(e)))(r||e)}})()}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),_y=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=I({token:e,factory:()=>E(tA),providedIn:"root"})}}return e})(),tA=(()=>{class e extends _y{constructor(){super(...arguments),this.location=E(mn),this.urlSerializer=E(ls),this.options=E(fs,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=E(Af),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ri,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=iy(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{i.type==="popstate"&&t(i.url,i.state)})}handleRouterEvent(t,i){if(t instanceof Vr)this.stateMemento=this.createStateMemento();else if(t instanceof si)this.rawUrlTree=i.initialUrl;else if(t instanceof hl){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(r,i)}}else t instanceof is?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):t instanceof oi&&(t.code===Tt.GuardRejected||t.code===Tt.NoDataFromResolver)?this.restoreHistory(i):t instanceof ns?this.restoreHistory(i,!0):t instanceof Xt&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,i){let r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){let o=this.browserPageId,s=S(S({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(r,"",s)}else{let o=S(S({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(r,"",o)}}restoreHistory(t,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=En(e)))(r||e)}})()}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Zo=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Zo||{});function yy(e,n){e.events.pipe(Ee(t=>t instanceof Xt||t instanceof oi||t instanceof ns||t instanceof si),$(t=>t instanceof Xt||t instanceof si?Zo.COMPLETE:(t instanceof oi?t.code===Tt.Redirect||t.code===Tt.SupersededByNewNavigation:!1)?Zo.REDIRECTING:Zo.FAILED),Ee(t=>t!==Zo.REDIRECTING),ze(1)).subscribe(()=>{n()})}function nA(e){throw e}var iA={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},rA={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ke=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=E(fc),this.stateManager=E(_y),this.options=E(fs,{optional:!0})||{},this.pendingTasks=E(Oi),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=E(Of),this.urlSerializer=E(ls),this.location=E(mn),this.urlHandlingStrategy=E(Af),this._events=new z,this.errorHandler=this.options.errorHandler||nA,this.navigated=!1,this.routeReuseStrategy=E(JT),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=E(yl,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!E(wl,{optional:!0}),this.eventsSubscription=new xe,this.isNgZoneEnabled=E(j)instanceof j&&j.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof oi&&i.code!==Tt.Redirect&&i.code!==Tt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Xt)this.navigated=!0;else if(i instanceof rs){let s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),a={info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||XT(r.source)};this.scheduleNavigation(s,Xo,null,a,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}sA(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Xo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",i)},0)})}navigateToSyncWithBrowser(t,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let c=S({},r);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Sf),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=i,h=c?this.currentUrlTree.fragment:s,f=null;switch(a){case"merge":f=S(S({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let p;try{let _=r?r.snapshot:this.routerState.snapshot.root;p=J_(_)}catch{(typeof t[0]!="string"||!t[0].startsWith("/"))&&(t=[]),p=this.currentUrlTree.root}return ey(p,t,f,h??null)}navigateByUrl(t,i={skipLocationChange:!1}){let r=Lr(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Xo,null,i)}navigate(t,i={skipLocationChange:!1}){return oA(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(i===!0?r=S({},iA):i===!1?r=S({},rA):r=i,Lr(t))return N_(this.currentUrlTree,t,r);let o=this.parseUrl(t);return N_(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.entries(t).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,h;s?(a=s.resolve,c=s.reject,h=s.promise):h=new Promise((p,_)=>{a=p,c=_});let f=this.pendingTasks.add();return yy(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function oA(e){for(let n=0;n<e.length;n++)if(e[n]==null)throw new R(4008,!1)}function sA(e){return!(e instanceof is)&&!(e instanceof rs)}var ai=(()=>{class e{constructor(t,i,r,o,s,a){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new z,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(h=>{h instanceof Xt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t!=null?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||i||r||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let i=this.href===null?null:h0(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(t,i){let r=this.renderer,o=this.el.nativeElement;i!==null?r.setAttribute(o,t,i):r.removeAttribute(o,t)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(i){return new(i||e)(C(Ke),C(Bn),yr("tabindex"),C(ei),C(ae),C(Ln))}}static{this.\u0275dir=ue({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){i&1&&M("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),i&2&&he("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[G.HasDecoratorInputTransform,"preserveFragment","preserveFragment",rt],skipLocationChange:[G.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",rt],replaceUrl:[G.HasDecoratorInputTransform,"replaceUrl","replaceUrl",rt],routerLink:"routerLink"},standalone:!0,features:[qt,tt]})}}return e})(),by=(()=>{class e{get isActive(){return this._isActive}constructor(t,i,r,o,s){this.router=t,this.element=i,this.renderer=r,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new oe,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof Xt&&this.update()})}ngAfterContentInit(){F(this.links.changes,F(null)).pipe(on()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=ye(t).pipe(on()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){let i=Array.isArray(t)?t:t.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(i=>{t?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let i=aA(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{let o=r.urlTree;return o?t.isActive(o,i):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static{this.\u0275fac=function(i){return new(i||e)(C(Ke),C(ae),C(ei),C(Ue),C(ai,8))}}static{this.\u0275dir=ue({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,o){if(i&1&&av(o,ai,5),i&2){let s;Qe(s=Ze())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[tt]})}}return e})();function aA(e){return!!e.paths}var bl=class{};var cA=(()=>{class e{constructor(t,i,r,o,s){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Ee(t=>t instanceof Xt),bn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){let r=[];for(let o of i){o.providers&&!o._injector&&(o._injector=uc(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return ye(r).pipe(on())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(t,i):r=F(null);let o=r.pipe(ke(s=>s===null?F(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(i.loadComponent&&!i._loadedComponent){let s=this.loader.loadComponent(i);return ye([o,s]).pipe(on())}else return o})}static{this.\u0275fac=function(i){return new(i||e)(y(Ke),y(_c),y(et),y(bl),y(Tf))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),wy=new k(""),lA=(()=>{class e{constructor(t,i,r,o,s={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=E(et),s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Vr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Xt?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof si&&t.code===ul.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof fl&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>st(this,null,function*(){yield new Promise(r=>{setTimeout(()=>{r()}),dc(()=>{r()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new fl(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){E0()}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac})}}return e})();function dA(e){return e.routerState.root}function ps(e,n){return{\u0275kind:e,\u0275providers:n}}function uA(){let e=E(Re);return n=>{let t=e.get(kn);if(n!==t.components[0])return;let i=e.get(Ke),r=e.get(Cy);e.get(kf)===1&&i.initialNavigation(),e.get(xy,null,re.Optional)?.setUpPreloading(),e.get(wy,null,re.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var Cy=new k("",{factory:()=>new z}),kf=new k("",{providedIn:"root",factory:()=>1});function hA(){return ps(2,[{provide:kf,useValue:0},{provide:gc,multi:!0,deps:[Re],useFactory:n=>{let t=n.get(Sv,Promise.resolve());return()=>t.then(()=>new Promise(i=>{let r=n.get(Ke),o=n.get(Cy);yy(r,()=>{i(!0)}),n.get(Of).afterPreactivation=()=>(i(!0),o.closed?F(void 0):o),r.initialNavigation()}))}}])}function fA(){return ps(3,[{provide:gc,multi:!0,useFactory:()=>{let n=E(Ke);return()=>{n.setUpLocationChangeListener()}}},{provide:kf,useValue:2}])}var xy=new k("");function pA(e){return ps(0,[{provide:xy,useExisting:cA},{provide:bl,useExisting:e}])}function mA(){return ps(8,[j_,{provide:wl,useExisting:j_}])}function gA(e){let n=[{provide:gy,useValue:ZT},{provide:vy,useValue:S({skipNextTransition:!!e?.skipInitialTransition},e)}];return ps(9,n)}var U_=new k("ROUTER_FORROOT_GUARD"),vA=[mn,{provide:ls,useClass:es},Ke,ds,{provide:Bn,useFactory:dA,deps:[Ke]},Tf,[]],ms=(()=>{class e{constructor(t){}static forRoot(t,i){return{ngModule:e,providers:[vA,[],{provide:yl,multi:!0,useValue:t},{provide:U_,useFactory:wA,deps:[[Ke,new Ga,new _u]]},{provide:fs,useValue:i||{}},i?.useHash?yA():bA(),_A(),i?.preloadingStrategy?pA(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?CA(i):[],i?.bindToComponentInputs?mA().\u0275providers:[],i?.enableViewTransitions?gA().\u0275providers:[],xA()]}}static forChild(t){return{ngModule:e,providers:[{provide:yl,multi:!0,useValue:t}]}}static{this.\u0275fac=function(i){return new(i||e)(y(U_,8))}}static{this.\u0275mod=Y({type:e})}static{this.\u0275inj=q({})}}return e})();function _A(){return{provide:wy,useFactory:()=>{let e=E(Lv),n=E(j),t=E(fs),i=E(Of),r=E(ls);return t.scrollOffset&&e.setOffset(t.scrollOffset),new lA(r,i,e,n,t)}}}function yA(){return{provide:Ln,useClass:Tv}}function bA(){return{provide:Ln,useClass:wh}}function wA(e){return"guarded"}function CA(e){return[e.initialNavigation==="disabled"?fA().\u0275providers:[],e.initialNavigation==="enabledBlocking"?hA().\u0275providers:[]]}var $_=new k("");function xA(){return[{provide:$_,useFactory:uA},{provide:vc,multi:!0,useExisting:$_}]}var yn=(()=>{class e{constructor(){this.showFooter=!0,this.socialLinks={"Py-Learn":{website:"https://pykara.ai",linkedin:"https://www.linkedin.com/in/pykara-technologies",youtube:"https://www.youtube.com/@PykaraTechnologies",facebook:"https://www.facebook.com/people/Pykara/100087653675803",instagram:"https://www.instagram.com/pykaratechnologie"},"MJ-Learn":{website:"https://www.majema.se",linkedin:"https://www.linkedin.com/company/majemaforlaget",youtube:"https://www.youtube.com/@majemaforlaget3014",facebook:"https://www.facebook.com/majemaforlaget",instagram:"https://www.instagram.com/majemaforlaget"}};let t=window.location.href,i="Py-Learn",r="assets/images/pykara-logo.png";t.includes("pykara-py-learn")?(i="Py-Learn",r="assets/images/pykara-logo.png",this.showFooter=!0):t.includes("majemaai-mj-learn")&&(i="MJ-Learn",r="assets/images/majema-logo.png",this.showFooter=!0),this.nameSubject=new Se(i),this.logoSubject=new Se(r),this.name$=this.nameSubject.asObservable(),this.logo$=this.logoSubject.asObservable()}get name(){return this.nameSubject.value}get logo(){return this.logoSubject.value}setName(t){this.nameSubject.next(t)}setLogo(t){this.logoSubject.next(t)}get socialLinksCurrent(){return this.socialLinks[this.name]}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var DA=[[["","header-right",""]]],EA=["[header-right]"];function IA(e,n){if(e&1&&(d(0,"div",8)(1,"h1"),u(2),l()()),e&2){let t=D();m(2),Te(t.title)}}function SA(e,n){e&1&&(d(0,"div",9)(1,"a",10),g(2,"img",11),l()())}var xl=(()=>{class e{constructor(t){this.brand=t,this.title=null,this.showHome=!0}static{this.\u0275fac=function(i){return new(i||e)(C(yn))}}static{this.\u0275cmp=_e({type:e,selectors:[["app-header"]],inputs:{title:"title",showHome:"showHome",logoSrc:"logoSrc",productName:"productName"},standalone:!0,features:[je],ngContentSelectors:EA,decls:10,vars:5,consts:[[1,"header-container"],[1,"logo"],["routerLink","/home",1,"brand-link"],[3,"src","alt"],[1,"product-name"],["class","header-title",4,"ngIf"],[1,"toggle-buttons-container","modern-toggle"],["class","home-btn",4,"ngIf"],[1,"header-title"],[1,"home-btn"],["routerLink","/home"],["src","assets/images/home.png","alt","Home",1,"home-icon"]],template:function(i,r){i&1&&(Tn(DA),d(0,"div",0)(1,"div",1)(2,"a",2),g(3,"img",3),l(),d(4,"span",4),u(5),l()(),L(6,IA,3,1,"div",5),d(7,"div",6),An(8),l(),L(9,SA,3,0,"div",7),l()),i&2&&(m(3),b("src",r.logoSrc||r.brand.logo,ie)("alt",(r.productName||r.brand.name)+" Logo"),m(2),Te(r.productName||r.brand.name),m(),b("ngIf",r.title),m(3),b("ngIf",r.showHome))},dependencies:[wt,bt,ms,ai],styles:["[_nghost-%COMP%]{display:block}.header-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;justify-content:space-between;padding:0 2vw;background-color:#009688;box-shadow:0 4px 8px #0003;width:100%;position:sticky;top:0;z-index:1000;overflow-x:clip}.header-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%], .header-container[_ngcontent-%COMP%]   .home-btn[_ngcontent-%COMP%], .header-container[_ngcontent-%COMP%]   .toggle-buttons-container[_ngcontent-%COMP%]{flex:0 0 auto}.header-title[_ngcontent-%COMP%]{flex:1 1 auto;min-width:0;text-align:center}.header-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3vw;color:#fff;margin:0;line-height:1.2;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.header-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:5vw;height:auto;background:#fff;border-radius:1vw;margin:.5vw}.home-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:5vw;transition:transform .2s ease}.home-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.08)}.logo[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1vw}.brand-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.6vw;text-decoration:none}.product-name[_ngcontent-%COMP%]{color:#fff;font-size:2vw;letter-spacing:.5px;font-family:Amonk_Outline;line-height:1}.brand-link[_ngcontent-%COMP%]:hover   .product-name[_ngcontent-%COMP%]{opacity:.9}.header-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Super Cartoon,cursive}"]})}}return e})();function MA(){return location.hostname.endsWith("hf.space")?"https://majemaai-mj-learn-backend.hf.space/rag":location.hostname==="localhost"||location.hostname==="127.0.0.1"?"http://localhost:5000/rag":"https://pylearn-backend-production.up.railway.app/rag"}var Dy=(()=>{class e{constructor(t){this.http=t,this.baseUrl=MA(),this.defaultModel="gpt-4o-mini"}getGrade(){let t=(localStorage.getItem("gradeLevel")||"midgrade").toLowerCase();return t==="lowergrade"||t==="midgrade"||t==="highergrade"?t:"midgrade"}toDbLevel(t){return t==="lowergrade"?"low":t==="midgrade"?"mid":"high"}makeHeaders(t){return new Vn({"Content-Type":"application/json","X-User":t})}generateOpenQuestions(t){let i=this.getGrade(),r=this.makeHeaders(i),o={qtype:"OPEN",n:t.n??5,topic:t.topic??"",model:this.defaultModel,db_level:this.toDbLevel(i)};return this.http.post(`${this.baseUrl}/generate-questions`,o,{headers:r})}explainGrammar(t){let i=this.getGrade(),r=this.makeHeaders(i),o=typeof t=="string"?{question:t}:S({},t);return"db_level"in o||(o.db_level=this.toDbLevel(i)),"model"in o||(o.model=this.defaultModel),this.http.post(`${this.baseUrl}/explain-grammar`,o,{headers:r})}suggestFollowups(t){let i=this.getGrade(),r=this.makeHeaders(i),o={last_question:t.last_question,last_answer:t.last_answer,n:t.n??5,model:this.defaultModel,db_level:this.toDbLevel(i),source_ids:t.source_ids??[]};return this.http.post(`${this.baseUrl}/suggest-followups`,o,{headers:r})}synthesizeAudio(t,i="en",r){let o=this.getGrade(),s=this.makeHeaders(o),a={text:t,language:i,db_level:this.toDbLevel(o),model:this.defaultModel};return r?.length&&(a.reference_files=r),this.http.post(`${this.baseUrl}/synthesize-audio`,a,{headers:s})}synthesizeVideo(t,i="en"){let r=this.getGrade(),o=this.makeHeaders(r),s={text:t,language:i,db_level:this.toDbLevel(r),model:this.defaultModel};return this.http.post(`${this.baseUrl}/synthesize-video`,s,{headers:o})}generateVideoFromText(t,i="en"){let r=this.getGrade(),o=this.makeHeaders(r);return this.http.post(`${this.baseUrl}/generate-video-from-text`,{text:t,language:i,db_level:this.toDbLevel(r),model:this.defaultModel},{headers:o})}punctuate(t){let i=this.getGrade(),r=this.makeHeaders(i);return this.http.post(`${this.baseUrl}/punctuate`,{text:t},{headers:r})}static{this.\u0275fac=function(i){return new(i||e)(y(Kt))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var AA=["waveformCanvas"],OA=["chatContent"];function kA(e,n){if(e&1&&(d(0,"div",37)(1,"div",38),g(2,"img",39),l(),d(3,"div",40),u(4),d(5,"div",41),u(6),l()()()),e&2){let t=D().$implicit;m(4),Oe(" ",t.text," "),m(2),Te(t.timestamp)}}function PA(e,n){if(e&1){let t=W();d(0,"button",60),M("click",function(){let r=A(t).$implicit,o=D(4);return O(o.selectHardcodedQuestion(r))}),u(1),l()}if(e&2){let t=n.$implicit;m(),Oe(" ",t," ")}}function RA(e,n){if(e&1&&(d(0,"div",57)(1,"div",58),u(2,"Follow-up suggestions"),l(),L(3,PA,2,1,"button",59),l()),e&2){let t=D(2).$implicit;m(3),b("ngForOf",t.suggestions)}}function NA(e,n){e&1&&(Le(0),d(1,"span",61),u(2,"\u2713"),l(),Ve())}function FA(e,n){e&1&&g(0,"img",62)}function LA(e,n){if(e&1){let t=W();d(0,"button",63),M("click",function(){A(t);let r=D(2).index,o=D();return O(o.playServerAudioForMessage(r))}),g(1,"img",64),l()}}function VA(e,n){if(e&1){let t=W();d(0,"button",65),M("click",function(){A(t);let r=D(3);return O(r.stopReadAloud())}),g(1,"img",66),l()}}function jA(e,n){e&1&&(Le(0),g(1,"img",68),Ve())}function BA(e,n){e&1&&g(0,"img",69)}function UA(e,n){if(e&1){let t=W();d(0,"button",67),M("click",function(){A(t);let r=D(2).index,o=D();return O(o.synthesizeAudioAndPlay(r))}),L(1,jA,2,0,"ng-container",48)(2,BA,1,0,"ng-template",null,2,On),l()}if(e&2){let t=Yt(3),i=D(2).$implicit;b("disabled",i.isSynthesizing),m(),b("ngIf",!i.isSynthesizing)("ngIfElse",t)}}function $A(e,n){if(e&1){let t=W();d(0,"button",70),M("click",function(){A(t);let r=D(2).index,o=D();return O(o.chatId=="2"?o.generateTutorVideoFromText(r):o.synthesizeVideoAndPlay(r))}),g(1,"img",71),l()}}function HA(e,n){e&1&&(d(0,"button",72),g(1,"img",73),l())}function zA(e,n){if(e&1){let t=W();d(0,"button",74),M("click",function(){A(t);let r=D(2).index,o=D();return O(o.toggleMessageVideo(r))}),g(1,"img",75),l()}if(e&2){let t=D(2).index,i=D();ge("active",i.isVideoEnabledIndex[t]),m(),b("src",i.isVideoEnabledIndex[t]?"assets/images/chat/no-video.png":"assets/images/chat/video.png",ie)}}function GA(e,n){if(e&1){let t=W();d(0,"video",76),M("ended",function(){A(t);let r=D(2).index,o=D();return O(o.onMessageVideoEnded(r))}),l()}if(e&2){let t=D(2).$implicit;b("src",t.playingVideoUrl,ie)}}function WA(e,n){if(e&1){let t=W();d(0,"div",42)(1,"div",38),g(2,"img",43),l(),d(3,"div",44),g(4,"div",45),L(5,RA,4,1,"div",46),d(6,"div",41),u(7),d(8,"button",47),M("click",function(){A(t);let r=D(),o=r.$implicit,s=r.index,a=D();return O(a.copyToClipboard(o.text,s))}),L(9,NA,3,0,"ng-container",48)(10,FA,1,0,"ng-template",null,1,On),l(),L(12,LA,2,0,"button",49)(13,VA,2,0,"button",50)(14,UA,4,3,"button",51)(15,$A,2,0,"button",52)(16,HA,2,0,"button",53)(17,zA,2,3,"button",54),l(),d(18,"div",55),L(19,GA,1,1,"video",56),l()()()}if(e&2){let t=Yt(11),i=D(),r=i.$implicit,o=i.index,s=D();m(4),b("innerHTML",s.formatStructuredResponse(r.text),u0),m(),b("ngIf",r.suggestions==null?null:r.suggestions.length),m(2),Oe(" ",r.timestamp," "),m(),he("aria-label",s.copySuccessIndex===o?"Copied":"Copy message"),m(),b("ngIf",s.copySuccessIndex===o)("ngIfElse",t),m(3),b("ngIf",r.audioUrl&&s.isReadingIndex!==o),m(),b("ngIf",r.audioUrl&&s.isReadingIndex===o),m(),b("ngIf",!r.audioUrl),m(),b("ngIf",!r.videoUrl&&!r.isVideoSynthesizing),m(),b("ngIf",!r.videoUrl&&r.isVideoSynthesizing),m(),b("ngIf",r.videoUrl),m(2),b("ngIf",s.isVideoEnabledIndex[o]&&r.playingVideoUrl)}}function qA(e,n){if(e&1&&(d(0,"div"),L(1,kA,7,2,"div",35)(2,WA,20,13,"div",36),l()),e&2){let t=n.$implicit;m(),b("ngIf",t.from==="user"),m(),b("ngIf",t.from==="ai")}}function YA(e,n){e&1&&(d(0,"div",77),u(1," Tutor's Response "),g(2,"span")(3,"span")(4,"span"),l())}function QA(e,n){e&1&&(d(0,"div",81),u(1,"Loading\u2026"),l())}function ZA(e,n){if(e&1){let t=W();d(0,"button",84),M("mousedown",function(){let r=A(t).$implicit,o=D(4);return O(o.selectHardcodedQuestion(r))}),u(1),l()}if(e&2){let t=n.$implicit,i=D(4);b("disabled",i.isAiResponding),m(),Oe(" ",t," ")}}function KA(e,n){if(e&1&&(Le(0),d(1,"div",82),u(2,"Follow-up suggestions"),l(),L(3,ZA,2,2,"button",83),Ve()),e&2){let t=D(3);m(3),b("ngForOf",t.currentFollowups)}}function XA(e,n){if(e&1){let t=W();d(0,"button",84),M("mousedown",function(){let r=A(t).$implicit,o=D(5);return O(o.selectHardcodedQuestion(r))}),u(1),l()}if(e&2){let t=n.$implicit,i=D(5);b("disabled",i.isAiResponding),m(),Oe(" ",t," ")}}function JA(e,n){if(e&1&&(Le(0),L(1,XA,2,2,"button",83),Ve()),e&2){let t=D(4);m(),b("ngForOf",t.pdfQuestions)}}function eO(e,n){e&1&&(d(0,"div",85),u(1,"No grammar questions available."),l())}function tO(e,n){if(e&1&&(d(0,"div",82),u(1,"Questions from your textbook"),l(),L(2,JA,2,1,"ng-container",48)(3,eO,2,0,"ng-template",null,4,On)),e&2){let t=Yt(4),i=D(3);m(2),b("ngIf",i.pdfQuestions==null?null:i.pdfQuestions.length)("ngIfElse",t)}}function nO(e,n){if(e&1&&(Le(0),L(1,KA,4,1,"ng-container",48)(2,tO,5,2,"ng-template",null,3,On),Ve()),e&2){let t=Yt(3),i=D(2);m(),b("ngIf",i.currentFollowups.length)("ngIfElse",t)}}function iO(e,n){if(e&1&&(d(0,"div",78),L(1,QA,2,0,"div",79)(2,nO,4,2,"ng-container",80),l()),e&2){let t=D();m(),b("ngIf",t.pdfLoading),m(),b("ngIf",!t.pdfLoading)}}function rO(e,n){e&1&&(d(0,"div",101),u(1,"Processing\u2026 please wait"),l())}function oO(e,n){if(e&1&&(d(0,"pre"),u(1),l()),e&2){let t=D(2);m(),Te(t.popupTranscript)}}function sO(e,n){e&1&&(d(0,"div",102),u(1,"Speak and click Done when finished"),l())}function aO(e,n){if(e&1&&(d(0,"div",103),u(1),l()),e&2){let t=D(2);m(),Te(t.errorMessage)}}function cO(e,n){if(e&1){let t=W();d(0,"div",86)(1,"div",87)(2,"strong"),u(3,"Microphone"),l(),d(4,"button",88),M("click",function(){A(t);let r=D();return O(r.closeMicrophonePopup())}),u(5,"\u2715"),l()(),d(6,"div",89),g(7,"canvas",90,5),d(9,"div",91)(10,"div",92),g(11,"span",93),d(12,"span"),u(13),l()(),d(14,"div",94),L(15,rO,2,0,"div",95)(16,oO,2,1,"pre",80)(17,sO,2,0,"div",96),l(),L(18,aO,2,1,"div",97),l(),d(19,"div",98)(20,"button",99),M("click",function(){A(t);let r=D();return O(r.stopRecording())}),u(21,"Done"),l(),d(22,"button",99),M("click",function(){A(t);let r=D();return O(r.confirmAndSendTranscript())}),u(23,"Send"),l(),d(24,"button",100),M("click",function(){A(t);let r=D();return O(r.closeMicrophonePopup())}),u(25,"Cancel"),l()()()()}if(e&2){let t=D();m(11),ge("recording",t.isRecording),m(2),Te(t.isRecording?"Recording\u2026":"Ready"),m(2),b("ngIf",t.popupTranscript==="Processing\u2026"),m(),b("ngIf",t.popupTranscript&&t.popupTranscript!=="Processing\u2026"),m(),b("ngIf",!t.popupTranscript),m(),b("ngIf",t.errorMessage),m(2),b("disabled",!t.isRecording),m(2),b("disabled",!t.popupTranscript||t.popupTranscript==="Processing\u2026")}}function lO(e,n){if(e&1){let t=W();d(0,"div",104),M("click",function(){A(t);let r=D();return O(r.closeUserGuide())}),d(1,"div",105),M("click",function(r){return A(t),O(r.stopPropagation())}),d(2,"button",106),M("click",function(){A(t);let r=D();return O(r.closeUserGuide())}),u(3,"\xD7"),l(),d(4,"div",107)(5,"ol",108)(6,"li")(7,"b"),u(8,"Introduction"),l(),g(9,"br"),d(10,"ul",109)(11,"li"),u(12,"The Chat Module is an interactive learning environment designed to assist learners through text and voice-based communication."),l(),d(13,"li"),u(14,"Users can type their question or select from follow-up suggestions, using either the text input or the microphone."),l(),d(15,"li"),u(16,"Predefined questions appear above the input field for quick access."),l(),d(17,"li"),u(18,"This creates an engaging and personalised learning experience similar to interacting with a real tutor."),l()()(),d(19,"li")(20,"b"),u(21,"Starting the Chat"),l(),g(22,"br"),d(23,"ul",109)(24,"li"),u(25,"When learners open the module, they will see a text input box and a microphone icon. They can type a question or activate the microphone to speak."),l(),d(26,"li"),u(27,"While the microphone is active, a listening popup appears with options to mute or stop recording. Once the learner finishes speaking or typing, their question is displayed in the chat area along with a timestamp."),l(),d(28,"li"),u(29,"This simple interface ensures that both typing and speaking interactions are smooth and user-friendly."),l()()(),d(30,"li")(31,"b"),u(32,"Accessing the Syllabus"),l(),g(33,"br"),d(34,"ul",109)(35,"li"),u(36,"Before learners begin, an administrator uploads the syllabus or textbook in digital format."),l(),d(37,"li"),u(38,"The system analyses the document and automatically generates a list of predefined questions based on the uploaded syllabus."),l(),d(39,"li"),u(40,"These predefined questions are displayed above the input field, allowing learners to choose any topic without needing to type."),l(),d(41,"li"),u(42,"When a learner selects a question, the system locates the relevant section from the syllabus and prepares an answer. The response appears instantly in the chat area in a clear and readable format."),l()()(),d(43,"li")(44,"b"),u(45,"Receiving the Response"),l(),g(46,"br"),d(47,"ul",109)(48,"li"),u(49," After a question is sent, the system generates an immediate response that includes: "),d(50,"ul")(51,"li"),u(52,"A text-based explanation"),l(),d(53,"li"),u(54,"An audio narration in the tutor\u2019s real voice"),l(),d(55,"li"),u(56,"A derived video explanation, when applicable"),l()()(),d(57,"li"),u(58,"The response is first produced as text. If the learner chooses to listen, the system plays an audio narration that has been synthetically generated using the real voice of the teacher."),l(),d(59,"li"),u(60,"The voice is not a generic computer voice; it has been trained and modelled on the actual tutor\u2019s speech patterns, ensuring that the tone, pronunciation, and expression closely resemble the teacher\u2019s natural way of speaking."),l(),d(61,"li"),u(62,"Similarly, when a video explanation is requested, the system displays a derived video of the teacher. This video is not a pre-recorded clip or animation, but is generated to resemble the real teacher\u2019s voice and reactions."),l(),d(63,"li"),u(64,"All audio and video responses are created dynamically for each question, providing unique, real-time explanations. Learners can replay or stop the narration at any time, copy text responses, and follow the conversation naturally with the speaking indicator showing when the tutor\u2019s voice is active."),l(),d(65,"li"),u(66,"By default, audio is muted; you can enable it as needed."),l()()(),d(67,"li")(68,"b"),u(69,"Handling Out-of-Syllabus Questions"),l(),g(70,"br"),d(71,"ul",109)(72,"li"),u(73,"If a learner asks a question that is not part of the uploaded syllabus or textbook, the system responds with the message: \u201CThis topic is out of syllabus.\u201D"),l(),d(74,"li"),u(75,"Only administrators can configure whether such questions can be answered using external information sources."),l(),d(76,"li"),u(77,"This ensures that all discussions remain within the approved syllabus unless authorised otherwise."),l()()(),d(78,"li")(79,"b"),u(80,"Follow-Up and Progressive Learning"),l(),g(81,"br"),d(82,"ul",109)(83,"li"),u(84,"After each response, the system displays related or next-level questions below the chat. This feature helps learners progress through topics in a logical sequence."),l(),d(85,"li"),u(86,"A breadcrumb trail is also displayed, showing the topic flow and subtopics covered during the conversation."),l(),d(87,"li"),u(88,"Learners can easily revisit previous points and continue from where they left off."),l()()(),d(89,"li")(90,"b"),u(91,"Audio, Video, and Mode Controls"),l(),g(92,"br"),d(93,"ul",109)(94,"li"),u(95," At the top of the chat interface, four control buttons provide flexibility and accessibility: "),d(96,"ul")(97,"li"),u(98,"Audio Control \u2013 Enable or disable narration."),l(),d(99,"li"),u(100,"Video Control \u2013 Show or hide derived video explanations."),l(),d(101,"li"),u(102,"Syllabus Mode Control \u2013 Keep learning limited to syllabus topics."),l(),d(103,"li"),u(104,"Breadcrumb Control \u2013 Display or hide the topic trail."),l()()(),d(105,"li"),u(106,"Only administrators can modify the syllabus mode to include out-of-syllabus responses."),l()()(),d(107,"li")(108,"b"),u(109,"Interface and Usability"),l(),g(110,"br"),d(111,"ul",109)(112,"li"),u(113,"The chat interface presents a clear, conversational layout between the learner and the tutor. Each message includes a profile icon and timestamp for a natural reading flow."),l(),d(114,"li"),u(115,"Typing indicators appear while the system prepares responses, and a scroll button allows quick access to the most recent messages."),l(),d(116,"li"),u(117,"The design is responsive and adapts to different devices such as desktops, tablets, etc."),l()()(),d(118,"li")(119,"b"),u(120,"Summary"),l(),g(121,"br"),d(122,"ul",109)(123,"li"),u(124,"The Chat Module provides an engaging, syllabus-focused learning experience where learners can type or speak their questions and receive immediate answers through text, real teacher voice, and derived video."),l(),d(125,"li"),u(126,"With predefined questions, real-time explanations, structured progression, and easy-to-use controls, this module offers a complete and intelligent conversational learning environment\u2014all within a single platform."),l(),d(127,"li"),u(128,"Use this feature for summary-guided training."),l()()()()()()()}}function dO(e,n){if(e&1){let t=W();d(0,"video",110),M("ended",function(){A(t);let r=D();return O(r.clearVideoUrl())})("error",function(){A(t);let r=D();return O(r.clearVideoUrl())}),l()}if(e&2){let t=D();b("src",t.videoUrl,ie)}}var Ey=(()=>{class e{constructor(t,i,r,o){if(this.apiService=t,this.cdr=i,this.route=r,this.platformId=o,this.isRecording=!1,this.showMicPopup=!1,this.popupTranscript="",this.errorMessage="",this._recordingFinalBuffer="",this._recordingInterimBuffer="",this.audioContext=null,this.analyser=null,this.dataArray=null,this.mediaStream=null,this.animationFrameId=null,this._recognitionActive=!1,this._restartTimer=null,this._restartAttempts=0,this._maxRestartDelay=1500,this.showQuestions=!1,this.pdfQuestions=[],this.pdfLoading=!1,this.userInput="",this.messages=[],this.isTyping=!1,this.isListening=!1,this.isSpeaking=!1,this.isAudioPaused=!1,this.currentFollowups=[],this.videoUrl="",this.aiResponseInterval=null,this.isAiResponding=!1,this.isVideoEnabledIndex=[],this.serverAudio=null,this.serverAudioMessageIndex=null,this.isReadingIndex=null,this.isVideoPlayingIndex=null,this.copySuccessIndex=null,this.isVoiceEnabled=!1,this.isTutorEnabled=!1,this.isSyllabusEnabled=!0,this.isBreadcrumbEnabled=!1,this.shouldAutoScroll=!0,this.lastQuestion=null,this.lastAnswer=null,this.lastSourceIds=[],this.lastAnswerHasContext=!1,this.chatId=null,this.showUserGuide=!1,!gn(this.platformId))return;let s=window.SpeechRecognition??window.webkitSpeechRecognition;if(s){this.recognition=new s,this.recognition.continuous=!0,this.recognition.interimResults=!0,this.recognition.lang="en-US";try{this.recognition.maxAlternatives=1}catch{}this.recognition.onstart=()=>{this._recognitionActive=!0,this._restartAttempts=0},this.recognition.onspeechstart=()=>{this._recognitionActive=!0},this.recognition.onspeechend=()=>{this._recognitionActive=!1},this.recognition.onresult=a=>{if(!this.isRecording)return;let c="",h="";for(let f=a.resultIndex;f<a.results.length;f++){let p=a.results[f],_=p[0]?.transcript??"";p.isFinal?h+=_+" ":c+=_+" "}h?(this._recordingFinalBuffer+=h,this._recordingInterimBuffer=""):this._recordingInterimBuffer=c,this.cdr.detectChanges()},this.recognition.onerror=a=>{if(a?.error==="not-allowed")this.errorMessage="Microphone access denied",this.isRecording=!1;else{let h=a?.error??"unknown";this.errorMessage=`Error: ${h}`}let c=a?.error;if(this.isRecording&&(c==="no-speech"||c==="aborted"||c==="network")){this._restartTimer&&clearTimeout(this._restartTimer);let h=Math.min(400*(this._restartAttempts+1),this._maxRestartDelay);this._restartTimer=setTimeout(()=>{try{this.recognition&&!this._recognitionActive&&this.recognition.start()}catch{this._restartAttempts++}},h)}else c!=="not-allowed"&&(this._recognitionActive=!1);this.cdr.detectChanges()},this.recognition.onend=()=>{if(this._recognitionActive=!1,this.isRecording&&this.showMicPopup){this._restartTimer&&clearTimeout(this._restartTimer);let a=Math.min(250+this._restartAttempts*200,this._maxRestartDelay);this._restartTimer=setTimeout(()=>{try{this.recognition&&!this._recognitionActive&&this.recognition.start()}catch{this._restartAttempts++}},a)}},this.recognition.onnomatch=()=>{}}}ngOnInit(){let t=this.route.snapshot.paramMap.get("id");t&&(this.chatId=t,this.cdr.detectChanges())}ngOnDestroy(){if(gn(this.platformId))try{window.speechSynthesis?.cancel()}catch{}this.stopServerAudio();try{window.speechSynthesis?.cancel()}catch{}}ngAfterViewInit(){this.chatBox.nativeElement.addEventListener("scroll",()=>{let t=this.chatBox.nativeElement,i=t.scrollHeight-t.clientHeight-t.scrollTop<50;this.shouldAutoScroll=i})}scrollToBottom(t=!1){if(!(!t&&!this.shouldAutoScroll)){try{let i=this.chatBox&&this.chatBox.nativeElement;if(i&&typeof i.scrollTo=="function"){requestAnimationFrame(()=>{try{i.scrollTo({top:i.scrollHeight,behavior:"smooth"})}catch{try{i.scrollTop=i.scrollHeight}catch{}}});return}}catch{}try{let i=document.querySelector('[id^="message-"]:last-of-type, .chat-message:last-child');i&&i.scrollIntoView({behavior:"smooth",block:"end"})}catch{}}}selectHardcodedQuestion(t){this.showQuestions=!1,this.sendMessage(t),this.userInput=""}showHardcodedQuestions(){setTimeout(()=>{this.showQuestions=!0,this.lastAnswer&&this.lastAnswerHasContext?this.fetchFollowupQuestions():this.fetchInitialQuestions()},100)}hideHardcodedQuestions(){setTimeout(()=>{this.showQuestions=!1},200)}fetchInitialQuestions(t=5){this.pdfLoading=!0,this.pdfQuestions=[],this.apiService.generateOpenQuestions({qtype:"OPEN",n:t,topic:""}).subscribe({next:i=>{let r=Array.isArray(i?.questions)?i.questions:[];this.pdfQuestions=r.map(o=>typeof o=="string"?o:o?.question||"").filter(Boolean),this.pdfLoading=!1,this.cdr.detectChanges()},error:()=>{this.pdfLoading=!1,this.pdfQuestions=[],this.cdr.detectChanges()}})}fetchFollowupQuestions(t=5){if(!this.lastQuestion||!this.lastAnswer||!this.lastAnswerHasContext||!this.lastSourceIds.length){this.fetchInitialQuestions(t);return}this.pdfLoading=!0,this.pdfQuestions=[],this.apiService.suggestFollowups({last_question:this.lastQuestion,last_answer:this.lastAnswer,n:t,source_ids:this.lastSourceIds}).subscribe({next:i=>{let r=Array.isArray(i?.suggestions)?i.suggestions:[];this.pdfQuestions=r.filter(o=>typeof o=="string"&&o.length>0),this.pdfLoading=!1,this.cdr.detectChanges()},error:()=>{this.pdfLoading=!1,this.pdfQuestions=[],this.cdr.detectChanges()}})}sendMessage(t){let i=t?t.trim():this.userInput.trim();if(!i)return;let r=new Date().toLocaleTimeString();this.messages.push({from:"user",text:i,timestamp:r}),this.userInput="",this.isTyping=!0,this.cdr.detectChanges(),this.shouldAutoScroll=!0,this.scrollToBottom(),this.apiService.explainGrammar({question:i,synthesize_audio:!!this.isVoiceEnabled,synthesize_video:!!this.isTutorEnabled,kdtalker:this.chatId==="2"}).subscribe({next:o=>{this.isTyping=!1;let s=(o?.answer||o?.response||o?.text||"No explanation available.").trim(),a=Array.isArray(o?.source_ids)?o.source_ids.filter(_=>typeof _=="string"&&_.trim().length>0):[],c=typeof o?.audio_url=="string"?o.audio_url:typeof o?.audioUrl=="string"?o.audioUrl:"",h=typeof o?.video_url=="string"?o.video_url:typeof o?.videoUrl=="string"?o.videoUrl:"";this.lastQuestion=i,this.lastSourceIds=a;let f=/No information available in the provided textbook content/i.test(s),p=a.length>0&&!f;this.streamAiAnswer(s,a,p,c||void 0,h||void 0)},error:()=>{this.isTyping=!1,this.streamAiAnswer("Error: Could not get a response from the server.",[],!1)}})}streamAiAnswer(t,i,r,o,s){let a=(t||"").trim()||"No explanation available.",c=new Date().toLocaleTimeString(),h=this.messages.push({from:"ai",text:"",timestamp:c,source_ids:i,pending:!0,audioUrl:o||"",videoUrl:s||"",playingVideoUrl:""})-1;this.isVideoEnabledIndex.length<=h&&(this.isVideoEnabledIndex[h]=!1),this.isAiResponding=!0,this.shouldAutoScroll=!0,this.cdr.detectChanges(),this.animateAiResponse(a,h,()=>{this.lastAnswer=a,this.lastAnswerHasContext=r,this.autoPlayMediaForMessage(h)}),!o&&this.isVoiceEnabled&&this.speakResponse(a)}autoPlayMediaForMessage(t){let i=this.messages[t];if(!i)return;let r=!!(i.videoUrl&&i.videoUrl.trim()),o=!!(i.audioUrl&&i.audioUrl.trim());if(r&&this.isTutorEnabled){try{this.stopServerAudio()}catch{}try{window.speechSynthesis?.cancel()}catch{}this.openMessageVideo(t,!0);return}if(o&&this.isVoiceEnabled){try{this.stopAllVideo()}catch{}this.playServerAudioForMessage(t)}}formatStructuredResponse(t){return t.replace(/\n/g,"<br>").replace(/(\d+)\.\s/g,"<b>$1.</b> ").replace(/\\s/g,"\u2714\uFE0F ").replace(/\-\s/g,"\u{1F539} ").replace(/(\*\*)(.*?)\1/g,"<b>$2</b>")}animateAiResponse(t,i,r){if(!t){this.isAiResponding=!1;return}let o=null;if(typeof i=="number"&&this.messages[i]?.from==="ai")o=i;else for(let f=this.messages.length-1;f>=0;f--)if(this.messages[f].from==="ai"){o=f;break}(o===null||o<0||!this.messages[o])&&(this.messages.push({from:"ai",text:"",timestamp:new Date().toLocaleTimeString()}),o=this.messages.length-1,this.isVideoEnabledIndex.push(!1));let s=this.messages[o];this.aiResponseInterval&&(clearInterval(this.aiResponseInterval),this.aiResponseInterval=null),s.text="",s.pending=!0,this.isAiResponding=!0,this.cdr.detectChanges();let a=t.split(/\s+/).filter(f=>f.length),c=0,h=200;this.aiResponseInterval=setInterval(()=>{c<a.length?(s.text=a.slice(0,c+1).join(" "),c++,this.cdr.detectChanges(),this.scrollToBottom()):(this.aiResponseInterval&&clearInterval(this.aiResponseInterval),this.aiResponseInterval=null,s.text=t,s.pending=!1,this.isAiResponding=!1,r&&r(),this.cdr.detectChanges(),this.scrollToBottom())},h)}stopAiResponse(){this.aiResponseInterval&&(clearInterval(this.aiResponseInterval),this.aiResponseInterval=null),this.stopServerAudio();try{window.speechSynthesis?.cancel()}catch{}let t=[...this.messages].reverse().findIndex(i=>i.from==="ai");if(t!==-1){let i=this.messages.length-1-t,r=this.messages[i];r.text="Response cancelled.",r.timestamp=new Date().toLocaleTimeString(),r.suggestions=[],r.audioUrl="",r.videoUrl="",r.playingVideoUrl="",r.pending=!1,this.isVideoEnabledIndex.length>i&&(this.isVideoEnabledIndex[i]=!1)}else this.messages.push({from:"ai",text:"Response cancelled.",timestamp:new Date().toLocaleTimeString()}),this.isVideoEnabledIndex.push(!1);this.isAiResponding=!1,this.isTyping=!1,this.isSpeaking=!1,this.isReadingIndex=null,this.cdr.detectChanges()}speakResponse(t){if(!t||!this.isVoiceEnabled)return;this.stopAllVideo();let i=new SpeechSynthesisUtterance;i.text=t,i.lang="en-US",i.pitch=1,i.rate=1,this.isSpeaking=!0;let r=window.speechSynthesis.getVoices(),o=["Google UK English Female","Google US English Female","Microsoft Zira - English (United States)","Microsoft Hazel - English (United Kingdom)","Google en-GB Female","Google en-US Female"];for(let s of o){let a=r.find(c=>c.name===s);if(a){i.voice=a;break}}!i.voice&&r.length&&(i.voice=r[0]),i.onend=()=>{this.isSpeaking=!1,this.cdr.detectChanges()};try{window.speechSynthesis.speak(i)}catch{this.isSpeaking=!1}}resumeAudio(){if(this.serverAudio&&this.serverAudio.paused){this.serverAudio.play().catch(()=>{}),this.isAudioPaused=!1,this.serverAudioMessageIndex!==null&&(this.messages[this.serverAudioMessageIndex].isPlaying=!0),this.cdr.detectChanges();return}window.speechSynthesis&&window.speechSynthesis.paused&&(window.speechSynthesis.resume(),this.isAudioPaused=!1,this.cdr.detectChanges())}pauseAudio(){window.speechSynthesis.speaking&&!window.speechSynthesis.paused&&(window.speechSynthesis.pause(),this.isAudioPaused=!0,this.cdr.detectChanges())}playServerAudioForMessage(t){let i=this.messages[t];if(!(!i||!i.audioUrl)){if(this.serverAudio&&this.serverAudioMessageIndex===t){this.serverAudio.paused?(this.serverAudio.play().catch(()=>{}),this.isAudioPaused=!1,i.isPlaying=!0):(this.serverAudio.pause(),this.isAudioPaused=!0,i.isPlaying=!1),this.cdr.detectChanges();return}this.stopAllVideo(),this.stopServerAudio();try{window.speechSynthesis?.cancel()}catch{}this.serverAudio=new Audio(i.audioUrl),this.serverAudioMessageIndex=t;try{this.serverAudio.volume=1}catch{}this.isReadingIndex=t,this.isAudioPaused=!1,i.isPlaying=!0,this.isSpeaking=!0,this.cdr.detectChanges(),this.serverAudio.onended=()=>{try{i.isPlaying=!1}catch{}this.isReadingIndex=null,this.serverAudio=null,this.serverAudioMessageIndex=null,this.isSpeaking=!1,this.cdr.detectChanges()},this.serverAudio.onerror=()=>{try{i.isPlaying=!1}catch{}this.isReadingIndex=null,this.serverAudio=null,this.serverAudioMessageIndex=null,this.isSpeaking=!1,this.cdr.detectChanges()},this.serverAudio.play().catch(()=>{try{i.isPlaying=!1}catch{}this.isReadingIndex=null,this.serverAudio=null,this.serverAudioMessageIndex=null,this.isSpeaking=!1,this.cdr.detectChanges()})}}stopServerAudio(){if(this.serverAudio){try{this.serverAudio.pause(),this.serverAudio.currentTime=0}catch{}this.serverAudio=null,this.serverAudioMessageIndex!==null&&this.messages[this.serverAudioMessageIndex]&&(this.messages[this.serverAudioMessageIndex].isPlaying=!1),this.serverAudioMessageIndex=null}this.isReadingIndex=null}synthesizeAudioAndPlay(t){let i=this.messages[t];if(!(!i||!i.text)){if(i.audioUrl){this.playServerAudioForMessage(t);return}i.isSynthesizing||(i.isSynthesizing=!0,this.cdr.detectChanges(),this.apiService.synthesizeAudio(i.text).subscribe({next:r=>{i.isSynthesizing=!1,r?.audio_url?(i.audioUrl=r.audio_url,this.playServerAudioForMessage(t)):this.errorMessage="Audio generation failed.",this.cdr.detectChanges()},error:()=>{i.isSynthesizing=!1,this.errorMessage="Audio generation failed.",this.cdr.detectChanges()}}))}}synthesizeVideoAndPlay(t){let i=this.messages[t];if(!(!i||!i.text)){if(i.videoUrl){this.openMessageVideo(t);return}i.isVideoSynthesizing||(i.isVideoSynthesizing=!0,this.cdr.detectChanges(),this.apiService.synthesizeVideo(i.text).subscribe({next:r=>{i.isVideoSynthesizing=!1,r?.video_url?(i.videoUrl=r.video_url,this.openMessageVideo(t)):this.errorMessage="Video generation failed.",this.cdr.detectChanges()},error:()=>{i.isVideoSynthesizing=!1,this.errorMessage="Video generation failed. Try again.",this.cdr.detectChanges()}}))}}generateTutorVideoFromText(t,i){let r=this.messages[t];if(!r)return;if(r.videoUrl){this.openMessageVideo(t);return}if(r.isVideoSynthesizing)return;let o=r.text&&r.text.trim()||i&&i.trim()||"";if(!o){this.errorMessage="No text available to generate a video.",this.cdr.detectChanges();return}r.isVideoSynthesizing=!0,this.cdr.detectChanges(),this.apiService.generateVideoFromText(o).subscribe({next:s=>{r.isVideoSynthesizing=!1,s?.video_url?(r.videoUrl=s.video_url,this.openMessageVideo(t)):this.errorMessage="Video URL not returned from server.",this.cdr.detectChanges()},error:()=>{r.isVideoSynthesizing=!1,this.errorMessage="Could not generate video.",this.cdr.detectChanges()}})}openMessageVideo(t,i=!1){let r=this.messages[t];if(r?.videoUrl){if(this.isVideoPlayingIndex===t){this.stopInlineVideo(t);return}this.stopServerAudio();try{window.speechSynthesis?.cancel()}catch{}this.stopAllVideo(),r.playingVideoUrl=r.videoUrl,this.isVideoEnabledIndex[t]=!0,this.cdr.detectChanges(),setTimeout(()=>{let o=document.getElementById(`inline-video-${t}`);if(!o){this.isVideoPlayingIndex=null,this.cdr.detectChanges();return}if(i)try{o.muted=!0}catch{}else try{o.muted=!1}catch{}o.onplay=()=>{this.isVideoPlayingIndex=t,this.cdr.detectChanges()},o.onpause=()=>{this.cdr.detectChanges()},o.onended=()=>{this.onMessageVideoEnded(t)},o.play().catch(()=>{this.isVideoPlayingIndex=null,r.playingVideoUrl="",this.isVideoEnabledIndex[t]=!1,this.cdr.detectChanges()})},50)}}toggleMessageVideo(t){let i=this.messages[t];!i||!i.videoUrl||(this.isVideoEnabledIndex[t]?this.stopInlineVideo(t):this.openMessageVideo(t))}stopInlineVideo(t){let i=document.getElementById(`inline-video-${t}`);if(i)try{i.pause(),i.currentTime=0}catch{}let r=this.messages[t];r&&(r.playingVideoUrl=""),this.isVideoEnabledIndex[t]=!1,this.isVideoPlayingIndex===t&&(this.isVideoPlayingIndex=null),this.cdr.detectChanges()}onMessageVideoEnded(t){let i=this.messages[t];i&&(i.playingVideoUrl=""),this.isVideoEnabledIndex[t]=!1,this.isVideoPlayingIndex===t&&(this.isVideoPlayingIndex=null),this.cdr.detectChanges()}toggleVoice(){this.isVoiceEnabled=!this.isVoiceEnabled}toggleTutor(){this.isTutorEnabled=!this.isTutorEnabled}toggleSyllabus(){this.isSyllabusEnabled=!this.isSyllabusEnabled,this.saveToggleStates()}toggleBreadcrumb(){this.isBreadcrumbEnabled=!this.isBreadcrumbEnabled,this.saveToggleStates()}saveToggleStates(){gn(this.platformId)&&(localStorage.setItem("voiceEnabled",String(this.isVoiceEnabled)),localStorage.setItem("tutorEnabled",String(this.isTutorEnabled)),localStorage.setItem("syllabusEnabled",String(this.isSyllabusEnabled)),localStorage.setItem("breadcrumbEnabled",String(this.isBreadcrumbEnabled)))}clearVideoUrl(){this.videoUrl="",this.isTutorEnabled&&(this.isTutorEnabled=!1,this.saveToggleStates()),this.cdr.detectChanges()}stopAllVideo(){this.videoUrl="";try{Array.from(document.querySelectorAll('[id^="inline-video-"]')).forEach(i=>{try{i.pause(),i.currentTime=0}catch{}})}catch{}this.messages.forEach((t,i)=>{t.playingVideoUrl="",this.isVideoEnabledIndex[i]=!1}),this.cdr.detectChanges()}getButtonIcon(){return this.isAiResponding?"assets/images/chat/stop.png":this.serverAudio&&!this.serverAudio.paused?"assets/images/chat/microphone-icon.png":this.userInput.trim().length>0?"assets/images/chat/send-icon.png":this.isSpeaking&&!this.serverAudio?"assets/images/chat/pause-icon.png":this.isAudioPaused?"assets/images/chat/resume-icon.png":"assets/images/chat/microphone-icon.png"}openUserGuide(){this.showUserGuide=!0}closeUserGuide(){this.showUserGuide=!1}stopReadAloud(){try{this.stopServerAudio()}catch{}this.isReadingIndex=null,this.isSpeaking=!1,this.cdr.detectChanges()}openMicrophonePopup(){this._recordingFinalBuffer="",this._recordingInterimBuffer="",this.popupTranscript="",this.errorMessage="",this.showMicPopup=!0,setTimeout(()=>this.startRecording(),200)}closeMicrophonePopup(){this.stopRecording(),this.showMicPopup=!1,this.popupTranscript="",this._recordingFinalBuffer="",this._recordingInterimBuffer="",this.errorMessage="",this.cdr.detectChanges()}startRecording(){return st(this,null,function*(){if(!this.recognition){this.errorMessage="Speech recognition not supported.";return}this._recordingFinalBuffer="",this._recordingInterimBuffer="",this.popupTranscript="",this.errorMessage="",this.isRecording=!0;try{this.recognition.interimResults=!0}catch{}try{this.recognition.start()}catch{this._recognitionActive||setTimeout(()=>{try{this.recognition?.start()}catch{}},300)}try{yield this.startAnalyzer()}catch{}this.cdr.detectChanges()})}stopRecording(){return st(this,null,function*(){if(this._restartTimer&&(clearTimeout(this._restartTimer),this._restartTimer=null),this.recognition&&this.isRecording)try{this.recognition.stop()}catch{}try{this.stopAnalyzer()}catch{}this.isRecording=!1;let t=(this._recordingFinalBuffer||"").trim(),i=(this._recordingInterimBuffer||"").trim(),r=(t+" "+i).trim();if(!r){this.popupTranscript="",this.cdr.detectChanges();return}this.popupTranscript="Processing\u2026",this.cdr.detectChanges();let o=r;try{let h=this.apiService.punctuate(r),f=yield ed(h);if(f&&typeof f.punctuated=="string"&&f.punctuated.trim().length){let p=f.punctuated.trim();o=this.extractAssistantContent(p)||p}}catch{o=r}let s=this.normalizeTranscript(o);!/[.?!]$/.test(s)&&/^(who|what|when|where|why|how|which|whom|whose|is|are|am|was|were|do|does|did|can|could|would|will|shall|should|have|has|had)\b/i.test(r)&&(s=s+"?"),this.popupTranscript=s,this.cdr.detectChanges()})}extractAssistantContent(t){if(!t)return t;try{let i=/message=ChatCompletionMessage\(\s*content=(['"])((?:\\.|(?!\1).)*)\1/,r=t.match(i);if(r&&r[2])return r[2].replace(/\\'/g,"'").replace(/\\"/g,'"').trim();let o=/ChatCompletionMessage\(\s*content=(['"])((?:\\.|(?!\1).)*)\1/,s=t.match(o);if(s&&s[2])return s[2].replace(/\\'/g,"'").replace(/\\"/g,'"').trim();let a=/content=(['"])((?:\\.|(?!\1).)*)\1/,c=t.match(a);if(c&&c[2])return c[2].replace(/\\'/g,"'").replace(/\\"/g,'"').trim()}catch{}return t.trim()}confirmAndSendTranscript(){let t=(this.popupTranscript||"").trim();if(!t){this.errorMessage="No speech captured";return}t=this.normalizeTranscript(t);try{this.sendMessage(t)}catch{}this._recordingFinalBuffer="",this._recordingInterimBuffer="",this.showMicPopup=!1,this.isRecording=!1,this._restartTimer&&(clearTimeout(this._restartTimer),this._restartTimer=null),this.popupTranscript="",this.cdr.detectChanges()}copyToClipboard(t,i){navigator.clipboard.writeText(t).then(()=>{this.copySuccessIndex=i,setTimeout(()=>{this.copySuccessIndex=null},2e3)}).catch(()=>{})}adjustTextareaHeight(t){let i=t.target;i.style.height="auto",i.style.height=`${i.scrollHeight}px`}handleEnterPress(t){if(this.isSpeaking&&!this.serverAudio){t.preventDefault();return}t.key==="Enter"&&(t.shiftKey?(t.preventDefault(),this.userInput+=`
`):(t.preventDefault(),this.handleButtonClick()))}handleButtonClick(){if(this.isAiResponding){this.stopAiResponse();return}if(this.userInput.trim().length>0){this.showQuestions=!1;let t=this.userInput;this.userInput="",this.sendMessage(t)}else this.isSpeaking&&!this.serverAudio?this.pauseAudio():this.isAudioPaused?this.resumeAudio():this.openMicrophonePopup()}normalizeTranscript(t){if(!t)return t;let i=t.trim(),r=[[/\b(full stop|period|dot)\b/gi,"."],[/\b(question mark|question)\b/gi,"?"],[/\b(exclamation mark|exclamation|exclaim)\b/gi,"!"],[/\b(comma)\b/gi,","],[/\b(colon)\b/gi,":"],[/\b(semicolon)\b/gi,";"],[/\b(ellipsis|dot dot dot|three dots)\b/gi,"..."],[/\b(new line|newline|new paragraph|line break)\b/gi,`
`],[/\b(open parenthesis|open bracket)\b/gi,"("],[/\b(close parenthesis|close bracket)\b/gi,")"],[/\b(double quote|quote|quotation)\b/gi,'"'],[/\b(single quote|apostrophe)\b/gi,"'"],[/\b(dash|hyphen)\b/gi,"-"],[/\b(percent|percent sign)\b/gi,"%"],[/\b(and sign|ampersand)\b/gi,"&"],[/\b(at sign)\b/gi,"@"],[/\b(forward slash|slash)\b/gi,"/"],[/\b(backslash)\b/gi,"\\\\"]];for(let[o,s]of r)i=i.replace(o,s);return i=i.replace(/\s+([,.:;?!%'\)\]\}])/g,"$1"),i=i.replace(/\s+([\(\[\{"'`])/g,"$1"),i=i.replace(/([.?!:;,%\)\]'"-]{1,3})(?!\s|\n|$)/g,"$1 "),i=i.replace(/[ \t]{2,}/g," "),i=i.split(`
`).map(o=>o.trim()).join(`
`),i=i.replace(/(^|[\n\.!\?]\s+)([a-z])/g,(o,s,a)=>s+a.toUpperCase()),i.trim()}startAnalyzer(){return st(this,null,function*(){if(gn(this.platformId)&&!((!this.waveformCanvas||!this.waveformCanvas.nativeElement)&&(yield new Promise(t=>setTimeout(t,80)),!this.waveformCanvas||!this.waveformCanvas.nativeElement)))try{let t=window.AudioContext??window.webkitAudioContext;if(!this.audioContext||this.audioContext&&this.audioContext.state==="closed")this.audioContext=new t;else if(this.audioContext.state==="suspended")try{yield this.audioContext.resume()}catch{}if(this.mediaStream){try{this.mediaStream.getTracks().forEach(a=>a.stop())}catch{}this.mediaStream=null}let i=yield navigator.mediaDevices.getUserMedia({audio:!0});this.mediaStream=i;let r=this.audioContext.createMediaStreamSource(i);try{if(this.analyser)try{this.analyser.disconnect()}catch{}}catch{}let o=this.audioContext.createAnalyser();o.fftSize=2048,o.smoothingTimeConstant=.85,r.connect(o),this.analyser=o;let s=o.fftSize;this.dataArray=new Uint8Array(s),this.drawWaveform()}catch(t){try{this.mediaStream&&(this.mediaStream.getTracks().forEach(i=>i.stop()),this.mediaStream=null)}catch{}try{this.analyser&&(this.analyser.disconnect(),this.analyser=null)}catch{}throw this.dataArray=null,t}})}stopAnalyzer(){try{if(this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null),this.analyser){try{this.analyser.disconnect()}catch{}this.analyser=null}if(this.mediaStream){try{this.mediaStream.getTracks().forEach(t=>t.stop())}catch{}this.mediaStream=null}try{this.audioContext&&typeof this.audioContext.close=="function"?this.audioContext.close().catch(()=>{}).finally(()=>{this.audioContext=null}):this.audioContext=null}catch{this.audioContext=null}if(this.dataArray=null,this.waveformCanvas&&this.waveformCanvas.nativeElement){let t=this.waveformCanvas.nativeElement,i=t.getContext("2d");i&&i.clearRect(0,0,t.width,t.height)}}catch{}}drawWaveform(){if(!this.waveformCanvas||!this.waveformCanvas.nativeElement||!this.analyser||!this.dataArray)return;let t=this.waveformCanvas.nativeElement,i=t.getContext("2d");if(!i)return;let r=window.devicePixelRatio||1,o=()=>{let a=t.getBoundingClientRect(),c=Math.max(1,Math.floor(a.width*r)),h=Math.max(1,Math.floor(a.height*r));(t.width!==c||t.height!==h)&&(t.width=c,t.height=h)},s=()=>{if(!this.waveformCanvas||!this.waveformCanvas.nativeElement||!this.analyser||!this.dataArray){this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null);return}let a=t.getBoundingClientRect();if(a.width===0||a.height===0||!t.offsetParent){this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null);return}o();try{this.analyser.getByteTimeDomainData(this.dataArray)}catch{this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null);return}let c=0;for(let U=0;U<this.dataArray.length;U++){let N=this.dataArray[U]-128;c+=N*N}let h=Math.sqrt(c/this.dataArray.length)/128,f=Math.min(1,Math.max(0,h));i.clearRect(0,0,t.width,t.height);let p=t.height/2;i.save(),i.globalAlpha=.25,i.strokeStyle="#666",i.lineWidth=Math.max(1,1*r),i.setLineDash([2*r,3*r]),i.beginPath(),i.moveTo(0,p),i.lineTo(t.width,p),i.stroke(),i.setLineDash([]),i.restore(),i.lineWidth=Math.max(1,1*r),i.strokeStyle="rgba(37,168,90,0.95)",i.beginPath();let _=t.width/this.dataArray.length,v=0;for(let U=0;U<this.dataArray.length;U++){let me=this.dataArray[U]/128*t.height/2,be=p-(me-t.height/2)*.6;U===0?i.moveTo(v,be):i.lineTo(v,be),v+=_}i.stroke();let w=t.width*.7,x=Math.max(2*r,w*(.05+f*.95)),T=Math.max(4*r,6*r),P=(t.width-x)/2,V=p-T/2;i.save(),i.globalAlpha=.18+f*.3,i.fillStyle="#25a85a",i.fillRect(P-6*r,V-6*r,x+12*r,T+12*r),i.restore(),i.fillStyle="#25a85a",i.globalAlpha=1,i.fillRect(P,V,x,T),this.animationFrameId=requestAnimationFrame(s)};this.animationFrameId&&cancelAnimationFrame(this.animationFrameId),this.animationFrameId=requestAnimationFrame(s)}static{this.\u0275fac=function(i){return new(i||e)(C(Dy),C(Ue),C(Bn),C(it))}}static{this.\u0275cmp=_e({type:e,selectors:[["app-chat"]],viewQuery:function(i,r){if(i&1&&(pt(AA,5),pt(OA,5)),i&2){let o;Qe(o=Ze())&&(r.waveformCanvas=o.first),Qe(o=Ze())&&(r.chatBox=o.first)}},standalone:!0,features:[je],decls:32,vars:24,consts:[["chatContent",""],["showCopy",""],["audioSpinner",""],["showPdfQs",""],["noPdfQs",""],["waveformCanvas",""],[1,"chat-container"],[3,"title"],["header-right","",1,"toggle-buttons-container","modern-toggle"],["title","Voice On/Off",1,"toggle-btn","modern",3,"click"],["alt","Voice Toggle",1,"toggle-icon",3,"src"],["title","Tutor On/Off",1,"toggle-btn","modern",3,"click"],["alt","Tutor",1,"toggle-icon",3,"src"],["disabled","","title","Syllabus On/Off",1,"toggle-btn","modern",3,"click"],["alt","Syllabus",1,"toggle-icon",3,"src"],["disabled","","title","Breadcrumb On/Off",1,"toggle-btn","modern",3,"click"],["src","assets/images/chat/breadcrumbs.png","alt","Breadcrumb",1,"toggle-icon"],["title","Open User Guide",1,"toggle-btn","modern",3,"click"],["src","assets/images/chat/info.png","alt","User Guide",1,"toggle-icon"],["src","assets/images/grammar-bg.png","alt","Chat Background",1,"grammar-bg"],[1,"chat-box"],[4,"ngFor","ngForOf"],["class","typing-indicator","aria-live","polite",4,"ngIf"],[1,"input-container"],[1,"input-box"],["placeholder","Type your message here...",3,"ngModelChange","focus","blur","input","keydown","ngModel","disabled"],["aria-label","Send or voice",3,"click","disabled"],["alt","Action",1,"button-icon",3,"src"],["type","button","aria-label","Scroll to bottom",1,"scroll-to-bottom-btn",3,"click"],["class","hardcoded-questions-container",4,"ngIf"],["class","mic-popup",4,"ngIf"],["class","user-guide-overlay",3,"click",4,"ngIf"],[2,"width","20vw","height","20vw","position","absolute","bottom","5vw","right","6vw"],["src","assets/pronunciation/listening.mp4","autoplay","","loop","","muted","",2,"width","100%","height","100%","object-fit","cover"],["class","tutor-video","controls","","autoplay","",3,"src","ended","error",4,"ngIf"],["class","message-wrapper user",4,"ngIf"],["class","message-wrapper ai",4,"ngIf"],[1,"message-wrapper","user"],[1,"profile-pic"],["src","assets/images/chat/rabbit.png","alt","User"],[1,"message"],[1,"message-timestamp"],[1,"message-wrapper","ai"],["src","assets/images/chat/natasha.png","alt","AI"],[1,"message","structured-response"],[3,"innerHTML"],["class","followups",4,"ngIf"],["title","Copy message",1,"icon-btn",3,"click"],[4,"ngIf","ngIfElse"],["class","icon-btn","aria-label","Play audio","title","Play audio",3,"click",4,"ngIf"],["class","icon-btn","aria-label","Stop audio","title","Stop audio",3,"click",4,"ngIf"],["class","icon-btn","aria-label","Generate audio","title","Generate audio",3,"disabled","click",4,"ngIf"],["class","icon-btn","aria-label","Generate video","title","Generate video",3,"click",4,"ngIf"],["class","icon-btn","disabled","",4,"ngIf"],["class","icon-btn","aria-label","Toggle video","title","Toggle video",3,"active","click",4,"ngIf"],[2,"width","20vw","height","20vw","position","absolute","bottom","5vw","right","6vw","z-index","2"],["style","width:100%; height:100%; object-fit:cover;","autoplay","",3,"src","ended",4,"ngIf"],[1,"followups"],[1,"followups-title"],["class","followup-chip","title","Ask this next",3,"click",4,"ngFor","ngForOf"],["title","Ask this next",1,"followup-chip",3,"click"],[1,"copy-tick"],["src","assets/images/chat/copy.png","alt","Copy",1,"meta-icon"],["aria-label","Play audio","title","Play audio",1,"icon-btn",3,"click"],["src","assets/images/chat/speaker.png","alt","Play audio",1,"meta-icon"],["aria-label","Stop audio","title","Stop audio",1,"icon-btn",3,"click"],["src","assets/images/chat/stop-button.png","alt","Stop audio",1,"meta-icon"],["aria-label","Generate audio","title","Generate audio",1,"icon-btn",3,"click","disabled"],["src","assets/images/chat/speaker.png","alt","Generate audio",1,"meta-icon"],["src","assets/images/chat/loading-spinner.gif","alt","Generating audio",1,"meta-icon"],["aria-label","Generate video","title","Generate video",1,"icon-btn",3,"click"],["src","assets/images/chat/video.png","alt","Generate video",1,"meta-icon"],["disabled","",1,"icon-btn"],["src","assets/images/chat/loading-spinner.gif","alt","Generating video",1,"meta-icon"],["aria-label","Toggle video","title","Toggle video",1,"icon-btn",3,"click"],["alt","Video",1,"meta-icon",3,"src"],["autoplay","",2,"width","100%","height","100%","object-fit","cover",3,"ended","src"],["aria-live","polite",1,"typing-indicator"],[1,"hardcoded-questions-container"],["class","loading-row",4,"ngIf"],[4,"ngIf"],[1,"loading-row"],[1,"hint-row"],["class","hardcoded-question",3,"disabled","mousedown",4,"ngFor","ngForOf"],[1,"hardcoded-question",3,"mousedown","disabled"],[1,"hardcoded-question","disabled"],[1,"mic-popup"],[1,"mic-header"],[1,"close",3,"click"],[1,"mic-body"],["aria-hidden","true",1,"waveform"],[1,"transcript-area"],[1,"status"],[1,"dot"],[1,"popup-transcript"],["class","hint",4,"ngIf"],["class","empty",4,"ngIf"],["class","error",4,"ngIf"],[1,"mic-actions"],[3,"click","disabled"],[3,"click"],[1,"hint"],[1,"empty"],[1,"error"],[1,"user-guide-overlay",3,"click"],[1,"user-guide-modal",3,"click"],["aria-label","Close",1,"user-guide-close-icon",3,"click"],[1,"user-guide-content"],[2,"text-align","justify","font-size","15px"],[2,"list-style","unset","margin-left","1.25rem"],["controls","","autoplay","",1,"tutor-video",3,"ended","error","src"]],template:function(i,r){if(i&1){let o=W();d(0,"div",6)(1,"app-header",7)(2,"div",8)(3,"button",9),M("click",function(){return A(o),O(r.toggleVoice())}),g(4,"img",10),l(),d(5,"button",11),M("click",function(){return A(o),O(r.toggleTutor())}),g(6,"img",12),l(),d(7,"button",13),M("click",function(){return A(o),O(r.toggleSyllabus())}),g(8,"img",14),l(),d(9,"button",15),M("click",function(){return A(o),O(r.toggleBreadcrumb())}),g(10,"img",16),l(),d(11,"button",17),M("click",function(){return A(o),O(r.openUserGuide())}),g(12,"img",18),l()()(),g(13,"img",19),d(14,"div",20,0),L(16,qA,3,2,"div",21)(17,YA,5,0,"div",22),l(),d(18,"div",23)(19,"div",24)(20,"textarea",25),Mo("ngModelChange",function(a){return A(o),hc(r.userInput,a)||(r.userInput=a),O(a)}),M("focus",function(){return A(o),O(r.showHardcodedQuestions())})("blur",function(){return A(o),O(r.hideHardcodedQuestions())})("input",function(a){return A(o),O(r.adjustTextareaHeight(a))})("keydown",function(a){return A(o),O(r.handleEnterPress(a))}),u(21,"      "),l(),d(22,"button",26),M("click",function(){return A(o),O(r.handleButtonClick())}),g(23,"img",27),l()(),d(24,"button",28),M("click",function(){return A(o),O(r.scrollToBottom(!0))}),u(25," \u2193 "),l(),L(26,iO,3,2,"div",29),l(),L(27,cO,26,9,"div",30)(28,lO,129,0,"div",31),d(29,"div",32),g(30,"video",33),l(),L(31,dO,1,1,"video",34),l()}i&2&&(m(),b("title","Grammar Chat"),m(2),ge("active",r.isVoiceEnabled)("muted",!r.isVoiceEnabled),m(),b("src",r.isVoiceEnabled?"assets/images/chat/volume.png":"assets/images/chat/volume-mute.png",ie),m(),ge("active",r.isTutorEnabled),m(),b("src",r.isTutorEnabled?"assets/images/chat/video.png":"assets/images/chat/no-video.png",ie),m(),ge("active",r.isSyllabusEnabled),m(),b("src",r.isSyllabusEnabled?"assets/images/chat/syllabus.png":"assets/images/chat/internet.png",ie),m(),ge("active",r.isBreadcrumbEnabled),m(7),b("ngForOf",r.messages),m(),b("ngIf",r.isTyping),m(3),So("ngModel",r.userInput),b("disabled",r.isAiResponding),m(2),b("disabled",r.isListening&&!r.showMicPopup),m(),b("src",r.getButtonIcon(),ie),m(3),b("ngIf",r.showQuestions),m(),b("ngIf",r.showMicPopup),m(),b("ngIf",r.showUserGuide),m(3),b("ngIf",r.isTutorEnabled&&r.videoUrl))},dependencies:[Or,ii,Ar,Go,wt,Er,bt,xl],styles:['.chat-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh;width:100%;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.chat-box[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow-y:auto;height:375px;padding:2vw;background-color:#2322206e;scroll-behavior:smooth;flex-grow:1;padding-bottom:375px;scroll-padding-bottom:375px}.input-container[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;width:100%;position:sticky;bottom:0;z-index:10}.input-box[_ngcontent-%COMP%]{display:flex;gap:10px;padding:8px;background:#009688;box-shadow:0 -2px 4px #0000001a;flex-shrink:0;width:100%;height:auto;min-height:40px;font-weight:700}.input-box[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{flex:1;height:auto;max-height:80px;overflow-y:auto;resize:none;padding:8px;font-size:1vw;line-height:1.2;border:1px solid rgb(93,145,195);border-radius:8px;background:#fff;color:#000;outline:none;transition:border-color .3s ease,box-shadow .3s ease;width:100%;box-sizing:border-box}.input-box[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#87b9eb;box-shadow:0 0 5px #5d91c399}.input-box[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#ffffff80}.input-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:55px;height:55px;display:flex;align-items:center;justify-content:center;background:#fff;border:none;border-radius:8px;cursor:pointer}.input-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 4px 10px #0ea5e966}.button-icon[_ngcontent-%COMP%]{width:34px;height:34px;object-fit:contain}.hardcoded-questions-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;gap:15px;padding:10px;background:#ffffff1a;border-radius:8px;margin-bottom:5px;flex-wrap:wrap;position:absolute;bottom:60px;left:10px;width:auto}.hardcoded-question[_ngcontent-%COMP%]{padding:10px 15px;background:#c8c8c84d;border-radius:5px;font-size:14px;font-weight:700;cursor:pointer;transition:background .3s ease,transform .2s ease;white-space:nowrap;border:1px solid rgba(0,0,0,.2)}.hardcoded-question[_ngcontent-%COMP%]:hover{background:#b4b4b480;transform:scale(1.05)}@media (max-width: 600px){.hardcoded-questions-container[_ngcontent-%COMP%]{width:90%;bottom:80px;left:10px}.hardcoded-question[_ngcontent-%COMP%]{font-size:12px;padding:8px 12px}}.message-wrapper[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1vw;margin-bottom:1vw}.message-wrapper.user[_ngcontent-%COMP%]{flex-direction:row-reverse;text-align:right}.message-wrapper.ai[_ngcontent-%COMP%]{flex-direction:row;text-align:left}.profile-pic[_ngcontent-%COMP%]{width:4vw;height:4vw;border-radius:50%;overflow:hidden;background-color:#ddd}.profile-pic[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.ai[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{align-self:flex-start;background:#56cdc273;color:#fff}.user[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{align-self:flex-end;background:#56cdc273;color:#fff}.message-timestamp[_ngcontent-%COMP%]{font-size:.8vw;color:#fffc;margin-top:.5vw;display:inline-block;text-align:right}.message[_ngcontent-%COMP%]{max-width:50vw;padding:1vw 2vw;border-radius:2vw;font-size:1vw;font-weight:600;line-height:1.5;box-shadow:0 .3vw .8vw #0000001a;background:#2b6296;color:#fff}.structured-response[_ngcontent-%COMP%]{background:#2b6296;color:#fff;padding:1vw;border-radius:1vw;margin-bottom:.3vw;box-shadow:0 .3vw .8vw #0000001a;line-height:1.4;max-width:48vw;word-break:break-word}.structured-response[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{display:inline-block;margin-top:.3vw}.structured-response[_ngcontent-%COMP%]   br[_ngcontent-%COMP%]{display:block;content:"";margin:.2vw 0}.structured-response[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .structured-response[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{padding-left:1.2vw;margin-bottom:0}.structured-response[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .structured-response[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.2vw;line-height:1.4}.message[_ngcontent-%COMP%], .structured-response[_ngcontent-%COMP%]{scroll-margin-bottom:var(--input-gap, 120px)}.scroll-to-bottom-btn[_ngcontent-%COMP%]{position:fixed;right:16px;bottom:calc(var(--input-gap, 120px) + 16px);width:51px;height:51px;border-radius:50%;border:none;background:#56cdc2;color:#fff;font-size:31px;box-shadow:0 6px 16px #00000040;cursor:pointer;transition:transform .15s ease,box-shadow .2s ease,background .2s ease;z-index:20}.scroll-to-bottom-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 10px 22px #0000004d;background:#56cdc2}.toggle-buttons-container[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center;margin-right:15px}.toggle-buttons-container.modern-toggle[_ngcontent-%COMP%]{display:flex;gap:18px;align-items:center;margin-right:15px}.toggle-btn[_ngcontent-%COMP%]{padding:8px 12px;border:2px solid #5d91c3;background:transparent;color:#fff;border-radius:20px;cursor:pointer;font-size:.9vw;font-weight:700;transition:all .3s ease;min-width:49px;white-space:nowrap}.toggle-btn[_ngcontent-%COMP%]:hover{background:#5d91c333;transform:scale(1.05)}.toggle-btn.active[_ngcontent-%COMP%]{background:#5d91c3;color:#fff;box-shadow:0 0 10px #5d91c380}.toggle-btn.modern[_ngcontent-%COMP%]{background:#f5f7fa;border:none;border-radius:24px;box-shadow:0 2px 8px #5d91c314;padding:8px 16px;display:flex;align-items:center;transition:background .2s,box-shadow .2s,transform .2s;cursor:pointer;min-width:48px;height:44px}.toggle-btn.modern[_ngcontent-%COMP%]   .toggle-icon[_ngcontent-%COMP%]{width:24px;height:24px;margin:0 auto;display:block}.toggle-btn.modern.active[_ngcontent-%COMP%]{background:#e3fcec;box-shadow:0 4px 16px #5d91c32e;transform:scale(1.08)}.toggle-btn.modern.muted[_ngcontent-%COMP%]{background:#ffeaea}.toggle-btn.modern[_ngcontent-%COMP%]:hover{background:#eaf1fb;box-shadow:0 6px 18px #5d91c32e;transform:scale(1.05)}.toggle-btn.modern[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;box-shadow:none}@media (max-width: 1200px){.toggle-btn[_ngcontent-%COMP%]{font-size:.8vw;min-width:70px;padding:6px 10px}}@media (max-width: 768px){.toggle-buttons-container[_ngcontent-%COMP%]{gap:5px;margin-right:10px}.toggle-btn[_ngcontent-%COMP%]{font-size:.7vw;min-width:60px;padding:4px 8px}}.icon-btn[_ngcontent-%COMP%]{background:none;border:none;padding:4px;cursor:pointer;border-radius:4px;transition:background .2s;margin-left:.5vw}.icon-btn[_ngcontent-%COMP%]:hover{background:#5d91c326}.meta-icon[_ngcontent-%COMP%]{width:20px;height:20px;display:inline-flex;align-items:center;justify-content:center;vertical-align:middle}.copy-tick[_ngcontent-%COMP%]{color:#fff;font-size:20px;font-weight:700;width:20px;height:20px;display:inline-flex;align-items:center;justify-content:center;vertical-align:middle;transition:color .2s}.tutor-video[_ngcontent-%COMP%]{position:fixed;right:24px;bottom:80px;width:380px;height:380px;border-radius:12px;box-shadow:0 4px 16px #00000040;z-index:2000;background:#000}@media (max-width: 600px){.tutor-video[_ngcontent-%COMP%]{width:90vw;height:28vw;right:5vw;bottom:5vw}}.typing-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#fff;font-size:1.2vw;margin-left:4vw;margin-top:1vw;background:#fff3;padding:.8vw 1.5vw;border-radius:2vw;width:fit-content;animation:_ngcontent-%COMP%_fadeIn .3s ease-in-out}.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:10px;height:10px;background-color:#fff;border-radius:50%;display:inline-block;animation:_ngcontent-%COMP%_typingDots 1.5s infinite ease-in-out}.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){animation-delay:0s}.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){animation-delay:.4s}@keyframes _ngcontent-%COMP%_typingDots{0%,to{transform:scale(.8);opacity:.3}50%{transform:scale(1);opacity:1}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(5px)}to{opacity:1;transform:translateY(0)}}.mic-popup[_ngcontent-%COMP%]{position:fixed;left:50%;top:18%;transform:translate(-50%);width:420px;background:#fff;border-radius:10px;box-shadow:0 10px 30px #00000026;z-index:1200;overflow:hidden;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial}.mic-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 14px;border-bottom:1px solid #eee}.mic-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{background:transparent;border:none;font-size:16px;cursor:pointer}.mic-body[_ngcontent-%COMP%]{padding:12px;display:flex;flex-direction:column;gap:10px}.waveform[_ngcontent-%COMP%]{width:100%;height:90px;background:#fafafa;border-radius:6px;display:block}.transcript-area[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.status[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#444;font-size:13px}.status[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;background:#bbb;display:inline-block}.status[_ngcontent-%COMP%]   .dot.recording[_ngcontent-%COMP%]{background:#d23;box-shadow:0 0 8px #d2232359}.popup-transcript[_ngcontent-%COMP%]{min-height:52px;background:#f7f8fa;padding:8px;border-radius:6px;white-space:pre-wrap;font-size:14px;color:#222}.popup-transcript[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{color:#666;font-size:13px}.popup-transcript[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{margin:0;font-family:inherit;white-space:pre-wrap}.mic-actions[_ngcontent-%COMP%]{display:flex;gap:8px;justify-content:flex-end;margin-top:6px}.mic-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 10px;border-radius:6px;border:1px solid #ddd;background:#fff;cursor:pointer}.mic-actions[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.error[_ngcontent-%COMP%]{color:#b00020;font-size:13px}.user-guide-modal[_ngcontent-%COMP%]{position:fixed;top:52%;left:50%;transform:translate(-50%,-50%);height:38vw;width:50vw;background:linear-gradient(135deg,#fff 80%,#e3fcec);color:#222;box-shadow:0 12px 40px #5d91c338;border-radius:18px;padding:1vw;z-index:2001;overflow:visible;border:10px solid var(--main-accent-color);box-sizing:border-box}.user-guide-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000059;z-index:2000}.user-guide-close-icon[_ngcontent-%COMP%]{top:-22px;right:-22px}.user-guide-modal[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{overflow-y:auto;max-height:34.6vw}.user-guide-modal[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:1.7;font-size:1.1vw;background:#5d91c312;padding:.5vw;box-shadow:0 2px 8px #5d91c30f}.user-guide-modal[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{color:#2b6296;font-size:1.15vw}@keyframes _ngcontent-%COMP%_blink{0%,50%{opacity:1}51%,to{opacity:0}}']})}}return e})();function vs(e,n=0){return uO(e)?Number(e):n}function uO(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}function $r(e){return Array.isArray(e)?e:[e]}function Be(e){return e==null?"":typeof e=="string"?e:`${e}px`}function Un(e){return e instanceof ae?e.nativeElement:e}var Rf;try{Rf=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Rf=!1}var He=(()=>{class e{constructor(t){this._platformId=t,this.isBrowser=this._platformId?gn(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||Rf)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(i){return new(i||e)(y(it))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var _s;function hO(){if(_s==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>_s=!0}))}finally{_s=_s||!1}return _s}function Hr(e){return hO()?e:!!e.capture}var Vi;function Iy(){if(Vi==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Vi=!1,Vi;if("scrollBehavior"in document.documentElement.style)Vi=!0;else{let e=Element.prototype.scrollTo;e?Vi=!/\{\s*\[native code\]\s*\}/.test(e.toString()):Vi=!1}}return Vi}var Pf;function fO(){if(Pf==null){let e=typeof document<"u"?document.head:null;Pf=!!(e&&(e.createShadowRoot||e.attachShadow))}return Pf}function Sy(e){if(fO()){let n=e.getRootNode?e.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}function ys(){let e=typeof document<"u"&&document?document.activeElement:null;for(;e&&e.shadowRoot;){let n=e.shadowRoot.activeElement;if(n===e)break;e=n}return e}function Jt(e){return e.composedPath?e.composedPath()[0]:e.target}function bs(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var pO=new k("cdk-dir-doc",{providedIn:"root",factory:mO});function mO(){return E(Q)}var gO=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function vO(e){let n=e?.toLowerCase()||"";return n==="auto"&&typeof navigator<"u"&&navigator?.language?gO.test(navigator.language)?"rtl":"ltr":n==="rtl"?"rtl":"ltr"}var Cs=(()=>{class e{constructor(t){if(this.value="ltr",this.change=new oe,t){let i=t.body?t.body.dir:null,r=t.documentElement?t.documentElement.dir:null;this.value=vO(i||r||"ltr")}}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(i){return new(i||e)(y(pO,8))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var li=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=Y({type:e})}static{this.\u0275inj=q({})}}return e})();var yO=20,Ty=(()=>{class e{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new z,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){let i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=yO){return this._platform.isBrowser?new X(i=>{this._globalSubscription||this._addGlobalListener();let r=t>0?this._scrolled.pipe(na(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):F()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){let r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Ee(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){let i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=Un(i),o=t.getElementRef().nativeElement;do if(r==o)return!0;while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let t=this._getWindow();return eo(t.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(i){return new(i||e)(y(j),y(He),y(Q,8))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var bO=20,Nf=(()=>{class e{constructor(t,i,r){this._platform=t,this._change=new z,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){let o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){let t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,i=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect(),s=-o.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,a=-o.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0;return{top:s,left:a}}change(t=bO){return t>0?this._change.pipe(na(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(i){return new(i||e)(y(He),y(j),y(Q,8))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var My=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=Y({type:e})}static{this.\u0275inj=q({})}}return e})(),Ff=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=Y({type:e})}static{this.\u0275inj=q({imports:[li,My,li,My]})}}return e})();var xs=class{attach(n){return this._attachedHost=n,n.attach(this)}detach(){let n=this._attachedHost;n!=null&&(this._attachedHost=null,n.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(n){this._attachedHost=n}},zr=class extends xs{constructor(n,t,i,r,o){super(),this.component=n,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}},Gr=class extends xs{constructor(n,t,i,r){super(),this.templateRef=n,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(n,t=this.context){return this.context=t,super.attach(n)}detach(){return this.context=void 0,super.detach()}},Lf=class extends xs{constructor(n){super(),this.element=n instanceof ae?n.nativeElement:n}},Wr=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(n){if(n instanceof zr)return this._attachedPortal=n,this.attachComponentPortal(n);if(n instanceof Gr)return this._attachedPortal=n,this.attachTemplatePortal(n);if(this.attachDomPortal&&n instanceof Lf)return this._attachedPortal=n,this.attachDomPortal(n)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(n){this._disposeFn=n}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Dl=class extends Wr{constructor(n,t,i,r,o){super(),this.outletElement=n,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{this._document;let a=s.element;a.parentNode;let c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=o}attachComponentPortal(n){let i=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component),r;return n.viewContainerRef?(r=n.viewContainerRef.createComponent(i,n.viewContainerRef.length,n.injector||n.viewContainerRef.injector,n.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(n.injector||this._defaultInjector||Re.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=n,r}attachTemplatePortal(n){let t=n.viewContainerRef,i=t.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);r!==-1&&t.remove(r)}),this._attachedPortal=n,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(n){return n.hostView.rootNodes[0]}};var Ds=(()=>{class e extends Wr{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new oe,this.attachDomPortal=o=>{this._document;let s=o.element;s.parentNode;let a=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);let i=t.viewContainerRef!=null?t.viewContainerRef:this._viewContainerRef,o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),s=i.createComponent(o,i.length,t.injector||i.injector,t.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=t,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(t){t.setAttachedHost(this);let i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){let t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static{this.\u0275fac=function(i){return new(i||e)(C(Jn),C(Dt),C(Q))}}static{this.\u0275dir=ue({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[G.None,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[We]})}}return e})();var ji=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=Y({type:e})}static{this.\u0275inj=q({})}}return e})();function El(e,...n){return n.length?n.some(t=>e[t]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}var Ay=Iy(),Vf=class{constructor(n,t){this._viewportRuler=n,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){let n=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=n.style.left||"",this._previousHTMLStyles.top=n.style.top||"",n.style.left=Be(-this._previousScrollPosition.left),n.style.top=Be(-this._previousScrollPosition.top),n.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let n=this._document.documentElement,t=this._document.body,i=n.style,r=t.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,n.classList.remove("cdk-global-scrollblock"),Ay&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Ay&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}};var jf=class{constructor(n,t,i,r){this._scrollDispatcher=n,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(n){this._overlayRef,this._overlayRef=n}enable(){if(this._scrollSubscription)return;let n=this._scrollDispatcher.scrolled(0).pipe(Ee(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=n.subscribe(()=>{let t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=n.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Il=class{enable(){}disable(){}attach(){}};function Bf(e,n){return n.some(t=>{let i=e.bottom<t.top,r=e.top>t.bottom,o=e.right<t.left,s=e.left>t.right;return i||r||o||s})}function Oy(e,n){return n.some(t=>{let i=e.top<t.top,r=e.bottom>t.bottom,o=e.left<t.left,s=e.right>t.right;return i||r||o||s})}var Uf=class{constructor(n,t,i,r){this._scrollDispatcher=n,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(n){this._overlayRef,this._overlayRef=n}enable(){if(!this._scrollSubscription){let n=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(n).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();Bf(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},CO=(()=>{class e{constructor(t,i,r,o){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new Il,this.close=s=>new jf(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new Vf(this._viewportRuler,this._document),this.reposition=s=>new Uf(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}static{this.\u0275fac=function(i){return new(i||e)(y(Ty),y(Nf),y(j),y(Q))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Es=class{constructor(n){if(this.scrollStrategy=new Il,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,n){let t=Object.keys(n);for(let i of t)n[i]!==void 0&&(this[i]=n[i])}}};var $f=class{constructor(n,t){this.connectionPair=n,this.scrollableViewProperties=t}};var Fy=(()=>{class e{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){let i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}static{this.\u0275fac=function(i){return new(i||e)(y(Q))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),xO=(()=>{class e extends Fy{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{let o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){let a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(i){return new(i||e)(y(Q),y(j,8))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),DO=(()=>{class e extends Fy{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Jt(o)},this._clickListener=o=>{let s=Jt(o),a=o.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;let c=this._attachedOverlays.slice();for(let h=c.length-1;h>-1;h--){let f=c[h];if(f._outsidePointerEvents.observers.length<1||!f.hasAttached())continue;if(f.overlayElement.contains(s)||f.overlayElement.contains(a))break;let p=f._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>p.next(o)):p.next(o)}}}add(t){if(super.add(t),!this._isAttached){let i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(i){return new(i||e)(y(Q),y(He),y(j,8))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),qr=(()=>{class e{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let t="cdk-overlay-container";if(this._platform.isBrowser||bs()){let r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}let i=this._document.createElement("div");i.classList.add(t),bs()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static{this.\u0275fac=function(i){return new(i||e)(y(Q),y(He))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),$n=class{constructor(n,t,i,r,o,s,a,c,h,f=!1){this._portalOutlet=n,this._host=t,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=c,this._outsideClickDispatcher=h,this._animationsDisabled=f,this._backdropElement=null,this._backdropClick=new z,this._attachments=new z,this._detachments=new z,this._locationChanges=xe.EMPTY,this._backdropClickHandler=p=>this._backdropClick.next(p),this._backdropTransitionendHandler=p=>{this._disposeBackdrop(p.target)},this._keydownEvents=new z,this._outsidePointerEvents=new z,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(n){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let t=this._portalOutlet.attach(n);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(ze(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof t?.onDestroy=="function"&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let n=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),n}dispose(){let n=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,n&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(n){n!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=n,this.hasAttached()&&(n.attach(this),this.updatePosition()))}updateSize(n){this._config=S(S({},this._config),n),this._updateElementSize()}setDirection(n){this._config=de(S({},this._config),{direction:n}),this._updateElementDirection()}addPanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!0)}removePanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!1)}getDirection(){let n=this._config.direction;return n?typeof n=="string"?n:n.value:"ltr"}updateScrollStrategy(n){n!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=n,this.hasAttached()&&(n.attach(this),n.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let n=this._pane.style;n.width=Be(this._config.width),n.height=Be(this._config.height),n.minWidth=Be(this._config.minWidth),n.minHeight=Be(this._config.minHeight),n.maxWidth=Be(this._config.maxWidth),n.maxHeight=Be(this._config.maxHeight)}_togglePointerEvents(n){this._pane.style.pointerEvents=n?"":"none"}_attachBackdrop(){let n="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(n)})}):this._backdropElement.classList.add(n)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let n=this._backdropElement;if(n){if(this._animationsDisabled){this._disposeBackdrop(n);return}n.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{n.addEventListener("transitionend",this._backdropTransitionendHandler)}),n.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(n)},500))}}_toggleClasses(n,t,i){let r=$r(t||[]).filter(o=>!!o);r.length&&(i?n.classList.add(...r):n.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{let n=this._ngZone.onStable.pipe(dt(to(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),n.unsubscribe())})})}_disposeScrollStrategy(){let n=this._scrollStrategy;n&&(n.disable(),n.detach&&n.detach())}_disposeBackdrop(n){n&&(n.removeEventListener("click",this._backdropClickHandler),n.removeEventListener("transitionend",this._backdropTransitionendHandler),n.remove(),this._backdropElement===n&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},ky="cdk-overlay-connected-position-bounding-box",EO=/([A-Za-z%]+)$/,Hf=class{get positions(){return this._preferredPositions}constructor(n,t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new z,this._resizeSubscription=xe.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(n)}attach(n){this._overlayRef&&this._overlayRef,this._validatePositions(),n.hostElement.classList.add(ky),this._overlayRef=n,this._boundingBox=n.hostElement,this._pane=n.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let n=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[],s;for(let a of this._preferredPositions){let c=this._getOriginPoint(n,r,a),h=this._getOverlayPoint(c,t,a),f=this._getOverlayFit(h,t,i,a);if(f.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,c);return}if(this._canFitWithFlexibleDimensions(f,h,i)){o.push({position:a,origin:c,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(c,a)});continue}(!s||s.overlayFit.visibleArea<f.visibleArea)&&(s={overlayFit:f,overlayPoint:h,originPoint:c,position:a,overlayRect:t})}if(o.length){let a=null,c=-1;for(let h of o){let f=h.boundingBoxRect.width*h.boundingBoxRect.height*(h.position.weight||1);f>c&&(c=f,a=h)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Bi(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(ky),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let n=this._lastPosition;if(n){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._getOriginPoint(this._originRect,this._containerRect,n);this._applyPosition(n,t)}else this.apply()}withScrollableContainers(n){return this._scrollables=n,this}withPositions(n){return this._preferredPositions=n,n.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(n){return this._viewportMargin=n,this}withFlexibleDimensions(n=!0){return this._hasFlexibleDimensions=n,this}withGrowAfterOpen(n=!0){return this._growAfterOpen=n,this}withPush(n=!0){return this._canPush=n,this}withLockedPosition(n=!0){return this._positionLocked=n,this}setOrigin(n){return this._origin=n,this}withDefaultOffsetX(n){return this._offsetX=n,this}withDefaultOffsetY(n){return this._offsetY=n,this}withTransformOriginOn(n){return this._transformOriginSelector=n,this}_getOriginPoint(n,t,i){let r;if(i.originX=="center")r=n.left+n.width/2;else{let s=this._isRtl()?n.right:n.left,a=this._isRtl()?n.left:n.right;r=i.originX=="start"?s:a}t.left<0&&(r-=t.left);let o;return i.originY=="center"?o=n.top+n.height/2:o=i.originY=="top"?n.top:n.bottom,t.top<0&&(o-=t.top),{x:r,y:o}}_getOverlayPoint(n,t,i){let r;i.overlayX=="center"?r=-t.width/2:i.overlayX==="start"?r=this._isRtl()?-t.width:0:r=this._isRtl()?0:-t.width;let o;return i.overlayY=="center"?o=-t.height/2:o=i.overlayY=="top"?0:-t.height,{x:n.x+r,y:n.y+o}}_getOverlayFit(n,t,i,r){let o=Ry(t),{x:s,y:a}=n,c=this._getOffset(r,"x"),h=this._getOffset(r,"y");c&&(s+=c),h&&(a+=h);let f=0-s,p=s+o.width-i.width,_=0-a,v=a+o.height-i.height,w=this._subtractOverflows(o.width,f,p),x=this._subtractOverflows(o.height,_,v),T=w*x;return{visibleArea:T,isCompletelyWithinViewport:o.width*o.height===T,fitsInViewportVertically:x===o.height,fitsInViewportHorizontally:w==o.width}}_canFitWithFlexibleDimensions(n,t,i){if(this._hasFlexibleDimensions){let r=i.bottom-t.y,o=i.right-t.x,s=Py(this._overlayRef.getConfig().minHeight),a=Py(this._overlayRef.getConfig().minWidth),c=n.fitsInViewportVertically||s!=null&&s<=r,h=n.fitsInViewportHorizontally||a!=null&&a<=o;return c&&h}return!1}_pushOverlayOnScreen(n,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:n.x+this._previousPushAmount.x,y:n.y+this._previousPushAmount.y};let r=Ry(t),o=this._viewportRect,s=Math.max(n.x+r.width-o.width,0),a=Math.max(n.y+r.height-o.height,0),c=Math.max(o.top-i.top-n.y,0),h=Math.max(o.left-i.left-n.x,0),f=0,p=0;return r.width<=o.width?f=h||-s:f=n.x<this._viewportMargin?o.left-i.left-n.x:0,r.height<=o.height?p=c||-a:p=n.y<this._viewportMargin?o.top-i.top-n.y:0,this._previousPushAmount={x:f,y:p},{x:n.x+f,y:n.y+p}}_applyPosition(n,t){if(this._setTransformOrigin(n),this._setOverlayElementStyles(t,n),this._setBoundingBoxStyles(t,n),n.panelClass&&this._addPanelClasses(n.panelClass),this._positionChanges.observers.length){let i=this._getScrollVisibility();if(n!==this._lastPosition||!this._lastScrollVisibility||!IO(this._lastScrollVisibility,i)){let r=new $f(n,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=n,this._isInitialRender=!1}_setTransformOrigin(n){if(!this._transformOriginSelector)return;let t=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,r=n.overlayY;n.overlayX==="center"?i="center":this._isRtl()?i=n.overlayX==="start"?"right":"left":i=n.overlayX==="start"?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(n,t){let i=this._viewportRect,r=this._isRtl(),o,s,a;if(t.overlayY==="top")s=n.y,o=i.height-s+this._viewportMargin;else if(t.overlayY==="bottom")a=i.height-n.y+this._viewportMargin*2,o=i.height-a+this._viewportMargin;else{let v=Math.min(i.bottom-n.y+i.top,n.y),w=this._lastBoundingBoxSize.height;o=v*2,s=n.y-v,o>w&&!this._isInitialRender&&!this._growAfterOpen&&(s=n.y-w/2)}let c=t.overlayX==="start"&&!r||t.overlayX==="end"&&r,h=t.overlayX==="end"&&!r||t.overlayX==="start"&&r,f,p,_;if(h)_=i.width-n.x+this._viewportMargin*2,f=n.x-this._viewportMargin;else if(c)p=n.x,f=i.right-n.x;else{let v=Math.min(i.right-n.x+i.left,n.x),w=this._lastBoundingBoxSize.width;f=v*2,p=n.x-v,f>w&&!this._isInitialRender&&!this._growAfterOpen&&(p=n.x-w/2)}return{top:s,left:p,bottom:a,right:_,width:f,height:o}}_setBoundingBoxStyles(n,t){let i=this._calculateBoundingBoxRect(n,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=Be(i.height),r.top=Be(i.top),r.bottom=Be(i.bottom),r.width=Be(i.width),r.left=Be(i.left),r.right=Be(i.right),t.overlayX==="center"?r.alignItems="center":r.alignItems=t.overlayX==="end"?"flex-end":"flex-start",t.overlayY==="center"?r.justifyContent="center":r.justifyContent=t.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=Be(o)),s&&(r.maxWidth=Be(s))}this._lastBoundingBoxSize=i,Bi(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Bi(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Bi(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(n,t){let i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){let f=this._viewportRuler.getViewportScrollPosition();Bi(i,this._getExactOverlayY(t,n,f)),Bi(i,this._getExactOverlayX(t,n,f))}else i.position="static";let a="",c=this._getOffset(t,"x"),h=this._getOffset(t,"y");c&&(a+=`translateX(${c}px) `),h&&(a+=`translateY(${h}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=Be(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=Be(s.maxWidth):o&&(i.maxWidth="")),Bi(this._pane.style,i)}_getExactOverlayY(n,t,i){let r={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,n);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),n.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;r.bottom=`${s-(o.y+this._overlayRect.height)}px`}else r.top=Be(o.y);return r}_getExactOverlayX(n,t,i){let r={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,n);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i));let s;if(this._isRtl()?s=n.overlayX==="end"?"left":"right":s=n.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;r.right=`${a-(o.x+this._overlayRect.width)}px`}else r.left=Be(o.x);return r}_getScrollVisibility(){let n=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Oy(n,i),isOriginOutsideView:Bf(n,i),isOverlayClipped:Oy(t,i),isOverlayOutsideView:Bf(t,i)}}_subtractOverflows(n,...t){return t.reduce((i,r)=>i-Math.max(r,0),n)}_getNarrowedViewportRect(){let n=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+n-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:n-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(n,t){return t==="x"?n.offsetX==null?this._offsetX:n.offsetX:n.offsetY==null?this._offsetY:n.offsetY}_validatePositions(){}_addPanelClasses(n){this._pane&&$r(n).forEach(t=>{t!==""&&this._appliedPanelClasses.indexOf(t)===-1&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(n=>{this._pane.classList.remove(n)}),this._appliedPanelClasses=[])}_getOriginRect(){let n=this._origin;if(n instanceof ae)return n.nativeElement.getBoundingClientRect();if(n instanceof Element)return n.getBoundingClientRect();let t=n.width||0,i=n.height||0;return{top:n.y,bottom:n.y+i,left:n.x,right:n.x+t,height:i,width:t}}};function Bi(e,n){for(let t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e}function Py(e){if(typeof e!="number"&&e!=null){let[n,t]=e.split(EO);return!t||t==="px"?parseFloat(n):null}return e||null}function Ry(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}function IO(e,n){return e===n?!0:e.isOriginClipped===n.isOriginClipped&&e.isOriginOutsideView===n.isOriginOutsideView&&e.isOverlayClipped===n.isOverlayClipped&&e.isOverlayOutsideView===n.isOverlayOutsideView}var Ny="cdk-global-overlay-wrapper",zf=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(n){let t=n.getConfig();this._overlayRef=n,this._width&&!t.width&&n.updateSize({width:this._width}),this._height&&!t.height&&n.updateSize({height:this._height}),n.hostElement.classList.add(Ny),this._isDisposed=!1}top(n=""){return this._bottomOffset="",this._topOffset=n,this._alignItems="flex-start",this}left(n=""){return this._xOffset=n,this._xPosition="left",this}bottom(n=""){return this._topOffset="",this._bottomOffset=n,this._alignItems="flex-end",this}right(n=""){return this._xOffset=n,this._xPosition="right",this}start(n=""){return this._xOffset=n,this._xPosition="start",this}end(n=""){return this._xOffset=n,this._xPosition="end",this}width(n=""){return this._overlayRef?this._overlayRef.updateSize({width:n}):this._width=n,this}height(n=""){return this._overlayRef?this._overlayRef.updateSize({height:n}):this._height=n,this}centerHorizontally(n=""){return this.left(n),this._xPosition="center",this}centerVertically(n=""){return this.top(n),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let n=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,c=(r==="100%"||r==="100vw")&&(!s||s==="100%"||s==="100vw"),h=(o==="100%"||o==="100vh")&&(!a||a==="100%"||a==="100vh"),f=this._xPosition,p=this._xOffset,_=this._overlayRef.getConfig().direction==="rtl",v="",w="",x="";c?x="flex-start":f==="center"?(x="center",_?w=p:v=p):_?f==="left"||f==="end"?(x="flex-end",v=p):(f==="right"||f==="start")&&(x="flex-start",w=p):f==="left"||f==="start"?(x="flex-start",v=p):(f==="right"||f==="end")&&(x="flex-end",w=p),n.position=this._cssPosition,n.marginLeft=c?"0":v,n.marginTop=h?"0":this._topOffset,n.marginBottom=this._bottomOffset,n.marginRight=c?"0":w,t.justifyContent=x,t.alignItems=h?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let n=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(Ny),i.justifyContent=i.alignItems=n.marginTop=n.marginBottom=n.marginLeft=n.marginRight=n.position="",this._overlayRef=null,this._isDisposed=!0}},SO=(()=>{class e{constructor(t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new zf}flexibleConnectedTo(t){return new Hf(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(i){return new(i||e)(y(Nf),y(Q),y(He),y(qr))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),MO=0,en=(()=>{class e{constructor(t,i,r,o,s,a,c,h,f,p,_,v){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=c,this._document=h,this._directionality=f,this._location=p,this._outsideClickDispatcher=_,this._animationsModuleType=v}create(t){let i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new Es(t);return s.direction=s.direction||this._directionality.value,new $n(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations")}position(){return this._positionBuilder}_createPaneElement(t){let i=this._document.createElement("div");return i.id=`cdk-overlay-${MO++}`,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){let t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(kn)),new Dl(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(i){return new(i||e)(y(CO),y(qr),y(Jn),y(SO),y(xO),y(Re),y(j),y(Q),y(Cs),y(mn),y(DO),y(In,8))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var TO=new k("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let e=E(en);return()=>e.scrollStrategies.reposition()}});function AO(e){return()=>e.scrollStrategies.reposition()}var OO={provide:TO,deps:[en],useFactory:AO},Sl=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=Y({type:e})}static{this.\u0275inj=q({providers:[en,OO],imports:[li,ji,Ff,Ff]})}}return e})();var kO=(()=>{class e{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Vy=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=Y({type:e})}static{this.\u0275inj=q({providers:[kO]})}}return e})();var jy=new Set,Ui,PO=(()=>{class e{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):NO}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&RO(t,this._nonce),this._matchMedia(t)}static{this.\u0275fac=function(i){return new(i||e)(y(He),y(Co,8))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function RO(e,n){if(!jy.has(e))try{Ui||(Ui=document.createElement("style"),n&&Ui.setAttribute("nonce",n),Ui.setAttribute("type","text/css"),document.head.appendChild(Ui)),Ui.sheet&&(Ui.sheet.insertRule(`@media ${e} {body{ }}`,0),jy.add(e))}catch(t){console.error(t)}}function NO(e){return{matches:e==="all"||e==="",media:e,addListener:()=>{},removeListener:()=>{}}}var Uy=(()=>{class e{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new z}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return By($r(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let r=By($r(t)).map(s=>this._registerQuery(s).observable),o=gi(r);return o=Hn(o.pipe(ze(1)),o.pipe(no(1),er(0))),o.pipe($(s=>{let a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:h})=>{a.matches=a.matches||c,a.breakpoints[h]=c}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);let i=this._mediaMatcher.matchMedia(t),o={observable:new X(s=>{let a=c=>this._zone.run(()=>s.next(c));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(an(i),$(({matches:s})=>({query:t,matches:s})),dt(this._destroySubject)),mql:i};return this._queries.set(t,o),o}static{this.\u0275fac=function(i){return new(i||e)(y(PO),y(j))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function By(e){return e.map(n=>n.split(",")).reduce((n,t)=>n.concat(t)).map(n=>n.trim())}var Is=(()=>{class e{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return LO(t)&&getComputedStyle(t).visibility==="visible"}isTabbable(t){if(!this._platform.isBrowser)return!1;let i=FO(GO(t));if(i&&($y(i)===-1||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),o=$y(t);return t.hasAttribute("contenteditable")?o!==-1:r==="iframe"||r==="object"||this._platform.WEBKIT&&this._platform.IOS&&!HO(t)?!1:r==="audio"?t.hasAttribute("controls")?o!==-1:!1:r==="video"?o===-1?!1:o!==null?!0:this._platform.FIREFOX||t.hasAttribute("controls"):t.tabIndex>=0}isFocusable(t,i){return zO(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}static{this.\u0275fac=function(i){return new(i||e)(y(He))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function FO(e){try{return e.frameElement}catch{return null}}function LO(e){return!!(e.offsetWidth||e.offsetHeight||typeof e.getClientRects=="function"&&e.getClientRects().length)}function VO(e){let n=e.nodeName.toLowerCase();return n==="input"||n==="select"||n==="button"||n==="textarea"}function jO(e){return UO(e)&&e.type=="hidden"}function BO(e){return $O(e)&&e.hasAttribute("href")}function UO(e){return e.nodeName.toLowerCase()=="input"}function $O(e){return e.nodeName.toLowerCase()=="a"}function Gy(e){if(!e.hasAttribute("tabindex")||e.tabIndex===void 0)return!1;let n=e.getAttribute("tabindex");return!!(n&&!isNaN(parseInt(n,10)))}function $y(e){if(!Gy(e))return null;let n=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(n)?-1:n}function HO(e){let n=e.nodeName.toLowerCase(),t=n==="input"&&e.type;return t==="text"||t==="password"||n==="select"||n==="textarea"}function zO(e){return jO(e)?!1:VO(e)||BO(e)||e.hasAttribute("contenteditable")||Gy(e)}function GO(e){return e.ownerDocument&&e.ownerDocument.defaultView||window}var Wf=class{get enabled(){return this._enabled}set enabled(n){this._enabled=n,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}constructor(n,t,i,r,o=!1){this._element=n,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){let n=this._startAnchor,t=this._endAnchor;n&&(n.removeEventListener("focus",this.startAnchorListener),n.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(n){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(n)))})}focusFirstTabbableElementWhenReady(n){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(n)))})}focusLastTabbableElementWhenReady(n){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(n)))})}_getRegionBoundary(n){let t=this._element.querySelectorAll(`[cdk-focus-region-${n}], [cdkFocusRegion${n}], [cdk-focus-${n}]`);return n=="start"?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(n){let t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){let i=this._getFirstTabbableElement(t);return i?.focus(n),!!i}return t.focus(n),!0}return this.focusFirstTabbableElement(n)}focusFirstTabbableElement(n){let t=this._getRegionBoundary("start");return t&&t.focus(n),!!t}focusLastTabbableElement(n){let t=this._getRegionBoundary("end");return t&&t.focus(n),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;let t=n.children;for(let i=0;i<t.length;i++){let r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;let t=n.children;for(let i=t.length-1;i>=0;i--){let r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){let n=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,n),n.classList.add("cdk-visually-hidden"),n.classList.add("cdk-focus-trap-anchor"),n.setAttribute("aria-hidden","true"),n}_toggleAnchorTabIndex(n,t){n?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(n){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}_executeOnStable(n){this._ngZone.isStable?n():this._ngZone.onStable.pipe(ze(1)).subscribe(n)}},Al=(()=>{class e{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new Wf(t,this._checker,this._ngZone,this._document,i)}static{this.\u0275fac=function(i){return new(i||e)(y(Is),y(j),y(Q))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function qf(e){return e.buttons===0||e.detail===0}function Yf(e){let n=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!!n&&n.identifier===-1&&(n.radiusX==null||n.radiusX===1)&&(n.radiusY==null||n.radiusY===1)}var WO=new k("cdk-input-modality-detector-options"),qO={ignoreKeys:[18,17,224,91,16]},Wy=650,Yr=Hr({passive:!0,capture:!0}),YO=(()=>{class e{get mostRecentModality(){return this._modality.value}constructor(t,i,r,o){this._platform=t,this._mostRecentTarget=null,this._modality=new Se(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Jt(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<Wy||(this._modality.next(qf(s)?"keyboard":"mouse"),this._mostRecentTarget=Jt(s))},this._onTouchstart=s=>{if(Yf(s)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Jt(s)},this._options=S(S({},qO),o),this.modalityDetected=this._modality.pipe(no(1)),this.modalityChanged=this.modalityDetected.pipe(tr()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Yr),r.addEventListener("mousedown",this._onMousedown,Yr),r.addEventListener("touchstart",this._onTouchstart,Yr)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Yr),document.removeEventListener("mousedown",this._onMousedown,Yr),document.removeEventListener("touchstart",this._onTouchstart,Yr))}static{this.\u0275fac=function(i){return new(i||e)(y(He),y(j),y(Q),y(WO,8))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Tl=function(e){return e[e.IMMEDIATE=0]="IMMEDIATE",e[e.EVENTUAL=1]="EVENTUAL",e}(Tl||{}),QO=new k("cdk-focus-monitor-default-options"),Ml=Hr({passive:!0,capture:!0}),Qr=(()=>{class e{constructor(t,i,r,o,s){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new z,this._rootNodeFocusAndBlurListener=a=>{let c=Jt(a);for(let h=c;h;h=h.parentElement)a.type==="focus"?this._onFocus(a,h):this._onBlur(a,h)},this._document=o,this._detectionMode=s?.detectionMode||Tl.IMMEDIATE}monitor(t,i=!1){let r=Un(t);if(!this._platform.isBrowser||r.nodeType!==1)return F();let o=Sy(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;let a={checkChildren:i,subject:new z,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){let i=Un(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){let o=Un(t),s=this._getDocument().activeElement;o===s?this._getClosestElementsInfo(o).forEach(([a,c])=>this._originChanged(a,i,c)):(this._setOrigin(i),typeof o.focus=="function"&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===Tl.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused",i==="touch"),t.classList.toggle("cdk-keyboard-focused",i==="keyboard"),t.classList.toggle("cdk-mouse-focused",i==="mouse"),t.classList.toggle("cdk-program-focused",i==="program")}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=t,this._originFromTouchInteraction=t==="touch"&&i,this._detectionMode===Tl.IMMEDIATE){clearTimeout(this._originTimeoutId);let r=this._originFromTouchInteraction?Wy:1;this._originTimeoutId=setTimeout(()=>this._origin=null,r)}})}_onFocus(t,i){let r=this._elementInfo.get(i),o=Jt(t);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(t,i){let r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;let i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Ml),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Ml)}),this._rootNodeFocusListenerCount.set(i,r+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(dt(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){let i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){let r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Ml),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Ml),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){let i=[];return this._elementInfo.forEach((r,o)=>{(o===t||r.checkChildren&&o.contains(t))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(t){let{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if(r!=="mouse"||!i||i===t||t.nodeName!=="INPUT"&&t.nodeName!=="TEXTAREA"||t.disabled)return!1;let o=t.labels;if(o){for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0}return!1}static{this.\u0275fac=function(i){return new(i||e)(y(j),y(He),y(YO),y(Q,8),y(QO,8))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var $i=function(e){return e[e.NONE=0]="NONE",e[e.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",e[e.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",e}($i||{}),Hy="cdk-high-contrast-black-on-white",zy="cdk-high-contrast-white-on-black",Gf="cdk-high-contrast-active",Qf=(()=>{class e{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=E(Uy).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return $i.NONE;let t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);let i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return $i.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return $i.BLACK_ON_WHITE}return $i.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let t=this._document.body.classList;t.remove(Gf,Hy,zy),this._hasCheckedHighContrastMode=!0;let i=this.getHighContrastMode();i===$i.BLACK_ON_WHITE?t.add(Gf,Hy):i===$i.WHITE_ON_BLACK&&t.add(Gf,zy)}}static{this.\u0275fac=function(i){return new(i||e)(y(He),y(Q))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),qy=(()=>{class e{constructor(t){t._applyBodyHighContrastModeCssClasses()}static{this.\u0275fac=function(i){return new(i||e)(y(Qf))}}static{this.\u0275mod=Y({type:e})}static{this.\u0275inj=q({imports:[Vy]})}}return e})();function ZO(e,n){}var Hi=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}};var Xf=(()=>{class e extends Wr{constructor(t,i,r,o,s,a,c,h){super(),this._elementRef=t,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=s,this._ngZone=a,this._overlayRef=c,this._focusMonitor=h,this._platform=E(He),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=E(Ue),this.attachDomPortal=f=>{this._portalOutlet.hasAttached();let p=this._portalOutlet.attachDomPortal(f);return this._contentAttached(),p},this._document=r,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(t){this._ariaLabelledByQueue.push(t),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(t){let i=this._ariaLabelledByQueue.indexOf(t);i>-1&&(this._ariaLabelledByQueue.splice(i,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),i}attachTemplatePortal(t){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_trapFocus(){let t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}}_restoreFocus(){let t=this._config.restoreFocus,i=null;if(typeof t=="string"?i=this._document.querySelector(t):typeof t=="boolean"?i=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(i=t),this._config.restoreFocus&&i&&typeof i.focus=="function"){let r=ys(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let t=this._elementRef.nativeElement,i=ys();return t===i||t.contains(i)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=ys()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static{this.\u0275fac=function(i){return new(i||e)(C(ae),C(Al),C(Q,8),C(Hi),C(Is),C(j),C($n),C(Qr))}}static{this.\u0275cmp=_e({type:e,selectors:[["cdk-dialog-container"]],viewQuery:function(i,r){if(i&1&&pt(Ds,7),i&2){let o;Qe(o=Ze())&&(r._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,r){i&2&&he("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},standalone:!0,features:[We,je],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){i&1&&L(0,ZO,0,0,"ng-template",0)},dependencies:[Ds],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}}return e})(),Ss=class{constructor(n,t){this.overlayRef=n,this.config=t,this.closed=new z,this.disableClose=t.disableClose,this.backdropClick=n.backdropClick(),this.keydownEvents=n.keydownEvents(),this.outsidePointerEvents=n.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(i=>{i.keyCode===27&&!this.disableClose&&!El(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=n.detachments().subscribe(()=>{t.closeOnOverlayDetachments!==!1&&this.close()})}close(n,t){if(this.containerInstance){let i=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(n),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(n="",t=""){return this.overlayRef.updateSize({width:n,height:t}),this}addPanelClass(n){return this.overlayRef.addPanelClass(n),this}removePanelClass(n){return this.overlayRef.removePanelClass(n),this}},KO=new k("DialogScrollStrategy",{providedIn:"root",factory:()=>{let e=E(en);return()=>e.scrollStrategies.block()}}),XO=new k("DialogData"),JO=new k("DefaultDialogConfig");var ek=0,Jf=(()=>{class e{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,i,r,o,s,a){this._overlay=t,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new z,this._afterOpenedAtThisLevel=new z,this._ariaHiddenElements=new Map,this.afterAllClosed=zn(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(an(void 0))),this._scrollStrategy=a}open(t,i){let r=this._defaultOptions||new Hi;i=S(S({},r),i),i.id=i.id||`cdk-dialog-${ek++}`,i.id&&this.getDialogById(i.id);let o=this._getOverlayConfig(i),s=this._overlay.create(o),a=new Ss(s,i),c=this._attachContainer(s,a,i);return a.containerInstance=c,this._attachDialogContent(t,a,c,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){Zf(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){Zf(this._openDialogsAtThisLevel,t=>{t.config.closeOnDestroy===!1&&this._removeOpenDialog(t,!1)}),Zf(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){let i=new Es({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachContainer(t,i,r){let o=r.injector||r.viewContainerRef?.injector,s=[{provide:Hi,useValue:r},{provide:Ss,useValue:i},{provide:$n,useValue:t}],a;r.container?typeof r.container=="function"?a=r.container:(a=r.container.type,s.push(...r.container.providers(r))):a=Xf;let c=new zr(a,r.viewContainerRef,Re.create({parent:o||this._injector,providers:s}),r.componentFactoryResolver);return t.attach(c).instance}_attachDialogContent(t,i,r,o){if(t instanceof Ct){let s=this._createInjector(o,i,r,void 0),a={$implicit:o.data,dialogRef:i};o.templateContext&&(a=S(S({},a),typeof o.templateContext=="function"?o.templateContext():o.templateContext)),r.attachTemplatePortal(new Gr(t,null,a,s))}else{let s=this._createInjector(o,i,r,this._injector),a=r.attachComponentPortal(new zr(t,o.viewContainerRef,s,o.componentFactoryResolver));i.componentRef=a,i.componentInstance=a.instance}}_createInjector(t,i,r,o){let s=t.injector||t.viewContainerRef?.injector,a=[{provide:XO,useValue:t.data},{provide:Ss,useValue:i}];return t.providers&&(typeof t.providers=="function"?a.push(...t.providers(i,t,r)):a.push(...t.providers)),t.direction&&(!s||!s.get(Cs,null,{optional:!0}))&&a.push({provide:Cs,useValue:{value:t.direction,change:F()}}),Re.create({parent:s||o,providers:a})}_removeOpenDialog(t,i){let r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let t=this._overlayContainer.getContainerElement();if(t.parentElement){let i=t.parentElement.children;for(let r=i.length-1;r>-1;r--){let o=i[r];o!==t&&o.nodeName!=="SCRIPT"&&o.nodeName!=="STYLE"&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}static{this.\u0275fac=function(i){return new(i||e)(y(en),y(Re),y(JO,8),y(e,12),y(qr),y(KO))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Zf(e,n){let t=e.length;for(;t--;)n(e[t])}var Yy=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=Y({type:e})}static{this.\u0275inj=q({providers:[Jf],imports:[Sl,ji,qy,ji]})}}return e})();var tk=["mat-internal-form-field",""],nk=["*"];function ik(){return!0}var rk=new k("mat-sanity-checks",{providedIn:"root",factory:ik}),Lt=(()=>{class e{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return bs()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[t]}static{this.\u0275fac=function(i){return new(i||e)(y(Qf),y(rk,8),y(Q))}}static{this.\u0275mod=Y({type:e})}static{this.\u0275inj=q({imports:[li,li]})}}return e})();var Ft=function(e){return e[e.FADING_IN=0]="FADING_IN",e[e.VISIBLE=1]="VISIBLE",e[e.FADING_OUT=2]="FADING_OUT",e[e.HIDDEN=3]="HIDDEN",e}(Ft||{}),ep=class{constructor(n,t,i,r=!1){this._renderer=n,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=Ft.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},Qy=Hr({passive:!0,capture:!0}),tp=class{constructor(){this._events=new Map,this._delegateEventHandler=n=>{let t=Jt(n);t&&this._events.get(n.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(o=>o.handleEvent(n))})}}addHandler(n,t,i,r){let o=this._events.get(t);if(o){let s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),n.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,Qy)})}removeHandler(n,t,i){let r=this._events.get(n);if(!r)return;let o=r.get(t);o&&(o.delete(i),o.size===0&&r.delete(t),r.size===0&&(this._events.delete(n),document.removeEventListener(n,this._delegateEventHandler,Qy)))}},Zy={enterDuration:225,exitDuration:150},ok=800,Ky=Hr({passive:!0,capture:!0}),Xy=["mousedown","touchstart"],Jy=["mouseup","mouseleave","touchend","touchcancel"],np=class e{static{this._eventManager=new tp}constructor(n,t,i,r){this._target=n,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Un(i))}fadeInRipple(n,t,i={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=S(S({},Zy),i.animation);i.centered&&(n=r.left+r.width/2,t=r.top+r.height/2);let s=i.radius||sk(n,t,r),a=n-r.left,c=t-r.top,h=o.enterDuration,f=document.createElement("div");f.classList.add("mat-ripple-element"),f.style.left=`${a-s}px`,f.style.top=`${c-s}px`,f.style.height=`${s*2}px`,f.style.width=`${s*2}px`,i.color!=null&&(f.style.backgroundColor=i.color),f.style.transitionDuration=`${h}ms`,this._containerElement.appendChild(f);let p=window.getComputedStyle(f),_=p.transitionProperty,v=p.transitionDuration,w=_==="none"||v==="0s"||v==="0s, 0s"||r.width===0&&r.height===0,x=new ep(this,f,i,w);f.style.transform="scale3d(1, 1, 1)",x.state=Ft.FADING_IN,i.persistent||(this._mostRecentTransientRipple=x);let T=null;return!w&&(h||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let P=()=>this._finishRippleTransition(x),V=()=>this._destroyRipple(x);f.addEventListener("transitionend",P),f.addEventListener("transitioncancel",V),T={onTransitionEnd:P,onTransitionCancel:V}}),this._activeRipples.set(x,T),(w||!h)&&this._finishRippleTransition(x),x}fadeOutRipple(n){if(n.state===Ft.FADING_OUT||n.state===Ft.HIDDEN)return;let t=n.element,i=S(S({},Zy),n.config.animation);t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",n.state=Ft.FADING_OUT,(n._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(n)}fadeOutAll(){this._getActiveRipples().forEach(n=>n.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(n=>{n.config.persistent||n.fadeOut()})}setupTriggerEvents(n){let t=Un(n);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,Xy.forEach(i=>{e._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(n){n.type==="mousedown"?this._onMousedown(n):n.type==="touchstart"?this._onTouchStart(n):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Jy.forEach(t=>{this._triggerElement.addEventListener(t,this,Ky)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(n){n.state===Ft.FADING_IN?this._startFadeOutTransition(n):n.state===Ft.FADING_OUT&&this._destroyRipple(n)}_startFadeOutTransition(n){let t=n===this._mostRecentTransientRipple,{persistent:i}=n.config;n.state=Ft.VISIBLE,!i&&(!t||!this._isPointerDown)&&n.fadeOut()}_destroyRipple(n){let t=this._activeRipples.get(n)??null;this._activeRipples.delete(n),this._activeRipples.size||(this._containerRect=null),n===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),n.state=Ft.HIDDEN,t!==null&&(n.element.removeEventListener("transitionend",t.onTransitionEnd),n.element.removeEventListener("transitioncancel",t.onTransitionCancel)),n.element.remove()}_onMousedown(n){let t=qf(n),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+ok;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(n.clientX,n.clientY,this._target.rippleConfig))}_onTouchStart(n){if(!this._target.rippleDisabled&&!Yf(n)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let t=n.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(n=>{let t=n.state===Ft.VISIBLE||n.config.terminateOnPointerUp&&n.state===Ft.FADING_IN;!n.config.persistent&&t&&n.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let n=this._triggerElement;n&&(Xy.forEach(t=>e._eventManager.removeHandler(t,n,this)),this._pointerUpEventsRegistered&&(Jy.forEach(t=>n.removeEventListener(t,this,Ky)),this._pointerUpEventsRegistered=!1))}};function sk(e,n,t){let i=Math.max(Math.abs(e-t.left),Math.abs(e-t.right)),r=Math.max(Math.abs(n-t.top),Math.abs(n-t.bottom));return Math.sqrt(i*i+r*r)}var ak=new k("mat-ripple-global-options"),eb=(()=>{class e{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,r,o,s){this._elementRef=t,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new np(this,i,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:S(S(S({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return typeof t=="number"?this._rippleRenderer.fadeInRipple(t,i,S(S({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,S(S({},this.rippleConfig),t))}static{this.\u0275fac=function(i){return new(i||e)(C(ae),C(j),C(He),C(ak,8),C(In,8))}}static{this.\u0275dir=ue({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){i&2&&ge("mat-ripple-unbounded",r.unbounded)},inputs:{color:[G.None,"matRippleColor","color"],unbounded:[G.None,"matRippleUnbounded","unbounded"],centered:[G.None,"matRippleCentered","centered"],radius:[G.None,"matRippleRadius","radius"],animation:[G.None,"matRippleAnimation","animation"],disabled:[G.None,"matRippleDisabled","disabled"],trigger:[G.None,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}}return e})();var tb=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=_e({type:e,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(i,r){i&2&&ge("mdc-form-field--align-end",r.labelPosition==="before")},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[je],attrs:tk,ngContentSelectors:nk,decls:1,vars:0,template:function(i,r){i&1&&(Tn(),An(0))},styles:[".mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-form-field{font-family:var(--mdc-form-field-label-text-font);line-height:var(--mdc-form-field-label-text-line-height);font-size:var(--mdc-form-field-label-text-size);font-weight:var(--mdc-form-field-label-text-weight);letter-spacing:var(--mdc-form-field-label-text-tracking);color:var(--mdc-form-field-label-text-color)}.mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}"],encapsulation:2,changeDetection:0})}}return e})();var Ms=function(e){return e[e.State=0]="State",e[e.Transition=1]="Transition",e[e.Sequence=2]="Sequence",e[e.Group=3]="Group",e[e.Animate=4]="Animate",e[e.Keyframes=5]="Keyframes",e[e.Style=6]="Style",e[e.Trigger=7]="Trigger",e[e.Reference=8]="Reference",e[e.AnimateChild=9]="AnimateChild",e[e.AnimateRef=10]="AnimateRef",e[e.Query=11]="Query",e[e.Stagger=12]="Stagger",e}(Ms||{});function nb(e,n){return{type:Ms.Trigger,name:e,definitions:n,options:{}}}function ip(e,n=null){return{type:Ms.Animate,styles:n,timings:e}}function kl(e){return{type:Ms.Style,styles:e,offset:null}}function rp(e,n,t=null){return{type:Ms.Transition,expr:e,animation:n,options:t}}function ck(e,n){}var Ts=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}},op="mdc-dialog--open",ib="mdc-dialog--opening",rb="mdc-dialog--closing",lk=150,dk=75,uk=(()=>{class e extends Xf{constructor(t,i,r,o,s,a,c,h,f){super(t,i,r,o,s,a,c,f),this._animationMode=h,this._animationStateChanged=new oe,this._animationsEnabled=this._animationMode!=="NoopAnimations",this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?sb(this._config.enterAnimationDuration)??lk:0,this._exitAnimationDuration=this._animationsEnabled?sb(this._config.exitAnimationDuration)??dk:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(ob,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(ib,op)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(op),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(op),this._animationsEnabled?(this._hostElement.style.setProperty(ob,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(rb)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(t){this._actionSectionCount+=t,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(ib,rb)}_waitForAnimationToComplete(t,i){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,t)}_requestAnimationFrame(t){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(t):t()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(t){let i=super.attachComponentPortal(t);return i.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),i}static{this.\u0275fac=function(i){return new(i||e)(C(ae),C(Al),C(Q,8),C(Ts),C(Is),C(j),C($n),C(In,8),C(Qr))}}static{this.\u0275cmp=_e({type:e,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(i,r){i&2&&(Cr("id",r._config.id),he("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),ge("_mat-animation-noopable",!r._animationsEnabled)("mat-mdc-dialog-container-with-actions",r._actionSectionCount>0))},standalone:!0,features:[We,je],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,r){i&1&&(d(0,"div",0)(1,"div",1),L(2,ck,0,0,"ng-template",2),l()())},dependencies:[Ds],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0;transform:scale(0.8)}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--closing .mdc-dialog__surface{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{opacity:1}.mdc-dialog--open .mdc-dialog__surface{transform:none}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{width:100%;height:100%}.mat-mdc-dialog-component-host{display:contents}.mat-mdc-dialog-container{--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition:opacity linear var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container .mdc-dialog__surface{transition:transform var(--mat-dialog-transition-duration, 0ms) 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container,.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__surface{transition:none}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-title{padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}}return e})(),ob="--mat-dialog-transition-duration";function sb(e){return e==null?null:typeof e=="number"?e:e.endsWith("ms")?vs(e.substring(0,e.length-2)):e.endsWith("s")?vs(e.substring(0,e.length-1))*1e3:e==="0"?0:null}var Pl=function(e){return e[e.OPEN=0]="OPEN",e[e.CLOSING=1]="CLOSING",e[e.CLOSED=2]="CLOSED",e}(Pl||{}),As=class{constructor(n,t,i){this._ref=n,this._containerInstance=i,this._afterOpened=new z,this._beforeClosed=new z,this._state=Pl.OPEN,this.disableClose=t.disableClose,this.id=n.id,n.addPanelClass("mat-mdc-dialog-panel"),i._animationStateChanged.pipe(Ee(r=>r.state==="opened"),ze(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(Ee(r=>r.state==="closed"),ze(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),n.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),to(this.backdropClick(),this.keydownEvents().pipe(Ee(r=>r.keyCode===27&&!this.disableClose&&!El(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),hk(this,r.type==="keydown"?"keyboard":"mouse"))})}close(n){this._result=n,this._containerInstance._animationStateChanged.pipe(Ee(t=>t.state==="closing"),ze(1)).subscribe(t=>{this._beforeClosed.next(n),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=Pl.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(n){let t=this._ref.config.positionStrategy;return n&&(n.left||n.right)?n.left?t.left(n.left):t.right(n.right):t.centerHorizontally(),n&&(n.top||n.bottom)?n.top?t.top(n.top):t.bottom(n.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(n="",t=""){return this._ref.updateSize(n,t),this}addPanelClass(n){return this._ref.addPanelClass(n),this}removePanelClass(n){return this._ref.removePanelClass(n),this}getState(){return this._state}_finishDialogClose(){this._state=Pl.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function hk(e,n,t){return e._closeInteractionType=n,e.close(t)}var sp=new k("MatMdcDialogData"),fk=new k("mat-mdc-dialog-default-options"),pk=new k("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let e=E(en);return()=>e.scrollStrategies.block()}});var mk=0,ap=(()=>{class e{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(t,i,r,o,s,a,c,h){this._overlay=t,this._defaultOptions=o,this._scrollStrategy=s,this._parentDialog=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new z,this._afterOpenedAtThisLevel=new z,this.dialogConfigClass=Ts,this.afterAllClosed=zn(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(an(void 0))),this._dialog=i.get(Jf),this._dialogRefConstructor=As,this._dialogContainerType=uk,this._dialogDataToken=sp}open(t,i){let r;i=S(S({},this._defaultOptions||new Ts),i),i.id=i.id||`mat-mdc-dialog-${mk++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();let o=this._dialog.open(t,de(S({},i),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:Hi,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(s,a,c)=>(r=new this._dialogRefConstructor(s,i,c),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:c},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:r}])}));return r.componentRef=o.componentRef,r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{let s=this.openDialogs.indexOf(r);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let i=t.length;for(;i--;)t[i].close()}static{this.\u0275fac=function(i){return new(i||e)(y(en),y(Re),y(mn,8),y(fk,8),y(pk),y(e,12),y(qr),y(In,8))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var ab=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=Y({type:e})}static{this.\u0275inj=q({providers:[ap],imports:[Yy,Sl,ji,Lt,Lt]})}}return e})();var di={production:!0,apiBaseUrl:"https://pylearn-backend-production.up.railway.app",appName:"Py-Learn",version:"1.0.0"};var lb=(()=>{class e{scorePronunciation(t,i){let r=new FormData;return r.append("audio",t,"student.webm"),r.append("word",i.toLowerCase()),this.http.post(this.scoreEndpoint,r)}constructor(t){this.http=t,this.apiBase=di.apiBaseUrl.replace(/\/+$/,""),this.scoreEndpoint=`${this.apiBase}/pronunciation/score`}static{this.\u0275fac=function(i){return new(i||e)(y(Kt))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var vk=["videoEl"];function _k(e,n){if(e&1){let t=W();d(0,"video",42),M("ended",function(){A(t);let r=D();return O(r.onVideoEnded())}),u(1," Your browser does not support the video tag. "),l()}}function yk(e,n){if(e&1){let t=W();d(0,"video",43,0),M("play",function(){A(t);let r=D();return O(r.onVideoPlay())})("pause",function(){A(t);let r=D();return O(r.onVideoPause())})("ended",function(){A(t);let r=D();return O(r.onVideoEnded())}),u(2," Your browser does not support the video tag. "),l()}if(e&2){let t=D();b("src",t.videoSrc,ie)}}function bk(e,n){e&1&&(d(0,"span",44),u(1,"\u{1F399}\uFE0F"),l())}function wk(e,n){e&1&&(d(0,"span",44),u(1,"\u{1F3A4}"),l())}function Ck(e,n){if(e&1&&(d(0,"span",45),u(1),To(2,"number"),l()),e&2){let t=D();m(),Te(Ao(2,1,t.timeLeft,"1.0-0"))}}var db=(()=>{class e{get current(){return this.items[this.index]}constructor(t,i,r,o){this.api=t,this.dialogRef=i,this.data=r,this.cdr=o,this.showVideo=!1,this.videoSrc="",this.isPlayingVideo=!1,this.playIconDataUrl="assets/pronunciation/play.png",this.pauseIconDataUrl="assets/pronunciation/pause.png",this.items=[{letter:"A",word:"Apple",phonetics:"/\u02C8\xE6p\u0259l/",imgSrc:"assets/pronunciation/animvideo/apple.mp4",audioSrc:"assets/pronunciation/audio/apple.mp3"},{letter:"B",word:"Ball",phonetics:"/b\u0254\u02D0l/",imgSrc:"assets/pronunciation/animvideo/ball.mp4",audioSrc:"assets/pronunciation/audio/ball.mp3"},{letter:"C",word:"Cat",phonetics:"/k\xE6t/",imgSrc:"assets/pronunciation/animvideo/cat.mp4",audioSrc:"assets/pronunciation/audio/cat.mp3"},{letter:"D",word:"Dog",phonetics:"/d\u0252\u0261/",imgSrc:"assets/pronunciation/animvideo/dog.mp4",audioSrc:"assets/pronunciation/audio/dog.mp3"},{letter:"E",word:"Egg",phonetics:"/e\u0261/",imgSrc:"assets/pronunciation/animvideo/egg.mp4",audioSrc:"assets/pronunciation/audio/egg.mp3"},{letter:"F",word:"Fish",phonetics:"/f\u026A\u0283/",imgSrc:"assets/pronunciation/animvideo/fish.mp4",audioSrc:"assets/pronunciation/audio/fish.mp3"},{letter:"G",word:"Grapes",phonetics:"/\u0261re\u026Aps/",imgSrc:"assets/pronunciation/animvideo/grapes.mp4",audioSrc:"assets/pronunciation/audio/grapes.mp3"},{letter:"H",word:"Hat",phonetics:"/h\xE6t/",imgSrc:"assets/pronunciation/animvideo/hat.mp4",audioSrc:"assets/pronunciation/audio/hat.mp3"},{letter:"I",word:"Ice cream",phonetics:"/\u02C8a\u026As \u02CCkri\u02D0m/",imgSrc:"assets/pronunciation/animvideo/icecream.mp4",audioSrc:"assets/pronunciation/audio/icecream.mp3"},{letter:"J",word:"Jar",phonetics:"/d\u0292\u0251\u02D0r/",imgSrc:"assets/pronunciation/animvideo/jar.mp4",audioSrc:"assets/pronunciation/audio/jar.mp3"},{letter:"K",word:"Kite",phonetics:"/ka\u026At/",imgSrc:"assets/pronunciation/animvideo/kite.mp4",audioSrc:"assets/pronunciation/audio/kite.mp3"},{letter:"L",word:"Lion",phonetics:"/\u02C8la\u026A\u0259n/",imgSrc:"assets/pronunciation/animvideo/lion.mp4",audioSrc:"assets/pronunciation/audio/lion.mp3"},{letter:"M",word:"Moon",phonetics:"/mu\u02D0n/",imgSrc:"assets/pronunciation/animvideo/moon.mp4",audioSrc:"assets/pronunciation/audio/moon.mp3"},{letter:"N",word:"Nest",phonetics:"/nest/",imgSrc:"assets/pronunciation/animvideo/nest.mp4",audioSrc:"assets/pronunciation/audio/nest.mp3"},{letter:"O",word:"Orange",phonetics:"/\u02C8\u0252r\u026And\u0292/",imgSrc:"assets/pronunciation/animvideo/orange.mp4",audioSrc:"assets/pronunciation/audio/orange.mp3"},{letter:"P",word:"Pig",phonetics:"/p\u026A\u0261/",imgSrc:"assets/pronunciation/animvideo/pig.mp4",audioSrc:"assets/pronunciation/audio/pig.mp3"},{letter:"Q",word:"Queen",phonetics:"/kwi\u02D0n/",imgSrc:"assets/pronunciation/animvideo/queen.mp4",audioSrc:"assets/pronunciation/audio/queen.mp3"},{letter:"R",word:"Rabbit",phonetics:"/\u02C8r\xE6b\u026At/",imgSrc:"assets/pronunciation/animvideo/rabbit.mp4",audioSrc:"assets/pronunciation/audio/rabbit.mp3"},{letter:"S",word:"Sun",phonetics:"/s\u028Cn/",imgSrc:"assets/pronunciation/animvideo/sun.mp4",audioSrc:"assets/pronunciation/audio/sun.mp3"},{letter:"T",word:"Tree",phonetics:"/tri\u02D0/",imgSrc:"assets/pronunciation/animvideo/tree.mp4",audioSrc:"assets/pronunciation/audio/tree.mp3"},{letter:"U",word:"Umbrella",phonetics:"/\u028Cm\u02C8brel\u0259/",imgSrc:"assets/pronunciation/animvideo/umbrella.mp4",audioSrc:"assets/pronunciation/audio/umbrella.mp3"},{letter:"V",word:"Van",phonetics:"/v\xE6n/",imgSrc:"assets/pronunciation/animvideo/van.mp4",audioSrc:"assets/pronunciation/audio/van.mp3"},{letter:"W",word:"Watch",phonetics:"/w\u0252t\u0283/",imgSrc:"assets/pronunciation/animvideo/watch.mp4",audioSrc:"assets/pronunciation/audio/watch.mp3"},{letter:"X",word:"Xylophone",phonetics:"/\u02C8za\u026Al\u0259f\u0259\u028An/",imgSrc:"assets/pronunciation/animvideo/xylophone.mp4",audioSrc:"assets/pronunciation/audio/xylophone.mp3"},{letter:"Y",word:"Yarn",phonetics:"/j\u0251\u02D0n/",imgSrc:"assets/pronunciation/animvideo/yarn.mp4",audioSrc:"assets/pronunciation/audio/yarn.mp3"},{letter:"Z",word:"Zebra",phonetics:"/\u02C8zebr\u0259/",imgSrc:"assets/pronunciation/animvideo/zebra.mp4",audioSrc:"assets/pronunciation/audio/zebra.mp3"}],this.index=0,this.isRecording=!1,this.isScoring=!1,this.isOscillating=!1,this.chunks=[],this.currentMimeType="audio/webm",this.recordedAudioUrl=null,this.lastRecordedBlob=null,this.lastSpeechAt=0,this.recordingStartedAt=0,this.hasSpoken=!1,this.silenceMs=3e3,this.startSilenceMs=3e3,this.silenceThreshold=.01,this.duration=3,this.isCountingDown=!1,this.timeLeft=this.duration,this.radius=38,this.circumference=2*Math.PI*this.radius,this.strokeDashoffset=this.circumference,this.showResult=!1,this.score=0,this.videoUrl="",this.lastVideoBlobUrl=null,this.shortfeedback="",this.cancelScoring$=new z,this.recordRunId=0}ngOnInit(){this.setupBestMimeType(),this.resetResult()}ngOnDestroy(){if(this.cancelScoring$.next(),this.cancelScoring$.complete(),this.stopTracks(),this.safeStopRecorder(),this.teardownAudioGraph(),this.lastVideoBlobUrl){try{URL.revokeObjectURL(this.lastVideoBlobUrl)}catch{}this.lastVideoBlobUrl=null}}toggleRecording(){return st(this,null,function*(){if(this.isRecording){this.stopRecording(!1);return}this.startPreRecordCountdown()})}startPreRecordCountdown(){if(this.score=0,this.shortfeedback="",this.isCountingDown||this.isRecording)return;this.cancelScoring$.next(),this.isScoring=!1,this.isOscillating=!1,this.isCountingDown=!0,this.timeLeft=this.duration;let t=this.duration*1e3,i=performance.now();this.strokeDashoffset=this.circumference,this.preRecordIntervalId=window.setInterval(()=>{let r=performance.now()-i,o=Math.min(1,r/t);if(this.strokeDashoffset=this.circumference*(1-o),this.timeLeft=Math.ceil((t-r)/1e3),r>=t){if(this.preRecordIntervalId){try{clearInterval(this.preRecordIntervalId)}catch{}this.preRecordIntervalId=void 0}this.startRecordingInternal()}try{this.cdr.detectChanges()}catch{}},100)}startRecordingInternal(){return st(this,null,function*(){this.isCountingDown=!1;let t=++this.recordRunId;this.mediaStream=yield navigator.mediaDevices.getUserMedia({audio:!0}),this.mediaRecorder=new MediaRecorder(this.mediaStream,{mimeType:this.currentMimeType}),this.chunks=[],this.mediaRecorder.ondataavailable=i=>i.data.size&&this.chunks.push(i.data),this.mediaRecorder.onstop=()=>{t===this.recordRunId&&this.onRecordingStopped(t)},this.isRecording=!0,this.setupSilenceDetection(this.mediaStream),this.mediaRecorder.start();try{this.cdr.detectChanges()}catch{}})}stopRecording(t=!1){if(this.isRecording){if(this.preRecordIntervalId){try{clearInterval(this.preRecordIntervalId)}catch{}this.preRecordIntervalId=void 0}this.isCountingDown=!1,this.isRecording=!1,this.safeStopRecorder(),this.stopTracks(),this.teardownAudioGraph();try{this.cdr.detectChanges()}catch{}}}safeStopRecorder(){try{this.mediaRecorder&&this.mediaRecorder.state!=="inactive"&&this.mediaRecorder.stop()}catch{}}onRecordingStopped(t){if(t!==this.recordRunId)return;let i=new Blob(this.chunks,{type:this.currentMimeType});if(this.chunks=[],!i||i.size<2e3){this.isOscillating=!1,this.isScoring=!1,this.shortfeedback="No voice detected. Please try again.",this.showResult=!0;try{this.cdr.detectChanges()}catch{}return}this.lastRecordedBlob=i,this.isOscillating=!0;try{this.cdr.detectChanges()}catch{}this.sendForScoring(i,this.current.word,t)}setupSilenceDetection(t){this.teardownAudioGraph(),this.audioCtx=new AudioContext,this.analyser=this.audioCtx.createAnalyser(),this.analyser.fftSize=2048,this.micSource=this.audioCtx.createMediaStreamSource(t),this.micSource.connect(this.analyser),this.recordingStartedAt=performance.now(),this.lastSpeechAt=this.recordingStartedAt,this.hasSpoken=!1;let i=()=>{if(!this.analyser||!this.isRecording)return;let r=new Float32Array(this.analyser.fftSize);this.analyser.getFloatTimeDomainData(r);let o=0;for(let c=0;c<r.length;c++)o+=r[c]*r[c];let s=Math.sqrt(o/r.length),a=performance.now();if(s>this.silenceThreshold&&(this.lastSpeechAt=a,this.hasSpoken=!0),!this.hasSpoken&&a-this.recordingStartedAt>this.startSilenceMs){this.stopRecording(!0);return}if(this.hasSpoken&&a-this.lastSpeechAt>this.silenceMs){this.stopRecording(!0);return}this.silenceCheckId=window.setTimeout(i,100)};i()}teardownAudioGraph(){if(this.silenceCheckId){try{clearTimeout(this.silenceCheckId)}catch{}this.silenceCheckId=void 0}try{this.micSource?.disconnect()}catch{}try{this.analyser?.disconnect()}catch{}try{this.audioCtx?.close()}catch{}this.micSource=void 0,this.analyser=void 0,this.audioCtx=void 0}stopTracks(){this.mediaStream?.getTracks().forEach(t=>t.stop()),this.mediaStream=void 0}sendForScoring(t,i,r){r===this.recordRunId&&(this.isScoring=!0,this.api.scorePronunciation(t,i).pipe(dt(this.cancelScoring$),lt(()=>{this.isScoring=!1,this.isOscillating=!1;try{this.cdr.detectChanges()}catch{}})).subscribe(o=>{if(r===this.recordRunId){if(this.score=this.normalizeScore(o.score),this.shortfeedback=o.feedback,this.showResult=!0,o.videoBlobBase64){let s=Uint8Array.from(atob(o.videoBlobBase64),c=>c.charCodeAt(0)),a=new Blob([s],{type:"video/mp4"});if(this.lastVideoBlobUrl)try{URL.revokeObjectURL(this.lastVideoBlobUrl)}catch{}this.videoUrl=URL.createObjectURL(a),this.lastVideoBlobUrl=this.videoUrl,this.tryPlayFeedbackVideo(this.videoUrl)}try{this.cdr.detectChanges()}catch{}}},o=>{if(r===this.recordRunId){this.shortfeedback="Error while scoring. Please try again.",this.showResult=!0;try{this.cdr.detectChanges()}catch{}}}))}cancelAllRunningProcesses(){if(this.recordRunId++,this.cancelScoring$.next(),this.isScoring=!1,this.isOscillating=!1,this.preRecordIntervalId){try{clearInterval(this.preRecordIntervalId)}catch{}this.preRecordIntervalId=void 0}this.isCountingDown=!1,this.timeLeft=this.duration,this.strokeDashoffset=this.circumference,this.isRecording=!1,this.safeStopRecorder(),this.stopTracks(),this.teardownAudioGraph(),this.chunks=[],this.resetVideoPlayerState();try{this.cdr.detectChanges()}catch{}}resetVideoPlayerState(){try{let t=this.videoElRef?.nativeElement;t&&(t.pause(),t.currentTime=0,t.removeAttribute("src"),t.load())}catch{}this.showVideo=!1,this.videoSrc="",this.isPlayingVideo=!1}normalizeScore(t){let i=Number(t);return isNaN(i)?0:Math.min(100,Math.max(0,Math.round(i)))}tryPlayFeedbackVideo(t){this.showVideo=!0,this.videoSrc=t,setTimeout(()=>{let i=this.videoElRef?.nativeElement;i&&(i.src=t,i.load(),i.play().then(()=>{this.isPlayingVideo=!0;try{this.cdr.detectChanges()}catch{}}).catch(()=>{this.isPlayingVideo=!1;try{this.cdr.detectChanges()}catch{}}))},0)}setupBestMimeType(){let t=["audio/webm;codecs=opus","audio/webm","audio/ogg;codecs=opus","audio/ogg"];for(let i of t)try{if(typeof MediaRecorder<"u"&&typeof MediaRecorder.isTypeSupported=="function"&&MediaRecorder.isTypeSupported(i)){this.currentMimeType=i;return}}catch{}}resetResult(){this.showResult=!1,this.score=0,this.showVideo=!1,this.videoSrc="",this.shortfeedback=""}playWordAudio(){let t=this.current?.audioSrc||this.getAudioSrcFromWord(this.current.word);if(t)try{let i=new Audio(t);i.currentTime=0,i.play().catch(()=>{})}catch{}}getAudioSrcFromWord(t){return t?`assets/pronunciation/audio/${t.trim().toLowerCase().replace(/\s+/g,"-")}.mp3`:""}onVideoEnded(){this.resetVideoPlayerState(),this.isOscillating=!1;try{this.cdr.detectChanges()}catch{}}onVideoPlay(){this.isPlayingVideo=!0;try{this.cdr.detectChanges()}catch{}}onVideoPause(){this.isPlayingVideo=!1;try{this.cdr.detectChanges()}catch{}}toggleVideoPlay(){try{let t=this.videoElRef?.nativeElement;if(!this.showVideo){this.videoSrc=this.getVideoSrcFromWord(this.current.word),this.showVideo=!0,setTimeout(()=>{let i=this.videoElRef?.nativeElement;i&&(i.src=this.videoSrc,i.load(),i.play().then(()=>{this.isPlayingVideo=!0;try{this.cdr.detectChanges()}catch{}}).catch(()=>{this.isPlayingVideo=!1;try{this.cdr.detectChanges()}catch{}}))},0);return}if(!t)return;if(t.paused)t.play().then(()=>{this.isPlayingVideo=!0;try{this.cdr.detectChanges()}catch{}}).catch(()=>{this.isPlayingVideo=!1;try{this.cdr.detectChanges()}catch{}});else{t.pause(),this.isPlayingVideo=!1;try{this.cdr.detectChanges()}catch{}}}catch{}}getVideoSrcFromWord(t){return t?`assets/pronunciation/videos/${t.trim().toLowerCase().replace(/\s+/g,"-")}.mp4`:""}get needleAngle(){return-90+Math.max(0,Math.min(100,Number(this.score||0)))*1.8}prev(){this.index<=0||(this.cancelAllRunningProcesses(),this.index--,this.resetAfterNavigation())}next(){this.index>=this.items.length-1||(this.cancelAllRunningProcesses(),this.index++,this.resetAfterNavigation())}resetAfterNavigation(){if(this.cancelAllRunningProcesses(),this.score=0,this.showResult=!1,this.shortfeedback="",this.lastRecordedBlob=null,this.recordedAudioUrl){try{URL.revokeObjectURL(this.recordedAudioUrl)}catch{}this.recordedAudioUrl=null}try{this.cdr.detectChanges()}catch{}}closePopup(){this.cancelAllRunningProcesses(),this.dialogRef.close()}static{this.\u0275fac=function(i){return new(i||e)(C(lb),C(As),C(sp),C(Ue))}}static{this.\u0275cmp=_e({type:e,selectors:[["app-pronunciation"]],viewQuery:function(i,r){if(i&1&&pt(vk,5),i&2){let o;Qe(o=Ze())&&(r.videoElRef=o.first)}},decls:53,vars:26,consts:[["videoEl",""],[1,"pp-page"],[1,"pp-header"],[1,"pp-main"],[1,"pp-left"],[1,"word-card"],[1,"word-img-wrap"],[1,"video-frame","square"],["autoplay","","loop","","muted","","preload","auto","playsinline","",3,"src"],[1,"word-text"],[1,"phonetic-pill"],[1,"image-container"],["src","assets/pronunciation/audio.png","alt","Play audio",1,"round-image",3,"click"],[1,"pp-center"],[1,"word-card","center-card"],[1,"center-media"],["src","assets/pronunciation/listening.mp4","class","media-rounded","autoplay","","loop","","muted","","height","469","width","521",3,"ended",4,"ngIf"],["class","media-rounded","autoplay","","muted","","height","469","width","521",3,"src","play","pause","ended",4,"ngIf"],[1,"controls-row"],["role","button","tabindex","0",1,"listen-img",3,"click","keydown.enter","keydown.space","src"],["type","button",1,"progress-btn",3,"click"],["width","85","height","85","viewBox","0 0 90 90","aria-hidden","true",1,"progress-ring"],["stroke","#3aaea8","stroke-width","6","fill","transparent","r","38","cx","45","cy","45",1,"progress-ring__background"],["stroke","#3aaea8","stroke-linecap","round","stroke-width","6","fill","transparent","r","38","cx","45","cy","45",1,"progress-ring__bar"],["aria-hidden","true",1,"label"],["class","action-text",4,"ngIf"],["class","seconds",4,"ngIf"],[1,"pp-right"],[1,"gauge-wrapper"],[1,"gauge"],[1,"gauge-arc"],[1,"needle"],[1,"mic-badge"],[1,"score-span"],[1,"fb-board"],["src","assets/pronunciation/board.png","alt","Slate"],[1,"center-text1"],[1,"container"],[1,"arrow","left",3,"click","disabled"],[1,"center-text"],[1,"arrow","right",3,"click","disabled"],["aria-label","Close",1,"user-guide-close-icon",3,"click"],["src","assets/pronunciation/listening.mp4","autoplay","","loop","","muted","","height","469","width","521",1,"media-rounded",3,"ended"],["autoplay","","muted","","height","469","width","521",1,"media-rounded",3,"play","pause","ended","src"],[1,"action-text"],[1,"seconds"]],template:function(i,r){i&1&&(d(0,"div",1)(1,"div",2)(2,"h1"),u(3,"Pronunciation Practice"),l()(),d(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"video",8),u(10," Your browser does not support the video tag. "),l()()(),d(11,"div",9),u(12),l(),d(13,"div",10),u(14),l(),d(15,"div",11)(16,"img",12),M("click",function(){return r.playWordAudio()}),l()()()(),d(17,"div",13)(18,"div",14)(19,"div",15),L(20,_k,2,0,"video",16)(21,yk,3,1,"video",17),l(),d(22,"div",18)(23,"img",19),M("click",function(){return r.toggleVideoPlay()})("keydown.enter",function(){return r.toggleVideoPlay()})("keydown.space",function(s){return r.toggleVideoPlay(),s.preventDefault()}),l(),d(24,"button",20),M("click",function(){return r.toggleRecording()}),Xa(),d(25,"svg",21),g(26,"circle",22)(27,"circle",23),l(),Fg(),d(28,"div",24),L(29,bk,2,0,"span",25)(30,wk,2,0,"span",25)(31,Ck,3,4,"span",26),l()()()()(),d(32,"div",27)(33,"div",28)(34,"div",29),g(35,"div",30)(36,"div",31),l(),d(37,"div",32)(38,"span",33),u(39),l()()(),d(40,"div",34),g(41,"img",35),d(42,"div",36),u(43),l()(),d(44,"div",37)(45,"button",38),M("click",function(){return r.prev()}),u(46,"\u2039"),l(),d(47,"span",39),u(48),l(),d(49,"button",40),M("click",function(){return r.next()}),u(50,"\u203A"),l()()()()(),d(51,"button",41),M("click",function(){return r.closePopup()}),u(52,"\xD7"),l()),i&2&&(m(9),b("src",r.current.imgSrc,ie),m(3),Te(r.current.word),m(2),Oe(" ",r.current.phonetics," "),m(6),b("ngIf",!r.showVideo),m(),b("ngIf",r.showVideo),m(2),b("src",r.isPlayingVideo?r.pauseIconDataUrl:r.playIconDataUrl,ie),he("alt",r.isPlayingVideo?"Pause pronunciation":"Play pronunciation")("aria-label",r.isPlayingVideo?"Pause pronunciation":"Play pronunciation")("aria-pressed",r.isPlayingVideo),m(),ge("recording",r.isRecording),he("aria-pressed",r.isRecording),m(3),he("stroke-dasharray",r.circumference)("stroke-dashoffset",r.strokeDashoffset),m(2),b("ngIf",r.isRecording),m(),b("ngIf",!r.isCountingDown&&!r.isRecording),m(),b("ngIf",r.isCountingDown),m(5),Io("--angle",r.needleAngle+"deg"),ge("oscillate",r.isOscillating),m(3),Oe("",r.score,"%"),m(4),Oe(" ",r.shortfeedback?r.shortfeedback:"Speak to get feedback"," "),m(2),b("disabled",r.index===0),m(3),Te(r.current.letter),m(),b("disabled",r.index===r.items.length-1))},dependencies:[bt,Fv],styles:["[_nghost-%COMP%]{display:block;font-family:Raleway,Roboto,Helvetica Neue,sans-serif}.pp-page[_ngcontent-%COMP%]{height:85vh;padding:28px 24px 18px;box-sizing:border-box;border:7px solid #3aaea8;border-radius:1vw}.pp-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:18px}.pp-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:42px;font-weight:800;color:#3aaea8;letter-spacing:.3px}.pp-main[_ngcontent-%COMP%]{display:flex;gap:1vw;align-items:start;justify-content:space-around}.pp-left[_ngcontent-%COMP%]{display:flex;justify-content:center}.word-card[_ngcontent-%COMP%]{width:22vw;height:34vw;background:#e9f7f6;border-radius:18px;padding:22px 18px 26px;text-align:center;box-shadow:0 12px 26px #00000014;border:3px dashed #3aaea8;gap:.5vw;display:flex;flex-direction:column;align-items:center;justify-content:space-between}.word-img-wrap[_ngcontent-%COMP%]{width:20vw;height:20vw;display:flex;align-items:center;justify-content:center}.word-text[_ngcontent-%COMP%]{font-size:3vw;font-weight:800;color:#1f2b2a}.phonetic-pill[_ngcontent-%COMP%]{color:#3aaea8;font-size:1.5vw;font-weight:600}.pp-center[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:14px;position:relative}.center-card[_ngcontent-%COMP%]{width:30vw}.center-media[_ngcontent-%COMP%]{width:29vw;height:26vw;background-color:#e9f7f6}.center-media[_ngcontent-%COMP%] > video[_ngcontent-%COMP%]{object-fit:cover;border-radius:1vw}.controls-row[_ngcontent-%COMP%]{display:flex;margin-top:1.8vw;gap:2vw}.gauge-wrapper[_ngcontent-%COMP%]{position:relative;width:20vw;height:10vw}.gauge[_ngcontent-%COMP%]{position:absolute;left:50%;top:0;transform:translate(-50%);width:100%;height:100%;border-radius:260px 260px 0 0;overflow:hidden;background:#f3f3f3;box-shadow:0 4px 10px #00000040 inset}.gauge-arc[_ngcontent-%COMP%]{position:absolute;inset:0;border-radius:50%;background:conic-gradient(from 270deg,#e53935 0deg 45deg,#fb8c00 45deg 90deg,#fbc02d 90deg 135deg,#43a047 135deg 180deg,transparent 180deg 360deg);height:20vw}.needle[_ngcontent-%COMP%]{position:absolute;bottom:0vw;left:50%;width:.7vw;height:8vw;background:#333;transform:translate(-50%) rotate(var(--angle, -90deg));transform-origin:50% 100%;transition:transform .7s cubic-bezier(.2,.9,.2,1);border-radius:10px;box-shadow:0 2px 6px #00000080}@keyframes _ngcontent-%COMP%_needleOscillate{0%{transform:translate(-50%) rotate(-70deg)}25%{transform:translate(-50%) rotate(-20deg)}50%{transform:translate(-50%) rotate(60deg)}75%{transform:translate(-50%) rotate(-10deg)}to{transform:translate(-50%) rotate(-70deg)}}.needle.oscillate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_needleOscillate 1.2s ease-in-out infinite;transition:none}.mic-badge[_ngcontent-%COMP%]{position:absolute;bottom:-.3vw;left:50%;transform:translate(-50%,35%);width:3vw;height:3vw;border-radius:50%;background:#000;box-shadow:0 8px 18px #0006;display:flex;align-items:center;justify-content:center}.score-span[_ngcontent-%COMP%]{color:#fff;font-size:1vw;font-weight:700}.fb-board[_ngcontent-%COMP%]{position:relative;top:-1vw;left:2vw;width:17vw}.fb-board[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;display:block}.center-text1[_ngcontent-%COMP%]{position:absolute;top:60%;left:50%;transform:translate(-50%,-50%);color:#fff;font-size:1.2vw;font-weight:700;text-align:center;width:14vw}.video-frame[_ngcontent-%COMP%]{width:100%;aspect-ratio:16 / 9;border-radius:1vw;overflow:hidden;box-shadow:0 2px 6px #0000002e,0 12px 24px #00000029,0 24px 48px #0000001f}.video-frame.square[_ngcontent-%COMP%]{aspect-ratio:1 / 1}.video-frame[_ngcontent-%COMP%] > video[_ngcontent-%COMP%]{width:100%;height:100%;display:block;object-fit:cover}.listen-img[_ngcontent-%COMP%]{width:4.8vw;height:4.8vw;border-radius:50%;display:inline-block;object-fit:contain;cursor:pointer;-webkit-user-select:none;user-select:none;margin-right:1vw;box-shadow:0 10px 30px #0006;transition:all .3s ease;border:none}.listen-img[_ngcontent-%COMP%]:active{transform:scale(.98)}.listen-img.playing[_ngcontent-%COMP%], .listen-img[aria-pressed=true][_ngcontent-%COMP%]{filter:brightness(.95);box-shadow:0 18px 30px #00000029}.listen-img[_ngcontent-%COMP%]:focus{outline:3px solid rgba(58,174,168,.18);outline-offset:3px}.progress-btn[_ngcontent-%COMP%]{width:4.8vw;height:4.8vw;border-radius:50%;display:inline-flex;align-items:center;justify-content:center;padding:0;border:none;background:#f07b48;position:relative;cursor:pointer;box-shadow:0 10px 30px #0006;transition:transform .12s ease,box-shadow .12s ease}.progress-btn[_ngcontent-%COMP%]:active{transform:scale(.98)}.progress-btn.recording[_ngcontent-%COMP%]{filter:brightness(.95);animation:_ngcontent-%COMP%_recPulse 1s infinite}@keyframes _ngcontent-%COMP%_recPulse{0%{box-shadow:0 0 #f07b48}70%{box-shadow:0 0 0 18px #f07b4800}to{box-shadow:0 0 #f07b4800}}.progress-ring[_ngcontent-%COMP%]{width:100%;height:100%;transform:rotate(-90deg);display:block}.progress-ring__background[_ngcontent-%COMP%]{stroke:#eee;opacity:1}.progress-ring__bar[_ngcontent-%COMP%]{stroke:#3aaea8;transition:stroke-dashoffset .12s linear}.label[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;pointer-events:none;font-weight:700;color:#222;font-size:2.5rem}.seconds[_ngcontent-%COMP%]{color:#fff;padding:4px 8px;border-radius:6px}.container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:40px}.arrow[_ngcontent-%COMP%]{font-size:3.3vw;background-color:#e0f7fa;border:none;width:4.8vw;height:4.8vw;border-radius:50%;display:flex;justify-content:center;align-items:center;cursor:pointer;box-shadow:4px 4px 15px #0003;color:#00796b;transition:background-color .3s,color .3s}.arrow[_ngcontent-%COMP%]:disabled{background-color:#cfd8dc;color:#90a4ae;cursor:not-allowed;box-shadow:none}.center-text[_ngcontent-%COMP%]{font-size:5rem;font-weight:700;color:#00796b;width:4vw;text-align:center}.image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.round-image[_ngcontent-%COMP%]{width:4.8vw;height:4.8vw;border-radius:50%;box-shadow:0 10px 30px #0006;transition:all .3s ease;cursor:pointer}.round-image[_ngcontent-%COMP%]:active{transform:scale(1.1)}.user-guide-close-icon[_ngcontent-%COMP%]{position:fixed;top:3vw;right:4vw;background:#009688;border:none;width:44px;height:44px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:2vw;color:#000;cursor:pointer;z-index:2010;box-shadow:0 2px 8px #5d91c32e;transition:background .2s,color .2s}@media (max-width: 980px){.listen-img[_ngcontent-%COMP%]{width:72px;height:72px;padding:14px}}.pp-right[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5vw}"]})}}return e})();var ui=(()=>{class e{constructor(t,i){this.http=t,this.router=i,this.API_BASE_URL=di.apiBaseUrl,this.TOKEN_REFRESH_INTERVAL=12*60*1e3,this.LOGIN_ENDPOINT="/auth/login",this.LOGOUT_ENDPOINT="/auth/logout",this.REFRESH_ENDPOINT="/auth/refresh",this.CHECK_AUTH_ENDPOINT="/auth/check-auth",this.loggedInSubject=new Se(!1),this.refreshIntervalId=null,this.isLoggedIn$=this.loggedInSubject.asObservable(),this.initializeAuthState()}initializeAuthState(){let t=this.hasValidSession();this.loggedInSubject.next(t)}hasValidSession(){return typeof localStorage<"u"&&!!localStorage.getItem("username")}isLoggedIn(){return this.loggedInSubject.value}setLoggedIn(t){this.loggedInSubject.next(t)}login(t){let i={username:t.username,password:t.password};return this.http.post(`${this.API_BASE_URL}${this.LOGIN_ENDPOINT}`,i,{withCredentials:!0}).pipe(Me(()=>{this.setLoggedIn(!0),this.startAutoRefresh(),localStorage.setItem("username",t.username)}),Je(this.handleAuthError.bind(this)))}logout(){return this.http.post(`${this.API_BASE_URL}${this.LOGOUT_ENDPOINT}`,{},{withCredentials:!0}).pipe(Me(()=>this.handleLogoutSuccess()),Je(t=>(this.handleLogoutSuccess(),rn(()=>t))),lt(()=>this.handleLogoutSuccess()))}checkSession(){return this.http.get(`${this.API_BASE_URL}${this.CHECK_AUTH_ENDPOINT}`,{withCredentials:!0}).pipe(Me(()=>{this.setLoggedIn(!0),this.startAutoRefresh()}),Ge(()=>[!0]),Je(t=>t.status===401?this.attemptTokenRefresh():(this.setLoggedIn(!1),[!1])))}startAutoRefresh(){this.refreshIntervalId||(this.refreshIntervalId=window.setInterval(()=>{this.refreshAccessToken().subscribe({error:()=>this.handleRefreshError()})},this.TOKEN_REFRESH_INTERVAL))}clearAutoRefresh(){this.refreshIntervalId&&(clearInterval(this.refreshIntervalId),this.refreshIntervalId=null)}refreshAccessToken(){return this.http.post(`${this.API_BASE_URL}${this.REFRESH_ENDPOINT}`,{},{withCredentials:!0}).pipe(Je(this.handleRefreshError.bind(this)))}attemptTokenRefresh(){return this.http.post(`${this.API_BASE_URL}${this.REFRESH_ENDPOINT}`,{},{withCredentials:!0}).pipe(Me(()=>{this.setLoggedIn(!0),this.startAutoRefresh()}),Ge(()=>[!0]),Je(()=>(this.setLoggedIn(!1),[!1])))}handleAuthError(t){let i="Authentication failed";return t.error?.message?i=t.error.message:t.status===401?i="Invalid credentials":t.status===0&&(i="Network error - please check your connection"),rn(()=>({message:i,status:t.status}))}handleRefreshError(){return this.clearTokens(),this.setLoggedIn(!1),this.router.navigate(["/login"]),rn(()=>new Error("Session expired"))}handleLogoutSuccess(){this.clearTokens(),this.clearAutoRefresh(),this.setLoggedIn(!1),localStorage.removeItem("username")}clearTokens(){document.cookie="access_token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; secure; samesite=strict",document.cookie="refresh_token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; secure; samesite=strict"}getAccessToken(){if(typeof document>"u")return null;let i=document.cookie.split("; ").find(r=>r.startsWith("access_token="));return i?i.split("=")[1]:null}ngOnDestroy(){this.clearAutoRefresh()}static{this.\u0275fac=function(i){return new(i||e)(y(Kt),y(Ke))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function xk(e,n){if(e&1){let t=W();d(0,"div")(1,"div",18),M("click",function(){A(t);let r=D(3);return O(r.closePrivacyPopup())}),l(),d(2,"div",19)(3,"button",20),M("click",function(){A(t);let r=D(3);return O(r.closePrivacyPopup())}),u(4,"\xD7"),l(),d(5,"ul",21)(6,"li",22)(7,"b"),u(8,"Privacy Policy \u2014 Py-learn"),l(),g(9,"br"),d(10,"ul",23)(11,"li")(12,"b"),u(13,"Last Updated:"),l(),u(14," November 2025"),l(),d(15,"li")(16,"b"),u(17,"Who we are:"),l(),u(18," Py-learn is operated by "),d(19,"b"),u(20,"Pykara Technologies Private Limited"),l(),u(21," (\u201Cwe\u201D, \u201Cus\u201D, \u201Cour\u201D), the data controller for personal data processed through the platform."),l(),d(22,"li")(23,"b"),u(24,"Contact:"),l(),d(25,"a",24),u(26,"info@pykara.ai"),l()()()(),d(27,"li")(28,"b"),u(29,"Overview"),l(),g(30,"br"),d(31,"ul",23)(32,"li"),u(33,"We collect limited personal data to deliver an AI-powered e-learning experience (chatbots, video lessons, quizzes) and to improve learning outcomes."),l(),d(34,"li"),u(35,"We comply with applicable laws, including GDPR where relevant to users in the EEA/UK."),l()()(),d(36,"li")(37,"b"),u(38,"Information We Collect"),l(),g(39,"br"),d(40,"ul",23)(41,"li")(42,"b"),u(43,"Account Data:"),l(),u(44," name, email, password (hashed), profile details."),l(),d(45,"li")(46,"b"),u(47,"Learning Data:"),l(),u(48," enrolled courses, lessons viewed, quiz results, progress analytics, feedback."),l(),d(49,"li")(50,"b"),u(51,"Technical Data:"),l(),u(52," device/browser info, IP address, timestamps, logs, approximate location from IP."),l(),d(53,"li")(54,"b"),u(55,"Cookies & Similar Tech:"),l(),u(56," preferences, session management, analytics (see \u201CCookies\u201D)."),l()()(),d(57,"li")(58,"b"),u(59,"Purposes of Processing"),l(),g(60,"br"),d(61,"ul",23)(62,"li"),u(63,"Provide and secure the service; authenticate users; maintain accounts."),l(),d(64,"li"),u(65,"Personalise content, recommendations, and difficulty levels."),l(),d(66,"li"),u(67,"Measure performance, improve features, and fix issues."),l(),d(68,"li"),u(69,"Send essential service communications (policy changes, security notices)."),l(),d(70,"li"),u(71,"Comply with legal obligations and enforce Terms."),l()()(),d(72,"li")(73,"b"),u(74,"Legal Bases (GDPR)"),l(),g(75,"br"),d(76,"ul",23)(77,"li")(78,"b"),u(79,"Contract necessity:"),l(),u(80," to deliver core features you request."),l(),d(81,"li")(82,"b"),u(83,"Legitimate interests:"),l(),u(84," service improvement, security, fraud prevention (balanced against your rights)."),l(),d(85,"li")(86,"b"),u(87,"Consent:"),l(),u(88," non-essential cookies, optional marketing (you can withdraw at any time)."),l(),d(89,"li")(90,"b"),u(91,"Legal obligation:"),l(),u(92," records, compliance, and requests from authorities where required by law."),l()()(),d(93,"li")(94,"b"),u(95,"Automated Processing & AI"),l(),g(96,"br"),d(97,"ul",23)(98,"li"),u(99,"AI is used to generate explanations, hints, and recommendations. We do not make decisions with legal or similarly significant effects solely by automated means."),l()()(),d(100,"li")(101,"b"),u(102,"Third-Party Processors & Transfers"),l(),g(103,"br"),d(104,"ul",23)(105,"li"),u(106,"We use reputable vendors for AI inference, hosting, analytics, email delivery, and content streaming. They act under contracts and process data only on our instructions."),l(),d(107,"li"),u(108,"Where data is transferred outside your country (including outside the EEA/UK), appropriate safeguards are applied (e.g., Standard Contractual Clauses)."),l()()(),d(109,"li")(110,"b"),u(111,"Data Sharing"),l(),g(112,"br"),d(113,"ul",23)(114,"li"),u(115,"With service providers under confidentiality and security obligations."),l(),d(116,"li"),u(117,"For legal reasons (court orders, to protect users and our rights, prevent fraud or abuse)."),l(),d(118,"li"),u(119,"Business changes (merger, acquisition); we will ensure comparable protections or notify you of material changes."),l()()(),d(120,"li")(121,"b"),u(122,"Data Security & Retention"),l(),g(123,"br"),d(124,"ul",23)(125,"li"),u(126,"We apply technical and organisational measures (encryption at rest/in transit, access controls, monitoring)."),l(),d(127,"li"),u(128,"We retain personal data only as long as needed for the purposes above or as required by law. "),d(129,"b"),u(130,"Inactive accounts may be deleted after 24 months."),l()()()(),d(131,"li")(132,"b"),u(133,"Cookies & Similar Technologies"),l(),g(134,"br"),d(135,"ul",23)(136,"li")(137,"b"),u(138,"Essential:"),l(),u(139," login/session, security, load balancing."),l(),d(140,"li")(141,"b"),u(142,"Preferences:"),l(),u(143," UI settings, language, playback choices."),l(),d(144,"li")(145,"b"),u(146,"Analytics:"),l(),u(147," usage statistics to improve features."),l(),d(148,"li"),u(149,"You may control cookies via your browser. Disabling some cookies may affect functionality."),l()()(),d(150,"li")(151,"b"),u(152,"Children\u2019s Privacy"),l(),g(153,"br"),d(154,"ul",23)(155,"li"),u(156,"The service is intended for users aged 13+. If we learn that data from a child under 13 was collected without appropriate consent, we will delete it."),l()()(),d(157,"li")(158,"b"),u(159,"Your Rights (EEA/UK where applicable)"),l(),g(160,"br"),d(161,"ul",23)(162,"li"),u(163,"Access, rectify, erase, restrict processing, object, and data portability."),l(),d(164,"li"),u(165,"Withdraw consent (for consent-based processing) without affecting prior lawful processing."),l(),d(166,"li"),u(167,"Lodge a complaint with a supervisory authority. We encourage contacting us first at "),d(168,"a",24),u(169,"info@pykara.ai"),l(),u(170,"."),l()()(),d(171,"li")(172,"b"),u(173,"Data Breach Notification"),l(),g(174,"br"),d(175,"ul",23)(176,"li"),u(177,"We will notify affected users and relevant authorities when legally required."),l()()(),d(178,"li")(179,"b"),u(180,"Changes to this Policy"),l(),g(181,"br"),d(182,"ul",23)(183,"li"),u(184,"We may update this policy. The \u201CLast Updated\u201D date reflects the latest version; material changes may be additionally notified in-app or by email."),l()()(),d(185,"li")(186,"b"),u(187,"Contact"),l(),g(188,"br"),d(189,"ul",23)(190,"li"),u(191,"Email: "),d(192,"a",24),u(193,"info@pykara.ai"),l()(),d(194,"li"),u(195,"Registered Office: Pykara Technologies Private Limited, Chennai, Tamil Nadu, India"),l()()()()()()}}function Dk(e,n){if(e&1){let t=W();d(0,"div")(1,"div",18),M("click",function(){A(t);let r=D(3);return O(r.closeTermsPopup())}),l(),d(2,"div",25)(3,"button",20),M("click",function(){A(t);let r=D(3);return O(r.closeTermsPopup())}),u(4,"\xD7"),l(),d(5,"ul",21)(6,"li",26)(7,"b"),u(8,"Terms & Conditions \u2014 Py-learn"),l(),g(9,"br"),d(10,"ul",23)(11,"li")(12,"b"),u(13,"Last Updated:"),l(),u(14," November 2025"),l(),d(15,"li"),u(16,"By using Py-learn, you agree to these Terms and our Privacy Policy."),l()()(),d(17,"li")(18,"b"),u(19,"Eligibility & Accounts"),l(),g(20,"br"),d(21,"ul",23)(22,"li"),u(23,"You must be 13+ (or the age of digital consent in your region). Users under 18 require parental/guardian consent."),l(),d(24,"li"),u(25,"You are responsible for the accuracy of your information and for safeguarding your credentials."),l()()(),d(26,"li")(27,"b"),u(28,"Permitted Use & Prohibited Conduct"),l(),g(29,"br"),d(30,"ul",23)(31,"li"),u(32,"Use the service for lawful, educational purposes only."),l(),d(33,"li"),u(34,"Do not attempt unauthorised access, disrupt the service, reverse engineer components, or misuse AI features."),l(),d(35,"li"),u(36,"International users must comply with local laws."),l()()(),d(37,"li")(38,"b"),u(39,"Content & Intellectual Property"),l(),g(40,"br"),d(41,"ul",23)(42,"li"),u(43,"All software, UI, designs, text, graphics, videos, and datasets are owned by Pykara Technologies or its licensors."),l(),d(44,"li"),u(45,"Copying, redistribution, or commercial use requires prior written consent."),l(),d(46,"li"),u(47,"When you submit content (e.g., answers, uploads), you grant us a non-exclusive, royalty-free licence to host and process it to operate and improve the service (including for AI model quality and safety, where allowed by law and your settings)."),l()()(),d(48,"li")(49,"b"),u(50,"AI Outputs & Educational Disclaimer"),l(),g(51,"br"),d(52,"ul",23)(53,"li"),u(54,"AI responses support learning but may contain errors. Verify outputs before relying on them; they are not professional advice."),l()()(),d(55,"li")(56,"b"),u(57,"Fees, Trials & Refunds"),l(),g(58,"br"),d(59,"ul",23)(60,"li"),u(61,"Some features may be paid (subscriptions or one-off fees). Prices and taxes are shown at checkout."),l(),d(62,"li"),u(63,"Payments are processed securely by third-party providers. Unless required by law, payments are non-refundable."),l()()(),d(64,"li")(65,"b"),u(66,"Third-Party Links & Services"),l(),g(67,"br"),d(68,"ul",23)(69,"li"),u(70,"We may link to third-party content or integrate with providers (hosting, analytics, AI). We are not responsible for third-party terms or policies."),l()()(),d(71,"li")(72,"b"),u(73,"Termination & Suspension"),l(),g(74,"br"),d(75,"ul",23)(76,"li"),u(77,"We may suspend or terminate access for violations, fraud, or security risks. You may request account closure at any time."),l()()(),d(78,"li")(79,"b"),u(80,"Warranties & Liability"),l(),g(81,"br"),d(82,"ul",23)(83,"li"),u(84,"The service is provided \u201Cas is\u201D and \u201Cas available\u201D without warranties of any kind."),l(),d(85,"li"),u(86,"To the fullest extent permitted by law, we are not liable for indirect, incidental, special, consequential, or punitive damages."),l()()(),d(87,"li")(88,"b"),u(89,"Indemnity"),l(),g(90,"br"),d(91,"ul",23)(92,"li"),u(93,"You agree to indemnify and hold us harmless from claims arising from your misuse of the service or breach of these Terms."),l()()(),d(94,"li")(95,"b"),u(96,"Changes to the Service or Terms"),l(),g(97,"br"),d(98,"ul",23)(99,"li"),u(100,"We may modify features or these Terms. Continued use after changes indicates acceptance; material updates may be additionally notified in-app or by email."),l()()(),d(101,"li")(102,"b"),u(103,"Governing Law & Disputes"),l(),g(104,"br"),d(105,"ul",23)(106,"li"),u(107,"Governing law: India. Exclusive jurisdiction: courts in Chennai, Tamil Nadu, India."),l()()(),d(108,"li")(109,"b"),u(110,"Contact"),l(),g(111,"br"),d(112,"ul",23)(113,"li"),u(114,"Support & legal queries: "),d(115,"a",24),u(116,"info@pykara.ai"),l()(),d(117,"li"),u(118,"Registered Office: Pykara Technologies Private Limited, Chennai, Tamil Nadu, India"),l()()()()()()}}function Ek(e,n){if(e&1){let t=W();Le(0),d(1,"p"),u(2,"\xA9 2025 Pykara Technologies Pvt. Ltd. All rights reserved."),l(),d(3,"a",3),u(4,"Contact Us"),l(),u(5," | "),d(6,"a",4),M("click",function(r){A(t);let o=D(2);return O(o.openPrivacyPopup(r))}),u(7,"Privacy Policy"),l(),u(8," | "),d(9,"a",4),M("click",function(r){A(t);let o=D(2);return O(o.openTermsPopup(r))}),u(10,"Terms & Conditions"),l(),d(11,"div",5)(12,"a",6),g(13,"i",7),l(),d(14,"a",8),g(15,"i",9),l(),d(16,"a",10),g(17,"i",11),l(),d(18,"a",12),g(19,"i",13),l(),d(20,"a",14),g(21,"i",15),l()(),L(22,xk,196,0,"div",0)(23,Dk,119,0,"div",0),d(24,"div",16)(25,"a",17),u(26,"www.pykara.ai"),l()(),Ve()}if(e&2){let t=D(2);m(12),b("href",t.brandService.socialLinksCurrent.linkedin,ie),m(2),b("href",t.brandService.socialLinksCurrent.youtube,ie),m(2),b("href",t.brandService.socialLinksCurrent.facebook,ie),m(2),b("href",t.brandService.socialLinksCurrent.instagram,ie),m(2),b("href",t.brandService.socialLinksCurrent.website,ie),m(2),b("ngIf",t.showPrivacyPopup),m(),b("ngIf",t.showTermsPopup)}}function Ik(e,n){if(e&1){let t=W();d(0,"div")(1,"div",18),M("click",function(){A(t);let r=D(3);return O(r.closePrivacyPopup())}),l(),d(2,"div",19)(3,"button",20),M("click",function(){A(t);let r=D(3);return O(r.closePrivacyPopup())}),u(4,"\xD7"),l(),d(5,"ul",21)(6,"li",22)(7,"b"),u(8,"Privacy Policy \u2014 Majema"),l(),g(9,"br"),d(10,"ul",23)(11,"li")(12,"b"),u(13,"What personal data is collected?"),l(),g(14,"br"),u(15,"Majemaf\xF6rlaget AB processes personal data that you provide to us. Personal data that will be processed includes, for example, name, social security number, school affiliation, role, interests related to teaching, address, e-mail address and telephone number. You provide the personal data yourself in connection with ordering, expressions of interest, by telephone or when visiting teaching material exhibitions, school visits and teacher meetings. On our website we use cookies and save your IP address."),l(),d(16,"li"),u(17,"It is voluntary to provide your personal data, but in some cases we cannot provide you with the service and/or product you have ordered if you do not provide your personal data."),l(),d(18,"li"),u(19,"We do not collect any personal information from third-party companies. Advertising may occur on external websites and then we can obtain statistics that are not personal through cookies."),l(),d(20,"li")(21,"b"),u(22,"Purposes of personal data processing"),l(),g(23,"br"),u(24,"Your personal data will be processed in order for us to fulfill our commitments to you. We may also process your data for the purposes below as well as for our market and customer analyses and statistics in order to provide you with a better offer and better service. We may, unless you have objected to direct marketing in writing, also use your personal data to provide various offers of services and/or products from us. You may unsubscribe from receiving such offers at any time with each marketing message. If we process data for other purposes, we will inform you of this."),l(),d(25,"li")(26,"b"),u(27,"Storage of personal data"),l(),g(28,"br"),u(29,"We may transfer your data to IT service providers and other service providers who then process the data on our behalf. If we transfer your data outside the EU, we ensure that we have a legal basis for such transfer. This can be done through the EU Commission's standard contractual clauses. Majema takes the greatest possible security measures to protect your personal data. All identifiable personal data is subject to access restrictions to prevent unauthorized access, alteration or misuse. We will store your data for as long as necessary to fulfill our obligations to you."),l(),d(30,"li")(31,"b"),u(32,"Our legal basis"),l(),g(33,"br"),u(34,"We process your data based on our legitimate interest or to enable us to fulfill our obligations to you."),l(),d(35,"li")(36,"b"),u(37,"Cookies \u2013 Information collected via www.majema.se"),l(),g(38,"br"),u(39,"www.majema.se is managed by Majemaf\xF6rlaget AB. Majema's website uses cookies to give you access to additional functions, such as previous orders and to simplify logging into your account. You can refuse the use of cookies through your browser settings. Majema uses analysis tools to get a picture of how visitors use our websites, in order to improve the content, navigation and structure of the websites. The analysis tools use JavaScript and cookies and the information generated by these through your use of the website (including your IP address) will be forwarded to the analysis tools' service providers and may be stored on servers outside the EU. The service providers may also transfer this information to third parties if required by law or in cases where a third party processes the information on their behalf. By using Majema's websites without declining third-party cookies, you agree that the service providers process your data in the manner and for the purposes described above. If you do not want your visits to Majema's website to be included in the service providers' statistics, there is an add-on that you can install in your browser."),l(),d(40,"li")(41,"b"),u(42,"Your rights"),l(),g(43,"br"),u(44,'According to applicable data protection legislation, you have the right to request that incorrect personal data be corrected, blocked, restricted or deleted. In addition, you can also object to processing or request that your data be transferred to another data controller, so-called data portability. You also have the right to request written information, a so-called register extract, about the personal data we process about you once a year, free of charge, by sending a written signed application to our address below. Mark the application with "Request for register extract". If you are dissatisfied with our processing, you have the right to file a complaint with the Swedish Data Protection Authority.'),l(),d(45,"li")(46,"b"),u(47,"Contact information"),l(),g(48,"br"),u(49,"Majemaf\xF6rlaget AB, 556414-9135, is the data controller for the processing of your personal data that you provide when filling out contact forms on the website. Address: Majemaf\xF6rlaget AB, Box 4016, 131 04 Nacka"),l()()()()()()}}function Sk(e,n){if(e&1){let t=W();d(0,"div")(1,"div",18),M("click",function(){A(t);let r=D(3);return O(r.closeTermsPopup())}),l(),d(2,"div",25)(3,"button",20),M("click",function(){A(t);let r=D(3);return O(r.closeTermsPopup())}),u(4,"\xD7"),l(),d(5,"ul",21)(6,"li",26)(7,"b"),u(8,"Terms & Conditions \u2014 Majema"),l(),g(9,"br"),d(10,"ul",23)(11,"li"),u(12,"By using Majema, you agree to these Terms and our Privacy Policy."),l()()(),d(13,"li")(14,"b"),u(15,"System requirements"),l(),g(16,"br"),d(17,"ul",23)(18,"li"),u(19,"Majema's digital learning materials work on computers, tablets and interactive whiteboards. Our digital learning materials are based on HTML5 and JavaScript. This means that older versions of browsers are not always fully supported. We recommend using an updated version of the Chrome browser to best experience our digital learning materials."),l(),d(20,"li"),u(21,"Here you can download "),d(22,"a",29),u(23,"Google Chrome for free"),l(),u(24,"."),l(),d(25,"li"),u(26," For the best user experience, you should make sure these four points are met: "),d(27,"ol",30)(28,"li"),u(29,"Make sure your browser is set to 100% zoom. This is important for the content to look correct on the screen."),l(),d(30,"li"),u(31,"Update your browser."),l(),d(32,"li"),u(33,"Clear your cache. Select: settings, privacy and security, clear browsing data. (If clearing the cache isn't enough, you can open a new incognito window in Chrome and log in from there.)"),l(),d(34,"li"),u(35,"If you are using a tablet \u2013 update your operating system. This is done under settings."),l()()(),d(36,"li")(37,"b"),u(38,"Web browser"),l(),g(39,"br"),u(40," We recommend that you always update your browser to the latest version."),g(41,"br"),u(42," We test our digital learning materials against the following browsers: Chrome, Edge, Safari and Firefox. "),l(),d(43,"li")(44,"b"),u(45,"License management"),l(),g(46,"br"),u(47," All of our websites are licensed to apply to one teacher and class for one year from the date of activation."),g(48,"br"),u(49," If there is a student website, it is activated at the same time as you activate the teacher website."),g(50,"br"),u(51," To extend a license, you need to make a new purchase, in the webshop, through a retailer or with our customer service."),g(52,"br"),u(53," Should a license need to be transferred from one teacher to another, please contact our customer service and we will help you with this."),g(54,"br"),u(55," You can change your account details yourself under the My Account tab when you are logged in. "),l(),d(56,"li")(57,"b"),u(58,"Operating system"),l(),g(59,"br"),u(60," We recommend that you always update your operating system to the latest version."),g(61,"br"),d(62,"ul",31)(63,"li"),u(64,"Windows 7, 8, 10, 11"),l(),d(65,"li"),u(66,"Chrome OS (Chromebook)"),l(),d(67,"li"),u(68,"Mac OS (11 and later)"),l(),d(69,"li"),u(70,"Android tablet 11 or later (with Chrome browser)"),l(),d(71,"li"),u(72,"iOS 14 and later (iPad operating system)"),l()(),u(73," Majema does not guarantee support for devices and operating systems that are no longer updated by the manufacturer. "),l()()()()()()}}function Mk(e,n){if(e&1){let t=W();Le(0),d(1,"p"),u(2,"\xA9 2025 Majemaf\xF6rlaget. All rights reserved."),l(),d(3,"a",27),u(4,"Contact Us"),l(),u(5," | "),d(6,"a",4),M("click",function(r){A(t);let o=D(2);return O(o.openPrivacyPopup(r))}),u(7,"Privacy Policy"),l(),u(8," | "),d(9,"a",4),M("click",function(r){A(t);let o=D(2);return O(o.openTermsPopup(r))}),u(10,"Terms & Conditions"),l(),d(11,"div",5)(12,"a",6),g(13,"i",7),l(),d(14,"a",8),g(15,"i",9),l(),d(16,"a",10),g(17,"i",11),l(),d(18,"a",12),g(19,"i",13),l(),d(20,"a",14),g(21,"i",15),l()(),L(22,Ik,50,0,"div",0)(23,Sk,74,0,"div",0),d(24,"div",16)(25,"a",28),u(26,"www.majema.se"),l()(),Ve()}if(e&2){let t=D(2);m(12),b("href",t.brandService.socialLinksCurrent.linkedin,ie),m(2),b("href",t.brandService.socialLinksCurrent.youtube,ie),m(2),b("href",t.brandService.socialLinksCurrent.facebook,ie),m(2),b("href",t.brandService.socialLinksCurrent.instagram,ie),m(2),b("href",t.brandService.socialLinksCurrent.website,ie),m(2),b("ngIf",t.showPrivacyPopup),m(),b("ngIf",t.showTermsPopup)}}function Tk(e,n){if(e&1&&(d(0,"footer"),Le(1,1),L(2,Ek,27,7,"ng-container",2)(3,Mk,27,7,"ng-container",2),Ve(),l()),e&2){let t=D();m(),b("ngSwitch",t.brandService.name),m(),b("ngSwitchCase","Py-Learn"),m(),b("ngSwitchCase","MJ-Learn")}}var Rl=(()=>{class e{constructor(t){this.brandService=t,this.showPrivacyPopup=!1,this.showTermsPopup=!1}openPrivacyPopup(t){t.preventDefault(),this.showPrivacyPopup=!0}closePrivacyPopup(){this.showPrivacyPopup=!1}openTermsPopup(t){t.preventDefault(),this.showTermsPopup=!0}closeTermsPopup(){this.showTermsPopup=!1}static{this.\u0275fac=function(i){return new(i||e)(C(yn))}}static{this.\u0275cmp=_e({type:e,selectors:[["app-footer"]],standalone:!0,features:[je],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["href","https://pykara.ai/contact-us/","target","blank"],["href","#",3,"click"],[1,"social-icons"],["target","_blank","aria-label","LinkedIn",1,"social-icon","linkedin",3,"href"],[1,"fab","fa-linkedin-in"],["target","_blank","aria-label","YouTube",1,"social-icon","youtube",3,"href"],[1,"fab","fa-youtube"],["target","_blank","aria-label","Facebook",1,"social-icon","facebook",3,"href"],[1,"fab","fa-facebook-f"],["target","_blank","aria-label","Instagram",1,"social-icon","instagram",3,"href"],[1,"fab","fa-instagram"],["target","_blank","aria-label","Website",1,"social-icon","website",3,"href"],[1,"fas","fa-globe"],[1,"footer-watermark-row"],["href","https://www.pykara.ai","target","_blank",1,"footer-watermark"],[1,"user-guide-overlay",3,"click"],["role","dialog","aria-modal","true","aria-labelledby","privacyTitle",1,"user-guide-modal"],["aria-label","Close",1,"user-guide-close-icon",3,"click"],[2,"text-align","justify","font-size","15px"],["id","privacyTitle"],[2,"list-style","unset","margin-left","1.25rem"],["href","mailto:info@pykara.ai"],["role","dialog","aria-modal","true","aria-labelledby","termsTitle",1,"user-guide-modal"],["id","termsTitle"],["href","https://www.majema.se/pages/kontakta-kundtjanst","target","_blank"],["href","https://www.majema.se","target","_blank",1,"footer-watermark"],["href","https://www.google.com/chrome/","target","_blank"],[2,"margin-left","1.5rem"],[2,"list-style","disc","margin-left","1.5rem"]],template:function(i,r){i&1&&L(0,Tk,4,3,"footer",0),i&2&&b("ngIf",r.brandService.showFooter)},dependencies:[wt,bt,Po,Pc],styles:[".user-guide-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000059;z-index:2000}.user-guide-modal[_ngcontent-%COMP%]{position:fixed;top:52%;left:50%;transform:translate(-50%,-50%);height:38vw;width:50vw;background:linear-gradient(135deg,#fff 80%,#e3fcec);color:#222;box-shadow:0 12px 40px #5d91c338;border-radius:18px;padding:1vw;z-index:2001;overflow:visible;border:10px solid var(--main-accent-color);box-sizing:border-box;font-weight:lighter}.user-guide-modal[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%], .user-guide-modal[_ngcontent-%COMP%] > ol[_ngcontent-%COMP%]{max-height:34.6vw;overflow-y:auto;padding-right:.5vw;margin:0}.user-guide-close-icon[_ngcontent-%COMP%]{top:-22px;right:-22px}.user-guide-modal[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:1.7;font-size:1.1vw;background:#5d91c312;padding:.5vw;box-shadow:0 2px 8px #5d91c30f}.user-guide-modal[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{color:#2b6296;font-size:1.15vw}.user-guide-modal[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#137ec4;text-decoration:underline;font-weight:600}.user-guide-modal[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#009688;text-decoration:underline}footer[_ngcontent-%COMP%]{background:linear-gradient(to right,#011022,#01030a);color:#fff;padding:15px 10px;text-align:center;width:100%;position:relative;font-size:18px;font-weight:700;font-family:Inter,Segoe UI,-apple-system,BlinkMacSystemFont,sans-serif}p.footer[_ngcontent-%COMP%]{line-height:1;margin-top:1vw}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;margin:0 5px;margin-bottom:.5vw;display:inline-block}footer[_ngcontent-%COMP%]   .social-icons[_ngcontent-%COMP%]{margin-top:.5vw;display:flex;justify-content:center;gap:28px;flex-wrap:wrap}footer[_ngcontent-%COMP%]   .social-icons[_ngcontent-%COMP%]   .social-icon[_ngcontent-%COMP%]{width:42px;height:42px;display:inline-flex;align-items:center;justify-content:center;border-radius:50%;background-color:#fff;color:#38bdf8;font-size:18px;box-shadow:0 0 0 1px #214055,0 4px 14px #0006;transition:background-color .25s,color .25s,transform .25s,box-shadow .25s;text-decoration:none}footer[_ngcontent-%COMP%]   .social-icons[_ngcontent-%COMP%]   .social-icon[_ngcontent-%COMP%]:hover{background-color:#38bdf8;color:#fff;transform:translateY(-4px);box-shadow:0 6px 20px #38bdf8aa,0 0 0 2px #38bdf8 inset}footer[_ngcontent-%COMP%]   .social-icons[_ngcontent-%COMP%]   .social-icon.facebook[_ngcontent-%COMP%]{color:#1877f2}footer[_ngcontent-%COMP%]   .social-icons[_ngcontent-%COMP%]   .social-icon.youtube[_ngcontent-%COMP%]{color:red}footer[_ngcontent-%COMP%]   .social-icons[_ngcontent-%COMP%]   .social-icon.linkedin[_ngcontent-%COMP%]{color:#0a66c2}footer[_ngcontent-%COMP%]   .social-icons[_ngcontent-%COMP%]   .social-icon.instagram[_ngcontent-%COMP%]{color:#fd5949}footer[_ngcontent-%COMP%]   .social-icons[_ngcontent-%COMP%]   .social-icon.facebook[_ngcontent-%COMP%]:hover{background-color:#1877f2;color:#fff}footer[_ngcontent-%COMP%]   .social-icons[_ngcontent-%COMP%]   .social-icon.youtube[_ngcontent-%COMP%]:hover{background-color:red;color:#fff}footer[_ngcontent-%COMP%]   .social-icons[_ngcontent-%COMP%]   .social-icon.linkedin[_ngcontent-%COMP%]:hover{background-color:#0a66c2;color:#fff}footer[_ngcontent-%COMP%]   .social-icons[_ngcontent-%COMP%]   .social-icon.instagram[_ngcontent-%COMP%]:hover{background:radial-gradient(circle at 30% 110%,#fdf497,#fd5949 45%,#d6249f 60%,#285aeb 90%);color:#fff;filter:brightness(1.15);box-shadow:0 6px 22px #fd594999}.footer-watermark-row[_ngcontent-%COMP%]{width:100%;text-align:right;margin-top:-40px}.footer-watermark[_ngcontent-%COMP%]{color:#38bdf8;font-weight:700;text-decoration:underline;font-size:1.1em;transition:color .2s}.footer-watermark[_ngcontent-%COMP%]:hover{color:#137ec4}@media (max-width: 600px){.user-guide-modal[_ngcontent-%COMP%]{width:90vw;height:60vw;border-radius:12px;padding:4vw 2vw 2vw}.user-guide-modal[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%], .user-guide-modal[_ngcontent-%COMP%] > ol[_ngcontent-%COMP%]{max-height:52vw;overflow-y:auto;padding-right:1.5vw}.user-guide-close-icon[_ngcontent-%COMP%]{font-size:6vw;top:2vw;right:2vw;width:6vw;height:6vw;display:flex;align-items:center;justify-content:center;line-height:1}.footer-watermark-row[_ngcontent-%COMP%]{text-align:center;margin-top:8px}}"]})}}return e})();function Ok(e,n){if(e&1){let t=W();d(0,"div",35),M("mouseleave",function(){A(t);let r=D(2);return O(r.closeAccountMenu())}),d(1,"div",36)(2,"div",37),u(3),l(),d(4,"div",38)(5,"div",39),u(6),l(),d(7,"div",40),u(8),l()()(),d(9,"div",41),M("click",function(){A(t);let r=D(2);return O(r.goToAccount())}),u(10,"My account"),l(),g(11,"hr"),d(12,"div",41),M("click",function(){A(t);let r=D(2);return O(r.logout())}),u(13,"Logout"),l()()}if(e&2){let t=D(2);m(3),Te(t.usernameInitial),m(3),Te(t.displayName),m(2),Te(t.displayEmail)}}function kk(e,n){if(e&1){let t=W();Le(0),d(1,"div",33),M("click",function(){A(t);let r=D();return O(r.toggleAccountMenu())}),u(2),l(),L(3,Ok,14,3,"div",34),Ve()}if(e&2){let t=D();m(),he("title",t.usernameInitial),m(),Oe(" ",t.usernameInitial," "),m(),b("ngIf",t.showAccountMenu)}}function Pk(e,n){e&1&&(d(0,"a",42),g(1,"i",43),l()),e&2&&he("title","Login")}function Rk(e,n){if(e&1){let t=W();d(0,"div",44),M("click",function(){let r=A(t).$implicit,o=D();return O(o.handleCardAction(r))})("keydown.enter",function(){let r=A(t).$implicit,o=D();return O(o.handleCardAction(r))})("keydown.space",function(){let r=A(t).$implicit,o=D();return O(o.handleCardAction(r))}),d(1,"div",45),g(2,"img",46),l(),d(3,"div",47)(4,"div",48)(5,"button",49),M("click",function(r){let o=A(t).$implicit,s=D();return r.stopPropagation(),O(s.openGuidePopup(o.title))}),u(6,"Know More"),l()()()()}if(e&2){let t=n.$implicit;ge("card--disabled",t.disabled),b("tabindex",t.disabled?-1:0),m(2),b("src",t.image,ie)("alt",t.title),m(3),b("disabled",t.disabled)}}function Nk(e,n){e&1&&(Le(0),d(1,"ul",55)(2,"li")(3,"b"),u(4,"Introduction"),l(),g(5,"br"),d(6,"ul",56)(7,"li"),u(8,"The Chat Module is an interactive learning environment designed to assist learners through text and voice-based communication."),l(),d(9,"li"),u(10,"Users can type their question or select from follow-up suggestions, using either the text input or the microphone."),l(),d(11,"li"),u(12,"Predefined questions appear above the input field for quick access."),l(),d(13,"li"),u(14,"This creates an engaging and personalised learning experience similar to interacting with a real tutor."),l()()(),d(15,"li")(16,"b"),u(17,"Starting the Chat"),l(),g(18,"br"),d(19,"ul",56)(20,"li"),u(21,"When learners open the module, they will see a text input box and a microphone icon. They can type a question or activate the microphone to speak."),l(),d(22,"li"),u(23,"While the microphone is active, a listening popup appears with options to mute or stop recording. Once the learner finishes speaking or typing, their question is displayed in the chat area along with a timestamp."),l(),d(24,"li"),u(25,"This simple interface ensures that both typing and speaking interactions are smooth and user-friendly."),l()()(),d(26,"li")(27,"b"),u(28,"Accessing the Syllabus"),l(),g(29,"br"),d(30,"ul",56)(31,"li"),u(32,"Before learners begin, an administrator uploads the syllabus or textbook in digital format."),l(),d(33,"li"),u(34,"The system analyses the document and automatically generates a list of predefined questions based on the uploaded syllabus."),l(),d(35,"li"),u(36,"These predefined questions are displayed above the input field, allowing learners to choose any topic without needing to type."),l(),d(37,"li"),u(38,"When a learner selects a question, the system locates the relevant section from the syllabus and prepares an answer. The response appears instantly in the chat area in a clear and readable format."),l()()(),d(39,"li")(40,"b"),u(41,"Receiving the Response"),l(),g(42,"br"),d(43,"ul",56)(44,"li"),u(45," After a question is sent, the system generates an immediate response that includes: "),d(46,"ul")(47,"li"),u(48,"A text-based explanation"),l(),d(49,"li"),u(50,"An audio narration in the tutor's real voice"),l(),d(51,"li"),u(52,"A derived video explanation, when applicable"),l()()(),d(53,"li"),u(54,"The response is first produced as text. If the learner chooses to listen, the system plays an audio narration that has been synthetically generated using the real voice of the teacher."),l(),d(55,"li"),u(56,"The voice is not a generic computer voice; it has been trained and modelled on the actual tutor's speech patterns, ensuring that the tone, pronunciation, and expression closely resemble the teacher's natural way of speaking."),l(),d(57,"li"),u(58,"Similarly, when a video explanation is requested, the system displays a derived video of the teacher. This video is not a pre-recorded clip or animation, but is generated to resemble the real teacher's voice and reactions."),l(),d(59,"li"),u(60,"All audio and video responses are created dynamically for each question, providing unique, real-time explanations. Learners can replay or stop the narration at any time, copy text responses, and follow the conversation naturally with the speaking indicator showing when the tutor's voice is active."),l(),d(61,"li"),u(62,"By default, audio is muted; you can enable it as needed."),l()()(),d(63,"li")(64,"b"),u(65,"Handling Out-of-Syllabus Questions"),l(),g(66,"br"),d(67,"ul",56)(68,"li"),u(69,'If a learner asks a question that is not part of the uploaded syllabus or textbook, the system responds with the message: "This topic is out of syllabus."'),l(),d(70,"li"),u(71,"Only administrators can configure whether such questions can be answered using external information sources."),l(),d(72,"li"),u(73,"This ensures that all discussions remain within the approved syllabus unless authorised otherwise."),l()()(),d(74,"li")(75,"b"),u(76,"Follow-Up and Progressive Learning"),l(),g(77,"br"),d(78,"ul",56)(79,"li"),u(80,"After each response, the system displays related or next-level questions below the chat. This feature helps learners progress through topics in a logical sequence."),l(),d(81,"li"),u(82,"A breadcrumb trail is also displayed, showing the topic flow and subtopics covered during the conversation."),l(),d(83,"li"),u(84,"Learners can easily revisit previous points and continue from where they left off."),l()()(),d(85,"li")(86,"b"),u(87,"Audio, Video, and Mode Controls"),l(),g(88,"br"),d(89,"ul",56)(90,"li"),u(91," At the top of the chat interface, four control buttons provide flexibility and accessibility: "),d(92,"ul")(93,"li"),u(94,"Audio Control \u2013 Enable or disable narration."),l(),d(95,"li"),u(96,"Video Control \u2013 Show or hide derived video explanations."),l(),d(97,"li"),u(98,"Syllabus Mode Control \u2013 Keep learning limited to syllabus topics."),l(),d(99,"li"),u(100,"Breadcrumb Control \u2013 Display or hide the topic trail."),l()()(),d(101,"li"),u(102,"Only administrators can modify the syllabus mode to include out-of-syllabus responses."),l()()(),d(103,"li")(104,"b"),u(105,"Interface and Usability"),l(),g(106,"br"),d(107,"ul",56)(108,"li"),u(109,"The chat interface presents a clear, conversational layout between the learner and the tutor. Each message includes a profile icon and timestamp for a natural reading flow."),l(),d(110,"li"),u(111,"Typing indicators appear while the system prepares responses, and a scroll button allows quick access to the most recent messages."),l(),d(112,"li"),u(113,"The design is responsive and adapts to different devices such as desktops, tablets, etc."),l()()(),d(114,"li")(115,"b"),u(116,"Summary"),l(),g(117,"br"),d(118,"ul",56)(119,"li"),u(120,"The Chat Module provides an engaging, syllabus-focused learning experience where learners can type or speak their questions and receive immediate answers through text, real teacher voice, and derived video."),l(),d(121,"li"),u(122,"With predefined questions, real-time explanations, structured progression, and easy-to-use controls, this module offers a complete and intelligent conversational learning environment\u2014all within a single platform."),l(),d(123,"li"),u(124,"Use this feature for summary-guided training."),l()()()(),Ve())}function Fk(e,n){e&1&&(Le(0),d(1,"ul",55)(2,"li")(3,"b"),u(4,"Introduction"),l(),g(5,"br"),d(6,"ul",56)(7,"li"),u(8,"The "),d(9,"b"),u(10,"Generate Questions"),l(),u(11," module helps children practise English grammar with step-by-step questions, instant feedback, and level-based progression."),l(),d(12,"li"),u(13,"All questions, hints, and follow-ups are drawn from a "),d(14,"b"),u(15,"predefined syllabus"),l(),u(16," prepared by your school or administrator."),l(),d(17,"li"),u(18,"The layout is simple and child-friendly, with clear buttons and readable text."),l()()(),d(19,"li")(20,"b"),u(21,"Syllabus Source"),l(),g(22,"br"),d(23,"ul",56)(24,"li"),u(25,"The module uses a "),d(26,"b"),u(27,"predefined syllabus"),l(),u(28," that includes topics, chapters, sections, and pages."),l(),d(29,"li"),u(30,"Predefined content ensures that practice stays aligned with the lessons taught in class."),l(),d(31,"li"),u(32,"If a topic is not found in the syllabus, the system displays a clear message (see \u201COut-of-Syllabus Control\u201D)."),l()()(),d(33,"li")(34,"b"),u(35,"Choose a Topic"),l(),g(36,"br"),d(37,"ul",56)(38,"li"),u(39,"Type a grammar topic (e.g., "),d(40,"i"),u(41,"verbs"),l(),u(42,", "),d(43,"i"),u(44,"nouns"),l(),u(45,", "),d(46,"i"),u(47,"tenses"),l(),u(48,", "),d(49,"i"),u(50,"subject\u2013verb agreement"),l(),u(51,") or select from the suggestion list."),l(),d(52,"li"),u(53,"Use specific terms (e.g., "),d(54,"i"),u(55,"simple past tense"),l(),u(56,") for better results."),l(),d(57,"li"),u(58,"If the topic is unclear or unrelated to grammar, the system may show: \u201CPlease enter a valid "),d(59,"b"),u(60,"grammar topic"),l(),u(61,", not a general word or unrelated question.\u201D"),l()()(),d(62,"li")(63,"b"),u(64,"Generate Questions"),l(),g(65,"br"),d(66,"ul",56)(67,"li"),u(68,"Click "),d(69,"b"),u(70,"Generate"),l(),u(71," to create a set of questions based on the chosen topic from the predefined syllabus."),l(),d(72,"li"),u(73,"A brief loading screen appears while the questions are prepared."),l(),d(74,"li"),u(75,"To keep the practice consistent, the topic may be locked after generation until you reset the session."),l()()(),d(76,"li")(77,"b"),u(78,"Answer the Questions"),l(),g(79,"br"),d(80,"ul",56)(81,"li"),u(82,"Each "),d(83,"b"),u(84,"question"),l(),u(85," presents a sentence with a "),d(86,"b"),u(87,"blank"),l(),u(88,". The learner may type any suitable "),d(89,"b"),u(90,"answer"),l(),u(91," in the blank."),l(),d(92,"li"),u(93,"All blanks must be filled before you can check answers. The "),d(94,"b"),u(95,"Validate/Check Answers"),l(),u(96," button enables automatically."),l(),d(97,"li"),u(98,"The input fields are designed for easy typing and clear visibility."),l()()(),d(99,"li")(100,"b"),u(101,"Check Your Answers"),l(),g(102,"br"),d(103,"ul",56)(104,"li"),u(105,"Click "),d(106,"b"),u(107,"Check Answers"),l(),u(108," to validate all responses together."),l(),d(109,"li")(110,"b"),u(111,"Color guidance:"),l(),u(112," correct answers are shown in green with the label "),d(113,"b"),u(114,"Correct"),l(),u(115,"; incorrect answers are shown in red with the label "),d(116,"b"),u(117,"Wrong"),l(),u(118,"."),l(),d(119,"li"),u(120,"During validation or timed messages, inputs may be temporarily read-only to prevent accidental edits."),l()()(),d(121,"li")(122,"b"),u(123,"Try Again (First Wrong Attempt)"),l(),g(124,"br"),d(125,"ul",56)(126,"li"),u(127,"For each incorrect "),d(128,"b"),u(129,"answer"),l(),u(130,", a "),d(131,"b"),u(132,"\u201CTry Again\u201D"),l(),u(133," message appears with a short countdown."),l(),d(134,"li"),u(135,"After the countdown, the wrong entry is cleared so the learner can attempt again."),l(),d(136,"li"),u(137,"This encourages self-correction with gentle guidance."),l()()(),d(138,"li")(139,"b"),u(140,"Show Correct Answer (Second Wrong Attempt)"),l(),g(141,"br"),d(142,"ul",56)(143,"li"),u(144,"If a "),d(145,"b"),u(146,"question"),l(),u(147," remains incorrect after the second attempt, another countdown appears."),l(),d(148,"li"),u(149,"When the countdown ends, the "),d(150,"b"),u(151,"correct answer"),l(),u(152," is shown and filled automatically."),l(),d(153,"li"),u(154,"This provides closure and allows the learner to continue smoothly."),l()()(),d(155,"li")(156,"b"),u(157,"Hints and Teacher Coaching"),l(),g(158,"br"),d(159,"ul",56)(160,"li"),u(161,"Click the "),d(162,"b"),u(163,"Hint"),l(),u(164," icon to open helpful hints based on the same syllabus section as the questions."),l(),d(165,"li"),u(166,"When a hint is displayed or when an answer is incorrect, the module can also present the teacher\u2019s voice and a short teacher video that explains the idea in simple words."),l(),d(167,"li"),u(168,"Audio is muted by default; you may enable it. You can play, pause, or close the video at any time."),l()()(),d(169,"li")(170,"b"),u(171,"Breadcrumb and Follow-Up Questions"),l(),g(172,"br"),d(173,"ul",56)(174,"li"),u(175,"The "),d(176,"b"),u(177,"breadcrumb"),l(),u(178," shows the learning path (Topic ? Chapter ? Section ? Page). Clicking a level focuses the practice on that part."),l(),d(179,"li")(180,"b"),u(181,"Predefined follow-up questions"),l(),u(182," appear below the main set. They come from the same syllabus section and guide the next step (e.g., identification, transformation, short explanation)."),l(),d(183,"li"),u(184,"As answers are submitted, the follow-ups adjust to reinforce areas that need more practice."),l()()(),d(185,"li")(186,"b"),u(187,"Out-of-Syllabus Control"),l(),g(188,"br"),d(189,"ul",56)(190,"li"),u(191,"If a learner asks about a topic that is not part of the predefined syllabus, the system shows: \u201CThis topic is out of syllabus.\u201D"),l(),d(192,"li"),u(193,"Only administrators can decide whether such questions may be answered using other sources."),l(),d(194,"li"),u(195,"This keeps practice within approved lessons unless specific permission is given."),l()()(),d(196,"li")(197,"b"),u(198,"Level Progress and Progress Bar"),l(),g(199,"br"),d(200,"ul",56)(201,"li"),u(202,"The module uses three levels: "),d(203,"b"),u(204,"Basic ? Intermediate ? Expert"),l(),u(205,"."),l(),d(206,"li"),u(207,"A "),d(208,"b"),u(209,"progress bar"),l(),u(210," with level markers shows the current level and the remaining path."),l(),d(211,"li"),u(212,"Clear labels and gentle animations help children track progress."),l()()(),d(213,"li")(214,"b"),u(215,"Moving to the Next Level"),l(),g(216,"br"),d(217,"ul",56)(218,"li"),u(219,"When all "),d(220,"b"),u(221,"questions"),l(),u(222," in a level are correct, a message and a short countdown appear."),l(),d(223,"li"),u(224,"The module then advances to the next level and updates the progress bar."),l(),d(225,"li"),u(226,"Difficulty increases gradually to build mastery step by step."),l()()(),d(227,"li")(228,"b"),u(229,"Celebrate Success"),l(),g(230,"br"),d(231,"ul",56)(232,"li"),u(233,"After completing all three levels, a "),d(234,"b"),u(235,"celebration"),l(),u(236," screen appears."),l(),d(237,"li"),u(238,"Learners can click "),d(239,"b"),u(240,"Start Over"),l(),u(241," to practise the same topic again or choose a new topic."),l()()(),d(242,"li")(243,"b"),u(244,"Reset or Change Topic"),l(),g(245,"br"),d(246,"ul",56)(247,"li"),u(248,"Use "),d(249,"b"),u(250,"Reset"),l(),u(251," to clear the current session and unlock the topic field."),l(),d(252,"li"),u(253,"Enter a new topic or select another suggestion to begin a new practice set."),l()()(),d(254,"li")(255,"b"),u(256,"Accessibility and Layout"),l(),g(257,"br"),d(258,"ul",56)(259,"li"),u(260,"Countdowns and status messages are written clearly so learners understand what is happening."),l(),d(261,"li"),u(262,"The layout adapts to different screens. Buttons and inputs are sized for comfortable tapping and clicking."),l()()(),d(263,"li")(264,"b"),u(265,"Troubleshooting"),l(),g(266,"br"),d(267,"ul",56)(268,"li")(269,"b"),u(270,"Invalid topic message:"),l(),u(271," Enter a clear grammar term (e.g., "),d(272,"i"),u(273,"articles"),l(),u(274,", "),d(275,"i"),u(276,"comparatives"),l(),u(277,", "),d(278,"i"),u(279,"passive voice"),l(),u(280,")."),l(),d(281,"li")(282,"b"),u(283,"Out of syllabus:"),l(),u(284," Choose a topic that appears in the syllabus list or ask an administrator about permission for extra topics."),l(),d(285,"li")(286,"b"),u(287,"Buttons disabled:"),l(),u(288," The "),d(289,"i"),u(290,"Generate"),l(),u(291," button appears after entering a valid topic; the "),d(292,"i"),u(293,"Validate"),l(),u(294," button appears after all blanks are filled."),l()()(),d(295,"li")(296,"b"),u(297,"Benefits for Children"),l(),g(298,"br"),d(299,"ul",56)(300,"li")(301,"b"),u(302,"Guided practice"),l(),u(303," with clear feedback builds confidence and accuracy."),l(),d(304,"li")(305,"b"),u(306,"Level-based progression"),l(),u(307," supports steady growth from basic understanding to higher skills."),l(),d(308,"li")(309,"b"),u(310,"Hints and teacher coaching"),l(),u(311," help learners correct mistakes and understand rules in simple language."),l(),d(312,"li")(313,"b"),u(314,"Predefined syllabus alignment"),l(),u(315," keeps practice consistent with classroom lessons."),l()()()(),Ve())}function Lk(e,n){e&1&&(Le(0),d(1,"ul",55)(2,"li")(3,"b"),u(4,"Feature Currently Disabled"),l(),g(5,"br"),d(6,"ul",56)(7,"li"),u(8,"The Voice feature is currently under development and will be available soon."),l(),d(9,"li"),u(10,"Please check back later or contact support for more information."),l()()()(),Ve())}function Vk(e,n){e&1&&(Le(0),d(1,"ul",55)(2,"li")(3,"b"),u(4,"Feature Currently Disabled"),l(),g(5,"br"),d(6,"ul",56)(7,"li"),u(8,"The Find Word feature is currently under development and will be available soon."),l(),d(9,"li"),u(10,"Please check back later or contact support for more information."),l()()()(),Ve())}function jk(e,n){e&1&&ki(0)}function Bk(e,n){e&1&&ki(0)}function Uk(e,n){e&1&&ki(0)}function $k(e,n){e&1&&ki(0)}function Hk(e,n){e&1&&ki(0)}function zk(e,n){if(e&1){let t=W();d(0,"div")(1,"div",50),M("click",function(){A(t);let r=D();return O(r.closeGuidePopup())}),l(),d(2,"div",51)(3,"button",52),M("click",function(){A(t);let r=D();return O(r.closeGuidePopup())}),u(4,"\xD7"),l(),Le(5,53),L(6,Nk,125,0,"ng-container",54)(7,Fk,316,0,"ng-container",54)(8,Lk,11,0,"ng-container",54)(9,Vk,11,0,"ng-container",54)(10,jk,1,0,"ng-container",54)(11,Bk,1,0,"ng-container",54)(12,Uk,1,0,"ng-container",54)(13,$k,1,0,"ng-container",54)(14,Hk,1,0,"ng-container",54),Ve(),l()()}if(e&2){let t=D();m(5),b("ngSwitch",t.selectedCardTitle),m(),b("ngSwitchCase","Grammar Chat"),m(),b("ngSwitchCase","Grammar Quiz"),m(),b("ngSwitchCase","Voice"),m(),b("ngSwitchCase","Find Word"),m(),b("ngSwitchCase","Grammar Quiz"),m(),b("ngSwitchCase","Listening"),m(),b("ngSwitchCase","Reading"),m(),b("ngSwitchCase","Writing"),m(),b("ngSwitchCase","Vocabulary Builder")}}var lp=(()=>{class e{constructor(t,i,r,o,s){this.router=t,this.authService=i,this.host=r,this.brand=o,this.dialog=s,this.menuOpen=!1,this.showGuidePopup=!1,this.selectedCardTitle=null,this.showAccountMenu=!1,this.showPrivacyPopup=!1,this.showTermsPopup=!1,this.isAuthenticated=!1,this.username=null,this.cards=[{title:"Grammar Chat",image:"assets/images/home/Grammar_chat.png",action:()=>this.goToChat(),disabled:!1},{title:"Voice",image:"assets/images/home/voice.png",action:()=>this.goToVoice(),disabled:!0},{title:"Find Word",image:"assets/images/home/find_word.png",action:()=>this.goToFindword(),disabled:!0}]}ngOnInit(){this.isAuthenticated=this.authService.isLoggedIn(),this.username=localStorage.getItem("username"),this.authSub=this.authService.isLoggedIn$.subscribe(t=>{this.isAuthenticated=t,this.username=t?localStorage.getItem("username"):null,t||(this.showAccountMenu=!1)})}ngAfterViewInit(){}ngOnDestroy(){this.authSub?.unsubscribe()}get usernameInitial(){return(this.username||"").trim().charAt(0).toUpperCase()||"U"}get displayName(){let t=this.username||"";return t?(t.includes("@")?t.split("@")[0]:t).replace(/\b\w/g,r=>r.toUpperCase()):""}get displayEmail(){return this.username||""}toggleAccountMenu(){this.showAccountMenu=!this.showAccountMenu}openAccountMenu(){this.showAccountMenu=!0}closeAccountMenu(){this.showAccountMenu=!1}onDocClick(t){this.host.nativeElement.contains(t.target)||(this.showAccountMenu=!1)}toggleMenu(){this.menuOpen=!this.menuOpen}reloadPage(){window.location.href="/"}goToChat(){this.router.navigate(["/chat"])}goToVoice(){console.log("Voice feature is currently disabled")}goToFindword(){console.log("Find Word feature is currently disabled")}goToDetails(t){this.router.navigate(["/details"],{queryParams:{topic:t}})}handleCardAction(t){t.disabled||t.action()}openGuidePopup(t){this.selectedCardTitle=t,this.showGuidePopup=!0}closeGuidePopup(){this.showGuidePopup=!1,this.selectedCardTitle=null}goToAccount(){this.router.navigate(["/home"]),this.showAccountMenu=!1}logout(){this.authService.logout().subscribe({next:()=>{localStorage.removeItem("username"),this.showAccountMenu=!1,this.router.navigate(["/login"])},error:()=>{localStorage.removeItem("username"),this.showAccountMenu=!1,this.router.navigate(["/login"])}})}openPrivacyPopup(t){t.preventDefault(),this.showPrivacyPopup=!0}closePrivacyPopup(){this.showPrivacyPopup=!1}openTermsPopup(t){t.preventDefault(),this.showTermsPopup=!0}closeTermsPopup(){this.showTermsPopup=!1}openPronunciation(){let t=this.dialog.open(db,{width:"90vw",maxWidth:"95vw",height:"85vh",disableClose:!0})}static{this.\u0275fac=function(i){return new(i||e)(C(Ke),C(ui),C(ae),C(yn),C(ap))}}static{this.\u0275cmp=_e({type:e,selectors:[["app-home"]],hostBindings:function(i,r){i&1&&M("click",function(s){return r.onDocClick(s)},!1,rc)},decls:80,vars:7,consts:[["loginIcon",""],[1,"hero"],[1,"navbar"],[1,"navbar-container"],[1,"logo"],[3,"click","src","alt"],[1,"nav-links"],[1,"main-menu-dropdown"],["href","#","aria-haspopup","true","aria-expanded","false",1,"nav-link",3,"click"],[1,"fas","fa-caret-down"],[1,"submenu"],["routerLink","/chat/1","role","button","aria-pressed","false"],["routerLink","/chat/2","role","button","aria-pressed","false"],["routerLink","/staticchat","role","button","aria-pressed","false"],["routerLink","/generate-questions","routerLinkActive","active-link",1,"nav-link--disabled"],["routerLink","/voice","routerLinkActive","active-link",1,"nav-link--disabled"],["routerLink","/listen","routerLinkActive","active-link",1,"nav-link--disabled"],["routerLink","/reading","routerLinkActive","active-link",1,"nav-link--disabled"],["routerLink","/writing","routerLinkActive","active-link",1,"nav-link--disabled"],["routerLink","/vocabulary-builder","routerLinkActive","active-link",1,"nav-link--disabled"],["routerLink","/findword","routerLinkActive","active-link",1,"nav-link--disabled"],["href","#","role","button","aria-pressed","false",3,"click"],["routerLink","/personality-improvement","routerLinkActive","active-link",1,"nav-link--disabled"],["routerLink","/body-language-improvement","routerLinkActive","active-link",1,"nav-link--disabled"],[1,"nav-actions"],[4,"ngIf","ngIfElse"],[1,"hero-text"],[1,"cards-section"],[1,"section-title"],[1,"highlight"],[1,"cards-container"],["class","card","role","button",3,"card--disabled","tabindex","click","keydown.enter","keydown.space",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"avatar",3,"click"],["class","account-menu",3,"mouseleave",4,"ngIf"],[1,"account-menu",3,"mouseleave"],[1,"account-header"],[1,"avatar","avatar-lg"],[1,"account-meta"],[1,"account-name"],[1,"account-email"],[1,"account-item",3,"click"],["routerLink","/login","aria-label","Login",1,"login-button"],[1,"fas","fa-user"],["role","button",1,"card",3,"click","keydown.enter","keydown.space","tabindex"],[1,"card-image"],[3,"src","alt"],[1,"card-content"],[1,"card-buttons"],[1,"know-more-btn",3,"click","disabled"],[1,"user-guide-overlay",3,"click"],["role","dialog","aria-modal","true",1,"user-guide-modal"],["aria-label","Close",1,"user-guide-close-icon",3,"click"],[3,"ngSwitch"],[4,"ngSwitchCase"],[2,"text-align","justify","font-size","15px"],[2,"list-style","unset","margin-left","1.25rem"]],template:function(i,r){if(i&1){let o=W();d(0,"div",1)(1,"nav",2)(2,"div",3)(3,"div",4)(4,"img",5),M("click",function(){return A(o),O(r.reloadPage())}),l()(),d(5,"ul",6)(6,"li",7)(7,"a",8),M("click",function(a){return A(o),O(a.preventDefault())}),u(8," Chat "),g(9,"i",9),l(),d(10,"ul",10)(11,"li")(12,"a",11),u(13," Chat D-ID "),l()(),d(14,"li")(15,"a",12),u(16," Chat KD Talker "),l()(),d(17,"li")(18,"a",13),u(19," Chat "),l()()()(),d(20,"li")(21,"a",14),u(22,"Grammar"),l()(),d(23,"li")(24,"a",15),u(25,"Voice"),l()(),d(26,"li")(27,"a",16),u(28,"Listening"),l()(),d(29,"li")(30,"a",17),u(31,"Reading"),l()(),d(32,"li")(33,"a",18),u(34,"Writing"),l()(),d(35,"li")(36,"a",19),u(37,"Vocabulary-Builder"),l()(),d(38,"li")(39,"a",20),u(40,"Find Word"),l()(),d(41,"li",7)(42,"a",8),M("click",function(a){return A(o),O(a.preventDefault())}),u(43," General "),g(44,"i",9),l(),d(45,"ul",10)(46,"li")(47,"a",21),M("click",function(a){return A(o),r.openPronunciation(),O(a.preventDefault())}),u(48," Pronunciation Trainer "),l()(),d(49,"li")(50,"a",22),u(51,"Personality Improvement"),l()(),d(52,"li")(53,"a",23),u(54,"Body Language Improvement"),l()()()()(),d(55,"div",24),L(56,kk,4,3,"ng-container",25)(57,Pk,2,1,"ng-template",null,0,On),l()()(),d(59,"div",26)(60,"h1"),u(61),l(),d(62,"h2"),u(63,"A Self-Learning System"),l(),d(64,"p"),u(65," It is a personalized self-learning system helps students to improve their language skills through interactive"),g(66,"br"),u(67,"and customized exercises. With engaging activities and instant feedback,"),g(68,"br"),u(69,"learning becomes easy and enjoyable! "),l()(),d(70,"section",27)(71,"h2",28),u(72," What would you like to "),d(73,"span",29),u(74,"learn"),l(),u(75," today? "),l(),d(76,"div",30),L(77,Rk,7,6,"div",31),l()(),L(78,zk,15,10,"div",32),l(),g(79,"app-footer")}if(i&2){let o=Yt(58);m(4),b("src",r.brand.logo,ie)("alt",r.brand.name+" Logo"),m(52),b("ngIf",r.isAuthenticated&&r.username)("ngIfElse",o),m(5),Te(r.brand.name),m(16),b("ngForOf",r.cards),m(),b("ngIf",r.showGuidePopup)}},dependencies:[Er,bt,Po,Pc,ai,by,Rl],styles:[".hero[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;position:relative}.hero-text[_ngcontent-%COMP%]{color:#fff;text-align:left;height:100vh;display:flex;flex-direction:column;justify-content:center;padding-left:1vw;background-image:url(/assets/images/home/background.png);background-repeat:no-repeat;background-position:center center;background-size:cover;position:relative;top:5vw;padding-bottom:5vw}h1[_ngcontent-%COMP%]{font-size:7vw;font-family:Amonk_Outline;margin-bottom:3vw}.hero-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5vw;font-weight:600;color:#0f0}.hero-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1vw;line-height:1.5vw}.navbar[_ngcontent-%COMP%]{background-color:#fff;box-shadow:0 2px 4px #0000001a;position:fixed;font-size:1vw;width:100%;z-index:1000}.navbar-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0vw 1vw}.logo[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1vw}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:5vw;width:auto;cursor:pointer}.logo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.5vw;font-weight:700;color:#007bff}.nav-links[_ngcontent-%COMP%]{display:flex;gap:2vw;list-style:none;margin:0;padding:0;flex:1;justify-content:center}.nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{text-decoration:none;color:#333;font-size:1.5vw;font-weight:700}.nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover, .nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#007bff}.nav-link--disabled[_ngcontent-%COMP%]{opacity:.6;cursor:not-allowed;pointer-events:none}.login-button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;width:2.4vw;height:2.4vw;border-radius:50%;border:2px solid #006780;color:#006780;background:#fff;font-size:1.2vw;text-decoration:none;transition:background .2s,color .2s,transform .2s,box-shadow .2s;box-shadow:0 2px 8px #5d91c31f}.login-button[_ngcontent-%COMP%]:hover{background:#006780;color:#fff;transform:translateY(-1px) scale(1.05);box-shadow:0 4px 16px #5d91c32e}.nav-actions[_ngcontent-%COMP%]{position:relative;padding-right:1.5vw}.avatar[_ngcontent-%COMP%]{width:2.4vw;height:2.4vw;min-width:32px;min-height:32px;border-radius:50%;background:#e6f2ff;border:2px solid #137ec4;color:#137ec4;display:inline-flex;align-items:center;justify-content:center;font-weight:800;cursor:pointer;box-shadow:0 2px 8px #5d91c31f}.avatar-lg[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:50%;background:#e6f2ff;border:2px solid #137ec4;color:#137ec4;display:inline-flex;align-items:center;justify-content:center;font-weight:800}.account-menu[_ngcontent-%COMP%]{position:absolute;top:3.2vw;right:0;min-width:260px;background:#fff;border-radius:12px;box-shadow:0 12px 24px #0000001f;padding:12px;z-index:1200}.account-header[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center;padding:6px 6px 10px}.account-meta[_ngcontent-%COMP%]{display:flex;flex-direction:column}.account-name[_ngcontent-%COMP%]{font-weight:800;color:#111827}.account-email[_ngcontent-%COMP%]{color:#6b7280;font-size:.9rem}.account-item[_ngcontent-%COMP%]{padding:10px;border-radius:8px;cursor:pointer;color:#111827}.account-item[_ngcontent-%COMP%]:hover{background:#f3f4f6}.account-menu[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin:8px 0;border:none;border-top:1px solid #e5e7eb}.card[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;box-shadow:0 4px 8px #0000001a;overflow:hidden;transition:transform .3s ease;width:100%;max-width:460px;margin:auto;cursor:pointer}.card[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.card--disabled[_ngcontent-%COMP%]{opacity:.6;cursor:not-allowed;pointer-events:none}.card--disabled[_ngcontent-%COMP%]:hover{transform:none}.card--disabled[_ngcontent-%COMP%]   .card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:grayscale(100%)}.card--disabled[_ngcontent-%COMP%]   .know-more-btn[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed;background-color:#ccc;border-color:#ccc;color:#666}.card--disabled[_ngcontent-%COMP%]   .know-more-btn[_ngcontent-%COMP%]:hover{background-color:#ccc;border-color:#ccc;color:#666;transform:none;box-shadow:none}.card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;display:block}.card-content[_ngcontent-%COMP%]{padding:1.5vw;text-align:left}.cards-section[_ngcontent-%COMP%]{text-align:center;padding:3vw 2vw;background-color:#f9f9f9;position:relative}.section-title[_ngcontent-%COMP%]{font-size:2.5vw;font-weight:700;margin-bottom:2vw}.cards-container[_ngcontent-%COMP%]{gap:3vw;justify-content:center;display:grid;grid-template-columns:repeat(3,1fr);margin:0 auto;width:80%}.card-buttons[_ngcontent-%COMP%]{display:flex;gap:1vw;margin-top:1vw;flex-wrap:nowrap;justify-content:center}.card-button[_ngcontent-%COMP%]{white-space:nowrap;padding:.5vw;font-size:1vw;font-weight:700;color:#007bff;background-color:transparent;border:2px solid #007bff;border-radius:5px;cursor:pointer;transition:all .3s ease}.card-button[_ngcontent-%COMP%]:hover{background-color:#007bff;color:#fff}.user-guide-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000059;z-index:2000}.user-guide-modal[_ngcontent-%COMP%]{position:fixed;top:52%;left:50%;transform:translate(-50%,-50%);height:38vw;width:50vw;background:linear-gradient(135deg,#fff 80%,#e3fcec);color:#222;box-shadow:0 12px 40px #5d91c338;border-radius:18px;padding:1vw;z-index:2001;overflow:visible;border:10px solid var(--main-accent-color);box-sizing:border-box}.user-guide-modal[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%], .user-guide-modal[_ngcontent-%COMP%] > ol[_ngcontent-%COMP%]{max-height:34.6vw;overflow-y:auto;padding-right:.5vw;margin:0}.user-guide-close-icon[_ngcontent-%COMP%]{top:-22px;right:-22px}.user-guide-modal[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:1.7;font-size:1.1vw;background:#5d91c312;padding:.5vw;box-shadow:0 2px 8px #5d91c30f}.user-guide-modal[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{color:#2b6296;font-size:1.15vw}@media (max-width: 600px){.user-guide-modal[_ngcontent-%COMP%]{width:90vw;height:60vw;border-radius:12px;padding:4vw 2vw 2vw}.user-guide-modal[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%], .user-guide-modal[_ngcontent-%COMP%] > ol[_ngcontent-%COMP%]{max-height:52vw;overflow-y:auto;padding-right:1.5vw}.user-guide-close-icon[_ngcontent-%COMP%]{font-size:6vw;top:2vw;right:2vw;width:6vw;height:6vw;display:flex;align-items:center;justify-content:center;line-height:1}.card-button[_ngcontent-%COMP%], .know-more-btn[_ngcontent-%COMP%]{font-size:2.8vw;padding:8px 12px}}.card-button[_ngcontent-%COMP%], .know-more-btn[_ngcontent-%COMP%]{padding:10px 18px;background:#006780;color:#fff;border:2px solid #006780;border-radius:8px;font-size:1vw;font-weight:700;cursor:pointer;margin:0 6px 6px 0;box-shadow:0 2px 8px #5d91c31f;transition:background .2s,box-shadow .2s,transform .2s,color .2s}.card-button[_ngcontent-%COMP%]:hover, .know-more-btn[_ngcontent-%COMP%]:hover{background:#fff;color:#006780;box-shadow:0 4px 16px #5d91c32e;transform:scale(1.05)}.privacy-popup-content[_ngcontent-%COMP%]{max-height:60vh;overflow-y:auto;padding-right:1vw}.main-menu-dropdown[_ngcontent-%COMP%]{position:relative}.main-menu-dropdown[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer}.main-menu-dropdown[_ngcontent-%COMP%]   .fas.fa-caret-down[_ngcontent-%COMP%]{margin-left:.5vw;font-size:1vw;transition:transform .2s}.main-menu-dropdown[_ngcontent-%COMP%]:hover   .fas.fa-caret-down[_ngcontent-%COMP%], .main-menu-dropdown[_ngcontent-%COMP%]:focus-within   .fas.fa-caret-down[_ngcontent-%COMP%]{transform:rotate(180deg)}.submenu[_ngcontent-%COMP%]{display:none;position:absolute;top:100%;left:50%;transform:translate(-50%);min-width:220px;background:#fff;box-shadow:0 8px 24px #0000001f;border-radius:8px;padding:.5vw 0;z-index:1100;list-style:none;white-space:nowrap}.main-menu-dropdown[_ngcontent-%COMP%]:hover   .submenu[_ngcontent-%COMP%], .main-menu-dropdown[_ngcontent-%COMP%]:focus-within   .submenu[_ngcontent-%COMP%]{display:block}.submenu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;padding:.7vw 1vw;color:#333;font-size:1.2vw;font-weight:600;text-decoration:none;border-radius:6px;transition:background .2s,color .2s}.submenu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .submenu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active-link[_ngcontent-%COMP%]{background:#e6f2ff;color:#137ec4}"]})}}return e})();function Gk(e,n){if(e&1&&(d(0,"div",56),u(1),l()),e&2){let t=D();b("@fadeInOut",void 0),m(),Oe(" ",t.errorMessage," ")}}function Wk(e,n){e&1&&(d(0,"small",57),u(1," Email or Username is required. "),l())}function qk(e,n){e&1&&(d(0,"small",57),u(1," Password is required. "),l())}function Yk(e,n){e&1&&(Le(0),u(1," Login "),Ve())}function Qk(e,n){e&1&&(g(0,"span",58),u(1," Logging in... "))}function Zk(e,n){if(e&1){let t=W();d(0,"div",59)(1,"div",60)(2,"h3"),u(3,"Forgot Password"),l(),d(4,"p"),u(5,"Enter your email to receive password reset instructions."),l(),d(6,"input",61),Mo("ngModelChange",function(r){A(t);let o=D();return hc(o.forgotEmail,r)||(o.forgotEmail=r),O(r)}),l(),d(7,"button",62),M("click",function(){A(t);let r=D();return O(r.sendPasswordReset())}),u(8,"Send Reset Link"),l(),d(9,"button",63),M("click",function(){A(t);let r=D();return O(r.closeForgotPasswordModal())}),u(10,"Close"),l()()()}if(e&2){let t=D();b("@fadeInOut",void 0),m(6),So("ngModel",t.forgotEmail)}}var ub=(()=>{class e{constructor(t,i,r,o,s){this.formBuilder=t,this.router=i,this.authService=r,this.changeDetectorRef=o,this.brandService=s,this.close=new oe,this.isLoading=!1,this.isSubmitted=!1,this.showPassword=!1,this.errorMessage="",this.showForgotModal=!1,this.forgotEmail="",this.destroy$=new z,this.REDIRECT_URL_KEY="redirectAfterLogin",this.DEFAULT_REDIRECT="/home",this.learningFacts=["Master grammar with adaptive quizzes","Improve reading with AI-generated passages","Train listening and pronunciation effectively"],this.signInForm=this.createSignInForm()}ngOnInit(){this.initializeComponent()}ngOnDestroy(){this.cleanup()}onSubmit(){if(this.isSubmitted=!0,this.signInForm.markAllAsTouched(),this.signInForm.invalid){this.focusFirstInvalidField();return}this.performSignIn()}togglePasswordVisibility(){this.showPassword=!this.showPassword}openForgotPasswordModal(t){t.preventDefault(),this.showForgotModal=!0}closeForgotPasswordModal(){this.showForgotModal=!1,this.forgotEmail=""}sendPasswordReset(){!this.forgotEmail||!this.isValidEmail(this.forgotEmail)||(this.showSuccessMessage("Password reset link sent to your email"),this.closeForgotPasswordModal())}closeComponent(){this.router.navigate([this.DEFAULT_REDIRECT]),this.close.emit()}get emailControl(){return this.signInForm.get("email")}get passwordControl(){return this.signInForm.get("password")}get isFormValid(){return this.signInForm.valid}get socialLinks(){return this.brandService.socialLinksCurrent}get websiteDisplay(){return"www."+this.socialLinks.website.replace(/^https?:\/\/(www\.)?/,"")}createSignInForm(){return this.formBuilder.group({email:["",[jn.required,jn.minLength(3)]],password:["",[jn.required,jn.minLength(6)]],rememberMe:[!1]})}initializeComponent(){this.clearErrorMessage(),this.authService.isLoggedIn()&&this.navigateToRedirectUrl()}performSignIn(){let t={username:this.emailControl?.value?.trim()||"",password:this.passwordControl?.value||""};this.setLoadingState(!0),this.clearErrorMessage(),this.authService.login(t).pipe(dt(this.destroy$),lt(()=>this.setLoadingState(!1))).subscribe({next:()=>this.handleSignInSuccess(t.username),error:i=>this.handleSignInError(i)})}handleSignInSuccess(t){this.showSuccessMessage("Sign in successful"),this.navigateToRedirectUrl()}handleSignInError(t){this.errorMessage=t.message||"Sign in failed. Please try again.",this.changeDetectorRef.markForCheck(),setTimeout(()=>{this.clearErrorMessage()},5e3)}navigateToRedirectUrl(){let t=localStorage.getItem(this.REDIRECT_URL_KEY);this.isValidRedirectUrl(t)||(t=this.DEFAULT_REDIRECT),localStorage.removeItem(this.REDIRECT_URL_KEY),this.router.navigate([t])}isValidRedirectUrl(t){return!(!t||t.trim()===""||!t.startsWith("/")||t.includes("..")||t.startsWith("//"))}setLoadingState(t){this.isLoading=t,this.changeDetectorRef.markForCheck()}clearErrorMessage(){this.errorMessage="",this.changeDetectorRef.markForCheck()}showSuccessMessage(t){console.log(t)}focusFirstInvalidField(){setTimeout(()=>{document.querySelector(".ng-invalid")?.focus()},0)}isValidEmail(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}cleanup(){this.destroy$.next(),this.destroy$.complete()}triggerSignIn(){this.onSubmit()}get authStatus$(){return this.authService.isLoggedIn$}get isAuthenticated(){return this.authService.isLoggedIn()}static{this.\u0275fac=function(i){return new(i||e)(C(nl),C(Ke),C(ui),C(Ue),C(yn))}}static{this.\u0275cmp=_e({type:e,selectors:[["app-sign-in"]],outputs:{close:"close"},standalone:!0,features:[je],decls:73,vars:29,consts:[["loggingIn",""],[1,"signin-popup","ai-bg-animate"],["aria-hidden","true",1,"ai-particle-bg"],["role","banner",1,"signin-brand-logo"],["routerLink","/",1,"brand-link"],[1,"brand-logo-img",3,"src","alt"],[1,"social-icons","signin-social-icons"],["target","_blank","rel","noopener noreferrer","aria-label","LinkedIn",1,"social-icon","linkedin",3,"href"],["aria-hidden","true",1,"fab","fa-linkedin-in"],["target","_blank","rel","noopener noreferrer","aria-label","YouTube",1,"social-icon","youtube",3,"href"],["aria-hidden","true",1,"fab","fa-youtube"],["target","_blank","rel","noopener noreferrer","aria-label","Facebook",1,"social-icon","facebook",3,"href"],["aria-hidden","true",1,"fab","fa-facebook-f"],["target","_blank","rel","noopener noreferrer","aria-label","Instagram",1,"social-icon","instagram",3,"href"],["aria-hidden","true",1,"fab","fa-instagram"],["target","_blank","rel","noopener noreferrer","aria-label","Website",1,"social-icon","website",3,"href"],["aria-hidden","true",1,"fas","fa-globe"],[1,"signin-header"],[1,"auth-card"],[1,"card-inner"],[1,"card-front"],[1,"card-content"],[1,"side-panel","side-left"],["src","assets/images/login/lion.png","alt","Lion",1,"side-img"],[1,"side-welcome-overlay"],[1,"welcome-back-title"],[1,"welcome-back-desc"],[1,"main-panel"],[1,"logo-header"],[1,"py-learn-text"],[1,"self-learning-system"],["type","button","aria-label","Close",1,"signin-close",3,"click"],[1,"signin-title"],[1,"login-text"],["class","signin-error-toast","role","alert",4,"ngIf"],["novalidate","",3,"ngSubmit","formGroup"],[1,"signin-row"],[1,"signin-field"],["for","email"],["id","email","type","email","placeholder","you@example.com","formControlName","email"],["class","error",4,"ngIf"],["for","password"],[1,"input-with-icon"],["id","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","formControlName","password",3,"type"],["type","button",1,"eye-toggle",3,"click"],[1,"signin-row","signin-options-row"],[1,"remember-me"],[1,"switch"],["id","rememberMe","type","checkbox","formControlName","rememberMe"],[1,"slider"],[1,"forgot-password"],["href","#",1,"forgot-link",3,"click"],["type","submit",1,"signin-btn","ai-pulse",3,"disabled"],[4,"ngIf","ngIfElse"],["class","forgot-modal-bg",4,"ngIf"],["target","_blank","rel","noopener noreferrer",1,"signin-watermark",3,"href"],["role","alert",1,"signin-error-toast"],[1,"error"],[1,"spinner"],[1,"forgot-modal-bg"],[1,"forgot-modal"],["type","email","placeholder","Your email",3,"ngModelChange","ngModel"],[1,"signin-btn",3,"click"],[1,"modal-close",3,"click"]],template:function(i,r){if(i&1){let o=W();d(0,"section",1),g(1,"div",2),d(2,"div",3)(3,"a",4),g(4,"img",5),l()(),d(5,"div",6)(6,"a",7),g(7,"i",8),l(),d(8,"a",9),g(9,"i",10),l(),d(10,"a",11),g(11,"i",12),l(),d(12,"a",13),g(13,"i",14),l(),d(14,"a",15),g(15,"i",16),l()(),g(16,"div",17),d(17,"div",18)(18,"div",19)(19,"div",20)(20,"div",21)(21,"div",22),g(22,"img",23),d(23,"div",24)(24,"div",25),u(25,"Welcome Back!"),l(),d(26,"div",26),u(27,"Sign in to continue your learning journey."),l()()(),d(28,"div",27)(29,"div",28)(30,"span",29),u(31),l(),d(32,"div",30),u(33,"(A Self-Learning System)"),l()(),d(34,"button",31),M("click",function(){return A(o),O(r.closeComponent())}),u(35,"\xD7"),l(),d(36,"h2",32)(37,"span",33),u(38,"Login"),l()(),L(39,Gk,2,2,"div",34),d(40,"form",35),M("ngSubmit",function(){return A(o),O(r.onSubmit())}),d(41,"div",36)(42,"div",37)(43,"label",38),u(44,"Email or Username"),l(),g(45,"input",39),L(46,Wk,2,0,"small",40),l()(),d(47,"div",36)(48,"div",37)(49,"label",41),u(50,"Password"),l(),d(51,"div",42),g(52,"input",43),d(53,"button",44),M("click",function(){return A(o),O(r.togglePasswordVisibility())}),u(54),l()(),L(55,qk,2,0,"small",40),l()(),d(56,"div",45)(57,"div",46)(58,"label",47),g(59,"input",48)(60,"span",49),l(),d(61,"span"),u(62,"Remember me"),l()(),d(63,"div",50)(64,"a",51),M("click",function(a){return A(o),O(r.openForgotPasswordModal(a))}),u(65,"Forgot password?"),l()()(),d(66,"button",52),L(67,Yk,2,0,"ng-container",53)(68,Qk,2,0,"ng-template",null,0,On),l()()()()()()(),L(70,Zk,11,2,"div",54),d(71,"a",55),u(72),l()()}if(i&2){let o=Yt(69);m(3),he("aria-label",r.brandService.name+" Home"),m(),b("src",r.brandService.logo,ie)("alt",r.brandService.name+" Logo"),m(2),b("href",r.socialLinks.linkedin,ie),m(2),b("href",r.socialLinks.youtube,ie),m(2),b("href",r.socialLinks.facebook,ie),m(2),b("href",r.socialLinks.instagram,ie),m(2),b("href",r.socialLinks.website,ie),m(17),Te(r.brandService.name),m(8),b("ngIf",r.errorMessage),m(),b("formGroup",r.signInForm),m(5),ge("invalid",r.isSubmitted&&(r.emailControl==null?null:r.emailControl.invalid)),he("aria-invalid",r.isSubmitted&&(r.emailControl==null?null:r.emailControl.invalid)),m(),b("ngIf",r.isSubmitted&&(r.emailControl==null||r.emailControl.errors==null?null:r.emailControl.errors.required)),m(6),ge("invalid",r.isSubmitted&&(r.passwordControl==null?null:r.passwordControl.invalid)),b("type",r.showPassword?"text":"password"),he("aria-invalid",r.isSubmitted&&(r.passwordControl==null?null:r.passwordControl.invalid)),m(),he("aria-label",r.showPassword?"Hide password":"Show password")("aria-pressed",r.showPassword),m(),Oe(" ",r.showPassword?"\u{1F648}":"\u{1F441}\uFE0F"," "),m(),b("ngIf",r.isSubmitted&&(r.passwordControl==null||r.passwordControl.errors==null?null:r.passwordControl.errors.required)),m(11),b("disabled",r.isLoading),m(),b("ngIf",!r.isLoading)("ngIfElse",o),m(3),b("ngIf",r.showForgotModal),m(),b("href",r.socialLinks.website,ie),m(),Oe(" ",r.websiteDisplay," ")}},dependencies:[wt,bt,il,tl,ii,Uh,Ar,Kc,Wo,qo,Or,Go,ai],styles:['.signin-popup[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:1000;background:#05234b;-webkit-backdrop-filter:blur(16px);backdrop-filter:blur(16px)}.ai-bg-animate[_ngcontent-%COMP%]{background:linear-gradient(135deg,#05234b,#0f3460,#1a4b7a,#05234b,#0a2d54);background-size:400% 400%;animation:_ngcontent-%COMP%_aiGradientShift 8s ease-in-out infinite}@keyframes _ngcontent-%COMP%_aiGradientShift{0%{background-position:0% 50%}50%{background-position:100% 50%}to{background-position:0% 50%}}.ai-particle-bg[_ngcontent-%COMP%]{position:absolute;inset:0;overflow:hidden;pointer-events:none}.ai-particle-bg[_ngcontent-%COMP%]:before{content:"";position:absolute;width:100%;height:100%;background-image:radial-gradient(2px 2px at 20px 30px,rgba(255,255,255,.1),transparent),radial-gradient(2px 2px at 40px 70px,rgba(56,189,248,.1),transparent),radial-gradient(1px 1px at 90px 40px,rgba(255,255,255,.1),transparent);background-size:100px 80px,120px 90px,110px 100px;animation:_ngcontent-%COMP%_aiParticles 20s linear infinite}@keyframes _ngcontent-%COMP%_aiParticles{0%{transform:translate(0)}to{transform:translate(-100px,-100px)}}.ai-pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_aiPulse 2s ease-in-out infinite}@keyframes _ngcontent-%COMP%_aiPulse{0%{box-shadow:0 0 #38bdf866}70%{box-shadow:0 0 0 10px #38bdf800}to{box-shadow:0 0 #38bdf800}}.signin-title[_ngcontent-%COMP%]{color:#38bdf8;font-size:2.1rem;font-weight:800;margin-bottom:12px;text-align:center;letter-spacing:1px;text-shadow:0 2px 8px #0008}form[_ngcontent-%COMP%]{width:100%}.signin-row[_ngcontent-%COMP%]{display:flex;gap:24px;margin-bottom:18px}.signin-field[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.signin-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff;font-weight:600;margin-bottom:6px;font-size:1rem;letter-spacing:.5px}.signin-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:#fff;color:#18314a;border:none;border-radius:8px;padding:12px 14px;font-size:1rem;margin-bottom:2px;box-shadow:0 1px 4px #0002;transition:border .2s,box-shadow .2s}.signin-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:2px solid #1de9b6;border-color:#1de9b6;box-shadow:0 0 0 2px #1de9b688}.signin-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#b0b8c1;opacity:1}.signin-field[_ngcontent-%COMP%]   small.error[_ngcontent-%COMP%]{color:#ff5252;font-size:.85rem;margin-top:4px}.signin-options-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2vw;margin-top:-8px}.remember-me[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-size:1rem;color:#b0b8c1}.remember-me[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{accent-color:#38bdf8;width:16px;height:16px}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:48px;height:24px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#ccc;transition:.4s;border-radius:24px}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:18px;width:18px;left:3px;bottom:3px;background-color:#fff;transition:.4s;border-radius:50%}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#38bdf8}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(24px)}.forgot-password[_ngcontent-%COMP%]{font-size:1rem}.forgot-link[_ngcontent-%COMP%]{color:#38bdf8;text-decoration:underline;font-weight:500;cursor:pointer}.signin-btn[_ngcontent-%COMP%]{width:100%;background:#18314a;color:#fff;border:none;border-radius:8px;padding:14px 0;font-size:1.1rem;font-weight:700;margin-bottom:18px;cursor:pointer;transition:background .2s,color .2s}.signin-btn[_ngcontent-%COMP%]:hover{background:#38bdf8}.signin-footer[_ngcontent-%COMP%]{color:#b0b8c1;font-size:.95rem;text-align:center;margin-top:8px}.signin-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#38bdf8;text-decoration:underline;margin-left:4px;font-weight:600;cursor:pointer}.signin-close[_ngcontent-%COMP%]{position:absolute;top:18px;right:18px;width:38px;height:38px;border:none;background:#14263c;color:#fff;border-radius:50%;font-size:2rem;font-weight:700;display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:10;transition:background .2s,color .2s;box-shadow:0 2px 8px #0005}.signin-close[_ngcontent-%COMP%]:hover{background:#38bdf8;color:#18314a}.spinner[_ngcontent-%COMP%]{display:inline-block;width:18px;height:18px;border:3px solid #fff;border-top:3px solid #38bdf8;border-radius:50%;animation:_ngcontent-%COMP%_spin .7s linear infinite;vertical-align:middle;margin-right:8px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.signin-error-toast[_ngcontent-%COMP%]{background:transparent;color:#ff5252;font-weight:700;border-radius:8px;border:1px solid #ff5252;padding:8px 18px;margin:12px 0;text-align:center;animation:_ngcontent-%COMP%_shakeError .3s cubic-bezier(.39,.58,.57,1)}@keyframes _ngcontent-%COMP%_shakeError{0%{transform:translate(0)}20%{transform:translate(-8px)}40%{transform:translate(8px)}60%{transform:translate(-8px)}80%{transform:translate(8px)}to{transform:translate(0)}}.forgot-modal-bg[_ngcontent-%COMP%]{position:fixed;inset:0;background:#1e293be6;z-index:2000;display:flex;align-items:center;justify-content:center;animation:_ngcontent-%COMP%_fadeInModalBg .4s}@keyframes _ngcontent-%COMP%_fadeInModalBg{0%{opacity:0}to{opacity:1}}.forgot-modal[_ngcontent-%COMP%]{background:#fff;border-radius:18px;box-shadow:0 8px 32px #38bdf844,0 0 24px #1e293b88;padding:32px 36px 28px;min-width:320px;max-width:90vw;text-align:center;z-index:2001;display:flex;flex-direction:column;align-items:center;animation:_ngcontent-%COMP%_fadeInModal .4s}@keyframes _ngcontent-%COMP%_fadeInModal{0%{opacity:0;transform:scale(.98)}to{opacity:1;transform:scale(1)}}.forgot-modal[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#38bdf8;margin:12px 0 8px;font-size:1.4em;font-weight:700}.forgot-modal[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#23272b;font-size:1.08em;margin-bottom:18px}.forgot-modal[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{background:#f4f6fa;color:#18314a;border:none;border-radius:8px;padding:12px 14px;font-size:1rem;margin-bottom:12px;box-shadow:0 1px 4px #0002;width:100%}.modal-close[_ngcontent-%COMP%]{width:23%;background:#18314a;color:#fff;border:none;border-radius:8px;padding:14px 0;font-size:1.1rem;font-weight:700;margin-bottom:0;cursor:pointer;transition:background .2s,color .2s;display:block}.modal-close[_ngcontent-%COMP%]:hover{background:#38bdf8;color:#18314a}.eye-toggle[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);background:none;border:none;font-size:1.3em;color:#888;cursor:pointer;z-index:2;padding:0;line-height:1;opacity:.7;transition:color .2s,opacity .2s}#password[_ngcontent-%COMP%]{padding-right:40px}.auth-card[_ngcontent-%COMP%]{width:1140px;height:700px;perspective:none;overflow:hidden;border-radius:12px;box-shadow:0 8px 24px #0000001f,#fff 1px 1px 51px;margin:0 auto}.card-inner[_ngcontent-%COMP%]{width:200%;height:100%;display:flex;transition:transform .7s cubic-bezier(.22,.9,.32,1);will-change:transform}.auth-card.flipped[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]{transform:translate3d(-50%,0,0)}.auth-card[_ngcontent-%COMP%]:not(.flipped)   .card-inner[_ngcontent-%COMP%]{transform:translateZ(0)}.card-front[_ngcontent-%COMP%]   .main-panel[_ngcontent-%COMP%], .card-back[_ngcontent-%COMP%]   .main-panel[_ngcontent-%COMP%]{transition:opacity 1s ease .15s}.card-front[aria-hidden=true][_ngcontent-%COMP%]   .main-panel[_ngcontent-%COMP%], .card-back[aria-hidden=true][_ngcontent-%COMP%]   .main-panel[_ngcontent-%COMP%]{opacity:0}.card-front[aria-hidden=false][_ngcontent-%COMP%]   .main-panel[_ngcontent-%COMP%], .card-back[aria-hidden=false][_ngcontent-%COMP%]   .main-panel[_ngcontent-%COMP%]{opacity:1}.card-front[_ngcontent-%COMP%], .card-back[_ngcontent-%COMP%]{width:50%;height:100%;flex:0 0 50%;box-sizing:border-box;position:relative;overflow:hidden}.card-content[_ngcontent-%COMP%]{display:flex;height:100%;flex-direction:row-reverse}.side-panel[_ngcontent-%COMP%]{width:48%;display:flex;align-items:center;justify-content:center}.main-panel[_ngcontent-%COMP%]{width:55%;padding:48px;box-sizing:border-box;background:#fff;overflow:visible;display:flex;flex-direction:column;align-items:center}.logo-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;margin-bottom:8px}.py-learn-text[_ngcontent-%COMP%]{font-size:3vw;font-weight:600;color:#073879;font-family:Amonk_Outline;margin-bottom:1vw}.self-learning-system[_ngcontent-%COMP%]{font-size:1.2vw;font-weight:bolder;color:#073879;margin-top:-.8vw}.card-front[_ngcontent-%COMP%]   .main-panel[_ngcontent-%COMP%]   .signin-title[_ngcontent-%COMP%], .card-back[_ngcontent-%COMP%]   .main-panel[_ngcontent-%COMP%]   .signup-title[_ngcontent-%COMP%]{color:#222}@media (max-width: 900px){.auth-card[_ngcontent-%COMP%]{width:92vw;height:auto}.card-inner[_ngcontent-%COMP%]{width:200%}.card-content[_ngcontent-%COMP%]{flex-direction:column}.side-panel[_ngcontent-%COMP%]{width:100%;height:200px}.main-panel[_ngcontent-%COMP%]{width:100%;overflow:visible}}.card-front[aria-hidden=true][_ngcontent-%COMP%], .card-back[aria-hidden=true][_ngcontent-%COMP%]{pointer-events:none}.side-panel.side-right[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1d608b 0% 100%)}.side-info-box[_ngcontent-%COMP%]{position:absolute;top:164px;left:0;width:88%;padding:0 32px;z-index:2;text-align:left}.side-panel[_ngcontent-%COMP%]{position:relative}.card-front[_ngcontent-%COMP%]   .main-panel[_ngcontent-%COMP%], .card-front[_ngcontent-%COMP%]   .main-panel[_ngcontent-%COMP%]   .signin-title[_ngcontent-%COMP%], .card-front[_ngcontent-%COMP%]   .main-panel[_ngcontent-%COMP%]   .signin-footer[_ngcontent-%COMP%], .card-front[_ngcontent-%COMP%]   .main-panel[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .card-front[_ngcontent-%COMP%]   .main-panel[_ngcontent-%COMP%]   .signin-field[_ngcontent-%COMP%]   small[_ngcontent-%COMP%], .card-front[_ngcontent-%COMP%]   .main-panel[_ngcontent-%COMP%]   .signin-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#23395d!important}.card-front[_ngcontent-%COMP%]   .main-panel[_ngcontent-%COMP%]   .signin-field[_ngcontent-%COMP%]   small.error[_ngcontent-%COMP%]{color:#ff5252!important}.card-front[_ngcontent-%COMP%]   .main-panel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#0b57a4!important}.signin-divider-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;margin:12px 0 18px}.divider[_ngcontent-%COMP%]{flex:1;height:1px;background:#b0b8c1;margin:0 8px}.divider-or[_ngcontent-%COMP%]{color:#23395d;font-size:1.08em;font-weight:600;margin:0 8px}.google-btn[_ngcontent-%COMP%]{width:100%;height:45px;background:#18314a;color:#fff;border:none;border-radius:8px;padding:14px 0;font-size:1.1rem;font-weight:700;margin-bottom:18px;cursor:pointer;box-shadow:0 2px 8px #0003;display:flex;align-items:center;justify-content:center;gap:12px;transition:background .2s,color .2s}.google-btn[_ngcontent-%COMP%]:hover{background:#38bdf8}.google-logo[_ngcontent-%COMP%]{width:24px;height:24px}.side-panel.side-left[_ngcontent-%COMP%]{position:relative;overflow:hidden;background:#1d608b;min-height:400px}.side-img[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;z-index:0}.side-welcome-overlay[_ngcontent-%COMP%]{position:absolute;top:30%;left:50px;width:93%;text-align:start;z-index:2;padding:0 24px;pointer-events:auto}.welcome-back-title[_ngcontent-%COMP%]{font-size:2.1rem;font-weight:800;color:#fff;margin-bottom:8px}.welcome-back-desc[_ngcontent-%COMP%]{font-size:1rem;color:#e0f7fa;margin-bottom:18px}.action-btn[_ngcontent-%COMP%]{width:21%;background:#18314a;color:#fff;border:none;border-radius:8px;padding:14px 0;font-size:1.1rem;font-weight:700;margin-top:18px;margin-bottom:0;display:inline-block;letter-spacing:.5px;box-shadow:0 2px 8px #0003;cursor:pointer;transition:background .2s,color .2s}.action-btn[_ngcontent-%COMP%]:hover{background:#38bdf8;color:#18314a}.input-with-icon[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.input-with-icon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding-right:42px}.input-with-icon[_ngcontent-%COMP%]   .eye-toggle[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);background:none;border:none;font-size:1.2em;color:#888;cursor:pointer;line-height:1;padding:0;opacity:.8}.input-with-icon[_ngcontent-%COMP%]   .eye-toggle[_ngcontent-%COMP%]:hover{opacity:1;color:#555}.signin-field[_ngcontent-%COMP%]   input.invalid[_ngcontent-%COMP%]{border:1px solid #ff5252}.side-panel.side-left[_ngcontent-%COMP%]{position:relative}.side-panel.side-left[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(205deg,#05192ed9 8%,#05192eb3 40%,#05192e59 75%);z-index:1;pointer-events:none}.side-panel.side-left[_ngcontent-%COMP%]   .side-welcome-overlay[_ngcontent-%COMP%]{position:absolute;top:44%;left:10%;z-index:2;background:#0f28468c;backdrop-filter:blur(6px) saturate(140%);-webkit-backdrop-filter:blur(6px) saturate(140%);padding:20px 24px 24px;border-radius:18px;border:1px solid rgba(255,255,255,.15);box-shadow:0 4px 20px -4px #0000008c,0 0 0 1px #ffffff0d;max-width:429px;width:auto;text-align:center}.side-panel.side-left[_ngcontent-%COMP%]   .welcome-back-desc[_ngcontent-%COMP%], .side-panel.side-left[_ngcontent-%COMP%]   .welcome-back-title[_ngcontent-%COMP%]{text-shadow:0 2px 6px rgba(0,0,0,.6)}.side-panel.side-left[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{background:#38bdf8;color:#082a47;border:1px solid #4fd3ff;box-shadow:0 0 0 1px #ffffff0f,0 6px 18px -4px #0000008c;padding:10px 28px;width:auto;margin-top:4px;letter-spacing:.6px;transition:background .25s,box-shadow .25s,transform .25s}.side-panel.side-left[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{background:#4fd3ff;box-shadow:0 0 0 1px #ffffff14,0 8px 22px -6px #0009;transform:translateY(-2px)}.side-panel.side-left[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.side-panel.side-left[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:focus-visible{outline:2px solid #fff;outline-offset:3px}@media (max-width: 900px){.side-panel.side-left[_ngcontent-%COMP%]   .side-welcome-overlay[_ngcontent-%COMP%]{left:50%;top:auto;bottom:20px;transform:translate(-50%);max-width:92%;padding:18px 20px 22px}}.side-panel.side-right[_ngcontent-%COMP%]{position:relative;overflow:hidden}.side-panel.side-right[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(205deg,#05192ed9 10%,#05192eb3 45%,#05192e52 78%);z-index:1;pointer-events:none}.side-panel.side-right[_ngcontent-%COMP%]   .side-info-box[_ngcontent-%COMP%]{position:absolute;top:38%;left:7%;z-index:2;background:#0f28468c;backdrop-filter:blur(6px) saturate(140%);-webkit-backdrop-filter:blur(6px) saturate(140%);padding:20px 24px 24px;border-radius:18px;border:1px solid rgba(255,255,255,.15);box-shadow:0 4px 20px -4px #0000008c,0 0 0 1px #ffffff0d;max-width:469px;text-align:center}.side-panel.side-right[_ngcontent-%COMP%]   .welcome-back-title[_ngcontent-%COMP%], .side-panel.side-right[_ngcontent-%COMP%]   .welcome-back-desc[_ngcontent-%COMP%]{text-shadow:0 2px 6px rgba(0,0,0,.6)}.side-panel.side-right[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{background:#38bdf8;color:#082a47;border:1px solid #4fd3ff;box-shadow:0 0 0 1px #ffffff0f,0 6px 18px -4px #0000008c;padding:10px 28px;width:auto;margin-top:4px;letter-spacing:.6px;transition:background .25s,box-shadow .25s,transform .25s}.side-panel.side-right[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{background:#4fd3ff;box-shadow:0 0 0 1px #ffffff14,0 8px 22px -6px #0009;transform:translateY(-2px)}.side-panel.side-right[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.side-panel.side-right[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:focus-visible{outline:2px solid #fff;outline-offset:3px}@media (max-width: 900px){.side-panel.side-right[_ngcontent-%COMP%]   .side-info-box[_ngcontent-%COMP%]{left:50%;top:auto;bottom:20px;transform:translate(-50%);max-width:92%;padding:18px 20px 22px}}.signin-brand-logo[_ngcontent-%COMP%]{position:absolute;top:18px;left:24px;z-index:1200}.signin-brand-logo[_ngcontent-%COMP%]   .brand-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;text-decoration:none}.brand-logo-img[_ngcontent-%COMP%]{height:42px;display:block;filter:drop-shadow(0 2px 6px rgba(0,0,0,.4));max-width:5vw;height:auto;background:#fff;border-radius:1vw;margin:.5vw}.brand-text[_ngcontent-%COMP%]{font-size:1.05rem;font-weight:700;letter-spacing:.6px;color:#fff;text-shadow:0 2px 6px rgba(0,0,0,.6);font-family:inherit}.signin-brand-logo[_ngcontent-%COMP%]:hover   .brand-text[_ngcontent-%COMP%]{color:#4fd3ff}@media (max-width:700px){.signin-brand-logo[_ngcontent-%COMP%]{top:10px;left:10px;padding:6px 12px 6px 8px}.brand-logo-img[_ngcontent-%COMP%]{width:34px;height:34px}.brand-text[_ngcontent-%COMP%]{font-size:.9rem}}.signin-watermark[_ngcontent-%COMP%]{text-decoration:none;position:absolute;bottom:14px;right:22px;font-size:1vw;font-weight:600;letter-spacing:.5px;color:#fff;text-shadow:0 1px 4px rgba(0,0,0,.4)}@media (max-width:700px){.signin-watermark[_ngcontent-%COMP%]{bottom:8px;right:12px;font-size:.65rem}}.social-icons.signin-social-icons[_ngcontent-%COMP%]{position:absolute;top:18px;right:24px;z-index:1200;display:flex;gap:18px}.social-icons.signin-social-icons[_ngcontent-%COMP%]   .social-icon[_ngcontent-%COMP%]{width:42px;height:42px;display:inline-flex;align-items:center;justify-content:center;border-radius:50%;background-color:#fff;color:#38bdf8;font-size:18px;box-shadow:0 0 0 1px #214055,0 4px 14px #0006;transition:background-color .25s,color .25s,transform .25s,box-shadow .25s;text-decoration:none}.social-icons.signin-social-icons[_ngcontent-%COMP%]   .social-icon.facebook[_ngcontent-%COMP%]{color:#1877f2}.social-icons.signin-social-icons[_ngcontent-%COMP%]   .social-icon.youtube[_ngcontent-%COMP%]{color:red}.social-icons.signin-social-icons[_ngcontent-%COMP%]   .social-icon.linkedin[_ngcontent-%COMP%]{color:#0a66c2}.social-icons.signin-social-icons[_ngcontent-%COMP%]   .social-icon.instagram[_ngcontent-%COMP%]{color:#fd5949}.social-icons.signin-social-icons[_ngcontent-%COMP%]   .social-icon.facebook[_ngcontent-%COMP%]:hover{background-color:#1877f2;color:#fff}.social-icons.signin-social-icons[_ngcontent-%COMP%]   .social-icon.youtube[_ngcontent-%COMP%]:hover{background-color:red;color:#fff}.social-icons.signin-social-icons[_ngcontent-%COMP%]   .social-icon.linkedin[_ngcontent-%COMP%]:hover{background-color:#0a66c2;color:#fff}.social-icons.signin-social-icons[_ngcontent-%COMP%]   .social-icon.instagram[_ngcontent-%COMP%]:hover{background:radial-gradient(circle at 30% 110%,#fdf497,#fd5949 45%,#d6249f 60%,#285aeb 90%);color:#fff;filter:brightness(1.15);box-shadow:0 6px 22px #fd594999}.social-icons.signin-social-icons[_ngcontent-%COMP%]   .social-icon.website[_ngcontent-%COMP%]:hover{background-color:#009688;color:#fff;transform:translateY(-4px);box-shadow:0 6px 20px #00968888,0 0 0 2px #009688 inset}@media (max-width:700px){.social-icons.signin-social-icons[_ngcontent-%COMP%]{top:10px;right:10px;gap:10px}.social-icons.signin-social-icons[_ngcontent-%COMP%]   .social-icon[_ngcontent-%COMP%]{width:28px;height:28px;font-size:1em}}'],data:{animation:[nb("fadeInOut",[rp(":enter",[kl({opacity:0}),ip("300ms ease-in",kl({opacity:1}))]),rp(":leave",[ip("300ms ease-out",kl({opacity:0}))])])]},changeDetection:0})}}return e})();var hb=(e,n)=>{let t=E(ui),i=E(Ke);return t.isLoggedIn()?!0:t.checkSession().pipe($(r=>r?!0:(localStorage.setItem("redirectAfterLogin",n.url),i.navigate(["/login"]),!1)),Je(()=>(localStorage.setItem("redirectAfterLogin",n.url),i.navigate(["/login"]),F(!1))))};var vb=Rb(pb());var Xe=[];for(let e=0;e<256;++e)Xe.push((e+256).toString(16).slice(1));function mb(e,n=0){return(Xe[e[n+0]]+Xe[e[n+1]]+Xe[e[n+2]]+Xe[e[n+3]]+"-"+Xe[e[n+4]]+Xe[e[n+5]]+"-"+Xe[e[n+6]]+Xe[e[n+7]]+"-"+Xe[e[n+8]]+Xe[e[n+9]]+"-"+Xe[e[n+10]]+Xe[e[n+11]]+Xe[e[n+12]]+Xe[e[n+13]]+Xe[e[n+14]]+Xe[e[n+15]]).toLowerCase()}var hp,Kk=new Uint8Array(16);function fp(){if(!hp){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");hp=crypto.getRandomValues.bind(crypto)}return hp(Kk)}var Xk=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),pp={randomUUID:Xk};function Jk(e,n,t){e=e||{};let i=e.random??e.rng?.()??fp();if(i.length<16)throw new Error("Random bytes length must be >= 16");if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,n){if(t=t||0,t<0||t+16>n.length)throw new RangeError(`UUID byte range ${t}:${t+15} is out of buffer bounds`);for(let r=0;r<16;++r)n[t+r]=i[r];return n}return mb(i)}function eP(e,n,t){return pp.randomUUID&&!n&&!e?pp.randomUUID():Jk(e,n,t)}var Nl=eP;var gb=(()=>{class e{constructor(t){this.http=t,this.apiBaseSrc=di.apiBaseUrl.replace(/\/+$/,""),this.apiBase=`${this.apiBaseSrc}/staticchat`;let i=sessionStorage.getItem("chat_user_id");i?this.userId=i:(this.userId=Nl(),sessionStorage.setItem("chat_user_id",this.userId)),console.log("Chat session user_id:",this.userId)}getUserId(){return this.userId}resetSession(){let t=this.userId;return this.userId=Nl(),sessionStorage.setItem("chat_user_id",this.userId),console.log("Session reset. New user_id:",this.userId),this.http.post(`${this.apiBase}/context/${t}/clear`,{})}searchQuestion(t){return this.http.post(`${this.apiBase}/search`,{question:t,user_id:this.userId})}getAllQuestions(){return this.http.get(`${this.apiBase}/questions`)}getRandomSuggestions(t=5){return this.http.get(`${this.apiBase}/suggestions`,{params:{count:t.toString()}})}getContextSuggestions(){return this.http.get(`${this.apiBase}/context/suggestions/${this.userId}`)}getContext(){return this.http.get(`${this.apiBase}/context/${this.userId}`)}static{this.\u0275fac=function(i){return new(i||e)(y(Kt))}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var nP=["chatContainer"],iP=["messageInput"],rP=["videoPlayer"];function oP(e,n){if(e&1&&(d(0,"div",24)(1,"div",25)(2,"span",26),u(3),l(),d(4,"div",27),u(5),To(6,"date"),l()(),g(7,"img",28),l()),e&2){let t=D().$implicit;m(3),Te(t.user.text),m(2),Oe(" ",Ao(6,2,t.user.timestamp,"shortTime")," ")}}function sP(e,n){if(e&1&&(d(0,"span",26),u(1),l()),e&2){let t=D(2).$implicit;m(),Te(t.bot.text)}}function aP(e,n){if(e&1&&(d(0,"span",26),u(1),l()),e&2){let t=D(3);m(),Te(t.showExtraTextRaw)}}function cP(e,n){if(e&1){let t=W();d(0,"button",36),M("click",function(){A(t);let r=D(3).$implicit,o=D();return O(o.playAudio(r.bot.rawData==null?null:r.bot.rawData.audio_url))}),u(1," \u{1F50A} Audio "),l()}}function lP(e,n){if(e&1){let t=W();d(0,"button",36),M("click",function(){A(t);let r=D(3).$implicit,o=D();return O(o.playResponseVideo(r.bot.rawData==null?null:r.bot.rawData.video_url,!1,r.bot.rawData==null?null:r.bot.rawData.answer))}),u(1," \u{1F3AC} Video "),l()}}function dP(e,n){if(e&1){let t=W();d(0,"button",36),M("click",function(){A(t);let r=D(3).$implicit,o=D();return O(o.playResponseVideo(r.bot.rawData==null?null:r.bot.rawData.detail_url,!0,r.bot.rawData==null?null:r.bot.rawData.detail_text))}),u(1," \u{1F4A1} Detail "),l()}}function uP(e,n){if(e&1){let t=W();d(0,"button",36),M("click",function(){A(t);let r=D(3).$implicit,o=D();return O(o.playResponseVideo(r.bot.rawData==null?null:r.bot.rawData.story_url,!0,r.bot.rawData==null?null:r.bot.rawData.story_text))}),u(1," \u{1F4D6} Story "),l()}}function hP(e,n){if(e&1){let t=W();d(0,"button",36),M("click",function(){A(t);let r=D(3).$implicit,o=D();return O(o.playResponseVideo(r.bot.rawData==null?null:r.bot.rawData.example_url,!0,r.bot.rawData==null?null:r.bot.rawData.example_text))}),u(1," \u{1F9EA} Example "),l()}}function fP(e,n){if(e&1&&(d(0,"div",34),L(1,cP,2,0,"button",35)(2,lP,2,0,"button",35)(3,dP,2,0,"button",35)(4,uP,2,0,"button",35)(5,hP,2,0,"button",35),l()),e&2){let t=D(2).$implicit;m(),b("ngIf",t.bot.rawData==null?null:t.bot.rawData.audio_url),m(),b("ngIf",t.bot.rawData==null?null:t.bot.rawData.video_url),m(),b("ngIf",t.bot.rawData==null?null:t.bot.rawData.detail_url),m(),b("ngIf",t.bot.rawData==null?null:t.bot.rawData.story_url),m(),b("ngIf",t.bot.rawData==null?null:t.bot.rawData.example_url)}}function pP(e,n){if(e&1&&(d(0,"div",29),g(1,"img",30),d(2,"div",31),L(3,sP,2,1,"span",32)(4,aP,2,1,"span",32)(5,fP,6,5,"div",33),d(6,"div",27),u(7),To(8,"date"),l()()()),e&2){let t=D().$implicit,i=D();m(3),b("ngIf",t.bot.text&&!i.showExtraText),m(),b("ngIf",i.showExtraText),m(),b("ngIf",t.bot.rawData&&((t.bot.rawData==null?null:t.bot.rawData.audio_url)||(t.bot.rawData==null?null:t.bot.rawData.video_url))),m(2),Oe(" ",Ao(8,4,t.bot.timestamp,"shortTime")," ")}}function mP(e,n){if(e&1&&(d(0,"div",21),L(1,oP,8,5,"div",22)(2,pP,9,7,"div",23),l()),e&2){let t=n.$implicit,i=n.index;he("data-index",i),m(),b("ngIf",t.user),m(),b("ngIf",t.bot)}}function gP(e,n){e&1&&(d(0,"div",37),g(1,"div",38)(2,"div",38)(3,"div",38),l())}function vP(e,n){if(e&1){let t=W();d(0,"div",41),M("click",function(){let r=A(t).$implicit,o=D(2);return O(o.selectQuestion(r))}),u(1),l()}if(e&2){let t=n.$implicit;m(),Oe(" ",t," ")}}function _P(e,n){if(e&1&&(d(0,"div",39),L(1,vP,2,1,"div",40),l()),e&2){let t=D();m(),b("ngForOf",t.suggestedQuestions)}}function yP(e,n){if(e&1){let t=W();d(0,"div",42)(1,"button",43),M("click",function(){A(t);let r=D();return O(r.reject())}),u(2,"\u274C"),l(),d(3,"button",44),M("click",function(){A(t);let r=D();return O(r.accept())}),u(4,"\u2705"),l()()}}var _b=(()=>{class e{constructor(t,i,r,o,s){this.fb=t,this.chatService=i,this.zone=o,this.http=s,this.messages=[],this.isTyping=!1,this.suggestedQuestions=[],this.showSuggestions=!1,this.allQuestions=[],this.searchQuery=new z,this.selectedQuestions=new Set,this.currentPairIndex=0,this.blinkVideoSrc="assets/staticchat/blink.mp4",this.introVideoSrc="assets/staticchat/intro.mp4",this.currentVideoType="blink",this.currentResponseVideoUrl=null,this.isVideoPlaying=!1,this.audioPlayer=null,this.hasChatStarted=!1,this.lastResponseVideoUrl=null,this.supported=!1,this.isListening=!1,this.showActions=!1,this.isBrowser=!1,this.mediaStream=null,this.recorder=null,this.chunks=[],this.uploadInProgress=!1,this.isSpeechProcessing=!1,this.showExtraText=!1,this.showExtraTextRaw="",this.apiBaseSrc=di.apiBaseUrl.replace(/\/+$/,""),this.chatForm=this.fb.group({message:["",jn.required]}),this.searchQuery.pipe(er(300),tr()).subscribe(a=>{this.searchQuestions(a)}),this.isBrowser=gn(r)}ngOnInit(){if(!this.isBrowser||(Promise.all([this.http.get("assets/dictionaries/en_us.aff",{responseType:"text"}).toPromise(),this.http.get("assets/dictionaries/en_us.dic",{responseType:"text"}).toPromise()]).then(([r,o])=>{this.spell=new vb.default("en_US",r,o),console.log("Spell loaded successfully")}).catch(r=>{console.error("Dictionary load failed",r)}),this.messages.push({id:1,text:"Hello children! Today we will learn tenses in a simple and fun way.",sender:"bot",timestamp:new Date}),!this.isBrowser))return;let t=!!navigator.mediaDevices?.getUserMedia,i=typeof window.MediaRecorder<"u";this.supported=t&&i,this.loadAllQuestions(),setTimeout(()=>this.scrollToLastPair(),0)}ngAfterViewInit(){this.playBlinkVideo()}autoCorrectInput(t){if(!this.spell)return t;let i=t.split(" "),r=i.length-2;if(r>=0){let o=i[r];if(o&&!this.spell.check(o)){let s=this.spell.suggest(o);s.length>0&&(i[r]=s[0])}}return i.join(" ")}handleSpaceKey(){let t=this.chatForm.get("message")?.value;if(!t)return;let i=this.autoCorrectInput(t);this.chatForm.get("message")?.setValue(i,{emitEvent:!1}),setTimeout(()=>{this.messageInput?.nativeElement.focus()},0)}safeVideo(){try{return this.videoRef.nativeElement}catch{return null}}playBlinkVideo(){let t=this.safeVideo();t&&(t.onended=null,t.src=this.blinkVideoSrc,t.loop=!0,t.muted=!0,t.currentTime=0,t.play().catch(()=>{}),this.currentVideoType="blink",this.currentResponseVideoUrl=null,this.isVideoPlaying=!1)}playIntroVideo(){let t=this.safeVideo();t&&(this.audioPlayer&&!this.audioPlayer.paused&&this.audioPlayer.pause(),t.onended=()=>{this.playBlinkVideo()},t.src=this.introVideoSrc,t.loop=!1,t.muted=!1,t.currentTime=0,t.play().catch(()=>{t.muted=!0,t.play().catch(()=>{})}),this.currentVideoType="intro",this.currentResponseVideoUrl=null,this.isVideoPlaying=!0)}playResponseVideo(t,i,r){if(this.showExtraText=i,this.showExtraTextRaw=r,!t)return;let o=this.safeVideo();o&&(this.audioPlayer&&!this.audioPlayer.paused&&this.audioPlayer.pause(),o.onended=()=>{this.playBlinkVideo()},this.currentResponseVideoUrl=t,this.currentVideoType="response",o.src=t,o.loop=!1,o.muted=!1,o.currentTime=0,o.play().then(()=>{this.isVideoPlaying=!0}).catch(()=>{o.muted=!0,o.play().catch(()=>{}),this.isVideoPlaying=!o.paused}))}showContentText(t,i){if(!t.bot?.rawData)return;let r=i+"_text",o=i+"_url",s=t.bot.rawData[r],a=t.bot.rawData[o];t.bot.rawData._activeContentType===i?(t.bot.rawData._activeContentType=null,t.bot.rawData._activeContentText=null):(t.bot.rawData._activeContentType=i,t.bot.rawData._activeContentText=s||"No text available for this section."),a&&this.playResponseVideo(a)}togglePlayPause(){let t=this.safeVideo();if(t){if(this.currentVideoType==="blink"){if(!this.hasChatStarted){this.playIntroVideo();return}this.lastResponseVideoUrl&&this.playResponseVideo(this.lastResponseVideoUrl);return}t.paused?(this.audioPlayer&&!this.audioPlayer.paused&&this.audioPlayer.pause(),t.play().catch(()=>{}),this.isVideoPlaying=!0):(t.pause(),this.isVideoPlaying=!1)}}loadAllQuestions(){this.chatService.getAllQuestions().subscribe({next:t=>{t.success&&(this.allQuestions=t.questions)},error:t=>console.error("Error loading questions:",t)})}onInputFocus(){this.showQuestionSuggestions()}onInputClick(){this.showQuestionSuggestions()}showQuestionSuggestions(){if(this.allQuestions.length===0){this.loadAllQuestions();return}if(this.messages.length<=1){this.suggestedQuestions=this.allQuestions.slice(0,5).map(i=>i.question),this.showSuggestions=!0;return}let t=this.allQuestions.filter(i=>!this.selectedQuestions.has(i.question));if(t.length===0){let i=[...this.allQuestions].sort(()=>.5-Math.random());this.suggestedQuestions=i.slice(0,5).map(r=>r.question)}else this.suggestedQuestions=t.slice(0,5).map(i=>i.question);this.showSuggestions=!0}searchQuestions(t){if(t.length>0){let i=this.allQuestions.filter(r=>r.question.toLowerCase().includes(t.toLowerCase())).slice(0,5);this.suggestedQuestions=i.map(r=>r.question),this.showSuggestions=this.suggestedQuestions.length>0}else this.showQuestionSuggestions()}onInputChange(){let t=this.chatForm.get("message")?.value;t?this.searchQuery.next(t):this.showQuestionSuggestions()}selectQuestion(t){this.selectedQuestions.add(t),this.chatForm.get("message")?.setValue(t),this.showSuggestions=!1,this.suggestedQuestions=this.suggestedQuestions.filter(i=>i!==t),this.sendMessage()}sendMessage(){let t=this.chatForm.get("message")?.value.trim();t&&(this.messages.push({id:this.messages.length+1,text:t,sender:"user",timestamp:new Date}),this.hasChatStarted=!0,this.chatForm.reset(),this.showSuggestions=!1,this.isTyping=!0,setTimeout(()=>this.scrollToLastPair(),50),this.chatService.searchQuestion(t).subscribe({next:i=>{this.isTyping=!1;let r=i.answer?i.answer.replace(/\n/g," "):i.message||"Sorry, I could not find an answer.";this.messages.push({id:this.messages.length+1,text:r,sender:"bot",timestamp:new Date,rawData:i}),setTimeout(()=>this.scrollToLastPair(),50),i.audio_url&&this.playAudio(i.audio_url),i.video_url&&(this.lastResponseVideoUrl=i.video_url,this.playResponseVideo(i.video_url))},error:()=>{this.isTyping=!1,this.messages.push({id:this.messages.length+1,text:"Sorry, I encountered an error. Please try again.",sender:"bot",timestamp:new Date}),setTimeout(()=>this.scrollToLastPair(),50)}}))}playAudio(t){if(t)try{let i=this.safeVideo();i&&this.currentVideoType!=="blink"&&!i.paused&&(i.pause(),this.isVideoPlaying=!1),this.audioPlayer?this.audioPlayer.pause():this.audioPlayer=new Audio,this.audioPlayer.src=t,this.audioPlayer.currentTime=0,this.audioPlayer.play().catch(()=>{})}catch(i){console.error("Audio play failed",i)}}playVideoFromChat(t){t&&this.playResponseVideo(t)}formatAnswer(t){let i="",r=t.answer?.replace(/\n/g,"<br>")??"No answer available.";return i+=`<div class="bot-answer">${r}</div>`,(t.audio_url||t.video_url)&&(i+='<div class="media-row">',t.audio_url&&(i+=`
        <span class="media-icon" 
              onclick="window.dispatchEvent(new CustomEvent('playAudio', { detail: '${t.audio_url}' }))">
          \u{1F3A7}
        </span>`),t.video_url&&(i+=`
        <span class="media-icon"
              onclick="window.dispatchEvent(new CustomEvent('playVideo', { detail: '${t.video_url}' }))">
          \u{1F4FA}
        </span>`),i+="</div>"),i}formatErrorMessage(t){let i=t.message||"I couldn't find an exact match.";return t.sample_questions?.length&&(i+="<br><br><strong>Try asking:</strong><ul>",t.sample_questions.forEach(r=>i+=`<li>${r}</li>`),i+="</ul>"),i}get pairedMessages(){let t=[],i=this.messages||[],r=0;for(;r<i.length;){let o=i[r];if(o.sender==="user"){let s={user:o},a=i[r+1];a&&a.sender==="bot"?(s.bot=a,r+=2):r+=1,t.push(s)}else o.sender==="bot"?(t.push({bot:o}),r+=1):(t.push({bot:o}),r+=1)}return t}showNextPair(){let t=this.pairedMessages.length;if(t===0)return;let i=Math.min(this.currentPairIndex+1,t-1);this.scrollToPair(i)}showPreviousPair(){if(this.pairedMessages.length===0)return;let i=Math.max(this.currentPairIndex-1,0);this.scrollToPair(i)}scrollToPair(t){setTimeout(()=>{try{let i=this.chatContainer.nativeElement,r=i.querySelectorAll(".pair");if(!r||r.length===0)return;t<0&&(t=0),t>=r.length&&(t=r.length-1);let o=r[t];if(!o)return;i.scrollTo({top:o.offsetTop,behavior:"smooth"}),this.currentPairIndex=t}catch{try{let r=this.chatContainer.nativeElement;t===0?r.scrollTop=0:r.scrollTop=r.scrollHeight}catch{}}},50)}scrollToLastPair(){setTimeout(()=>{try{let t=this.pairedMessages.length;if(t===0)return;this.scrollToPair(t-1)}catch{}},50)}scrollToTop(){setTimeout(()=>{try{let t=this.chatContainer.nativeElement;typeof t.scrollTo=="function"?t.scrollTo({top:0,behavior:"smooth"}):t.scrollTop=0}catch{}},100)}clearChat(){this.messages=[],this.selectedQuestions.clear(),this.hasChatStarted=!1,this.lastResponseVideoUrl=null,this.ngOnInit(),this.playBlinkVideo()}pickMimeType(){let t=window,i=["audio/webm;codecs=opus","audio/webm","audio/mp4","audio/m4a"];if(!t.MediaRecorder?.isTypeSupported)return"";for(let r of i)if(t.MediaRecorder.isTypeSupported(r))return r;return""}toggleMic(){return st(this,null,function*(){if(!(!this.supported||this.isListening||this.uploadInProgress))try{this.mediaStream=yield navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0}});let t=this.pickMimeType();this.chunks=[],this.recorder=t?new MediaRecorder(this.mediaStream,{mimeType:t}):new MediaRecorder(this.mediaStream),this.recorder.ondataavailable=i=>{i.data&&i.data.size>0&&this.chunks.push(i.data)},this.recorder.onerror=()=>{this.zone.run(()=>{this.handleTranscriptionError("Audio recording error."),this.cleanupRecorder()})},this.zone.run(()=>{this.isListening=!0,this.showActions=!0}),this.recorder.start()}catch{this.zone.run(()=>{this.handleTranscriptionError("Microphone permission denied or not available."),this.cleanupRecorder()})}})}accept(){if(!(!this.recorder||this.uploadInProgress)){this.uploadInProgress=!0,this.recorder.onstop=()=>st(this,null,function*(){try{let t=this.recorder?.mimeType||"audio/webm",i=new Blob(this.chunks,{type:t});this.zone.run(()=>{this.isSpeechProcessing=!0,this.showActions=!1,this.isListening=!1,this.chatForm.get("message")?.setValue("\u23F3 Converting speech to text...")});let r=yield this.sendToBackendForTranscription(i);this.zone.run(()=>{this.isSpeechProcessing=!1,r&&r.trim()?this.handleTranscriptionAccepted(r.trim()):this.chatForm.get("message")?.setValue("")})}catch(t){this.zone.run(()=>{this.handleTranscriptionError(typeof t?.message=="string"?t.message:"Transcription failed."),this.showActions=!1,this.isListening=!1})}finally{this.uploadInProgress=!1,this.cleanupRecorder()}});try{this.recorder.stop()}catch{this.uploadInProgress=!1,this.cleanupRecorder()}}}reject(){if(!this.uploadInProgress){try{this.recorder?.stop()}catch{}this.zone.run(()=>{this.handleTranscriptionRejected(),this.showActions=!1,this.isListening=!1}),this.cleanupRecorder()}}sendToBackendForTranscription(t){return st(this,null,function*(){let i=`${this.apiBaseSrc}/staticchat/transcribe`,r=new FormData;r.append("file",t,"speech.webm");let o=yield fetch(i,{method:"POST",body:r});if(!o.ok){let a=yield o.text().catch(()=>"");throw new Error(a||`Transcribe API failed (${o.status}).`)}return((yield o.json())?.text||"").toString()})}cleanupRecorder(){try{this.recorder?.removeEventListener?.("dataavailable",()=>{})}catch{}if(this.recorder=null,this.chunks=[],this.mediaStream){try{this.mediaStream.getTracks().forEach(t=>t.stop())}catch{}this.mediaStream=null}}handleClickOutside(t){this.showSuggestions&&this.messageInput&&(this.messageInput.nativeElement.contains(t.target)||(this.showSuggestions=!1))}handleTranscriptionAccepted(t){try{this.chatForm.get("message")?.setValue(t),setTimeout(()=>{this.messageInput?.nativeElement.focus()},0)}catch(i){console.error("handleTranscriptionAccepted error",i)}}handleTranscriptionRejected(){try{this.chatForm.get("message")?.setValue("")}catch(t){console.error("handleTranscriptionRejected error",t)}}handleTranscriptionError(t){try{this.isSpeechProcessing=!1,this.chatForm.get("message")?.setValue(""),this.messages.push({id:this.messages.length+1,text:`Transcription error: ${t}`,sender:"bot",timestamp:new Date}),setTimeout(()=>this.scrollToLastPair(),50)}catch(i){console.error("handleTranscriptionError error",i)}}static{this.\u0275fac=function(i){return new(i||e)(C(nl),C(gb),C(it),C(j),C(Kt))}}static{this.\u0275cmp=_e({type:e,selectors:[["app-staticchat"]],viewQuery:function(i,r){if(i&1&&(pt(nP,5),pt(iP,5),pt(rP,5)),i&2){let o;Qe(o=Ze())&&(r.chatContainer=o.first),Qe(o=Ze())&&(r.messageInput=o.first),Qe(o=Ze())&&(r.videoRef=o.first)}},hostBindings:function(i,r){i&1&&M("click",function(s){return r.handleClickOutside(s)},!1,rc)},decls:26,vars:10,consts:[["chatContainer",""],["messageInput",""],["videoPlayer",""],[1,"staticchat-container"],[1,"nav-bar"],[1,"chat-container"],[1,"chat-window"],["title","Prev message",1,"arrow-btn","up",3,"click"],[1,"chat-messages"],["class","pair",4,"ngFor","ngForOf"],["class","typing-indicator",4,"ngIf"],["title","Next message",1,"arrow-btn","down",3,"click"],["class","suggestions-box",4,"ngIf"],[1,"chat-input",3,"ngSubmit","formGroup"],["type","text","formControlName","message",3,"focus","input","keyup.space","placeholder","readonly"],["type","button",1,"micBtn",3,"click","disabled"],["class","actions",4,"ngIf"],["type","submit",3,"disabled"],[1,"video-window"],["autoplay","","muted","","playsinline",""],[1,"play-pause-btn",3,"click","src"],[1,"pair"],["class","message-row user-row",4,"ngIf"],["class","message-row bot-row",4,"ngIf"],[1,"message-row","user-row"],[1,"message-bubble","user-message"],[2,"font-size","1.5vw"],[1,"message-time"],["src","assets/staticchat/student.png",1,"avatar"],[1,"message-row","bot-row"],["src","assets/staticchat/teacher.png",1,"avatar"],[1,"message-bubble","bot-message"],["style","font-size:1.5vw;",4,"ngIf"],["class","mediaRow",4,"ngIf"],[1,"mediaRow"],["class","chip",3,"click",4,"ngIf"],[1,"chip",3,"click"],[1,"typing-indicator"],[1,"dot"],[1,"suggestions-box"],["class","suggestion-item",3,"click",4,"ngFor","ngForOf"],[1,"suggestion-item",3,"click"],[1,"actions"],[1,"reject",3,"click"],[1,"accept",3,"click"]],template:function(i,r){if(i&1){let o=W();d(0,"div",3)(1,"div",4),u(2,"MJ-CHAT"),l(),d(3,"div",5)(4,"div",6)(5,"button",7),M("click",function(){return A(o),O(r.showPreviousPair())}),u(6,"\u2191"),l(),d(7,"div",8,0),L(9,mP,3,3,"div",9)(10,gP,4,0,"div",10),l(),d(11,"button",11),M("click",function(){return A(o),O(r.showNextPair())}),u(12,"\u2193"),l(),L(13,_P,2,1,"div",12),d(14,"form",13),M("ngSubmit",function(){return A(o),O(r.sendMessage())}),d(15,"input",14,1),M("focus",function(){return A(o),O(r.onInputFocus())})("input",function(){return A(o),O(r.onInputChange())})("keyup.space",function(){return A(o),O(r.handleSpaceKey())}),l(),d(17,"button",15),M("click",function(){return A(o),O(r.toggleMic())}),u(18," \u{1F3A4} "),l(),L(19,yP,5,0,"div",16),d(20,"button",17),u(21," \u27A4 "),l()()(),d(22,"div",18),g(23,"video",19,2),d(25,"img",20),M("click",function(){return A(o),O(r.togglePlayPause())}),l()()()()}i&2&&(m(9),b("ngForOf",r.pairedMessages),m(),b("ngIf",r.isTyping),m(3),b("ngIf",r.showSuggestions&&r.suggestedQuestions.length>0),m(),b("formGroup",r.chatForm),m(),b("placeholder",r.isListening?"\u23FA Listening...":"Type your message...")("readonly",r.isSpeechProcessing||r.isListening),m(2),b("disabled",!r.supported||r.isListening),m(2),b("ngIf",r.showActions),m(),b("disabled",!r.chatForm.valid),m(5),b("src",r.currentVideoType!=="blink"&&r.isVideoPlaying?"assets/staticchat/pause.png":"assets/staticchat/play.png",ie))},dependencies:[Er,bt,tl,ii,Ar,Kc,Wo,qo,Nv],styles:[".chat-container[_ngcontent-%COMP%], .chat-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,SF Pro Display,sans-serif!important}.staticchat-container[_ngcontent-%COMP%]{height:100vh;background:url(/assets/staticchat/bg-layout.png) repeat}.nav-bar[_ngcontent-%COMP%]{background-color:#192245;box-shadow:0 6px 18px #0000006b;text-align:center;color:#fff;font-size:2vw;font-family:Amonk_Outline!important;padding:1vw}.chat-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:89vh;padding:2vw;gap:2vw}.chat-window[_ngcontent-%COMP%]{width:100%;max-width:1000px;height:80vh;display:flex;flex-direction:column;border-radius:20px;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);background:#ffffff14;box-shadow:0 10px 40px #0006;overflow:hidden}.chat-messages[_ngcontent-%COMP%]{flex:1;overflow-y:auto;display:flex;flex-direction:column;gap:7vw}.message-row[_ngcontent-%COMP%]{display:flex;align-items:flex-end;gap:10px}.avatar[_ngcontent-%COMP%]{width:38px;height:38px;border-radius:50%;object-fit:cover;box-shadow:0 2px 6px #0000004d}.message-bubble[_ngcontent-%COMP%]{max-width:60%;padding:14px 18px 8px;border-radius:18px;font-size:clamp(14px,1vw,18px);line-height:1.6;display:flex;flex-direction:column}.user-message[_ngcontent-%COMP%]{background:linear-gradient(135deg,#09f,#06f);color:#fff;border-bottom-right-radius:6px}.bot-message[_ngcontent-%COMP%]{background:#fffffff2;color:#333;border-bottom-left-radius:6px}.message-time[_ngcontent-%COMP%]{font-size:clamp(10px,.7vw,12px);opacity:.6;margin-top:6px;align-self:flex-end}.typing-indicator[_ngcontent-%COMP%]{display:flex;gap:5px;align-items:center;color:#fff;padding-left:50px}.dot[_ngcontent-%COMP%]{width:6px;height:6px;background:#ccc;border-radius:50%;animation:_ngcontent-%COMP%_blink 1.4s infinite both}.dot[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.dot[_ngcontent-%COMP%]:nth-child(3){animation-delay:.4s}@keyframes _ngcontent-%COMP%_blink{0%{opacity:.2}20%{opacity:1}to{opacity:.2}}.suggestions-box[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0072ff,#00c6ff);max-height:250px;overflow-y:auto;border-radius:12px;margin:0 20px 10px;width:47vw}.suggestion-item[_ngcontent-%COMP%]{padding:10px 14px;cursor:pointer;color:#fff;font-size:1vw;font-weight:700;border-bottom:1px solid rgba(255,255,255,.1);transition:background .2s ease}.suggestion-item[_ngcontent-%COMP%]:hover{background:#ffffff26}.chat-input[_ngcontent-%COMP%]{display:flex;padding:16px;background:#ffffff26;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border-top:1px solid rgba(255,255,255,.2)}.chat-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;padding:12px 16px;border-radius:25px;border:none;outline:none;font-size:14px}.chat-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px;width:48px;height:48px;border-radius:50%;border:none;background:linear-gradient(135deg,#00c6ff,#0072ff);color:#fff;font-size:30px;cursor:pointer;transition:transform .2s ease}.chat-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.08)}.chat-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ffffff4d;border-radius:10px}.video-window[_ngcontent-%COMP%]{width:100%;max-width:640px;height:80vh;margin-left:20px;border-radius:20px;overflow:hidden;background:#ffffff0d;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:0 10px 30px #0006;display:flex;flex-direction:column;align-items:center;gap:2vw}.video-window[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%;height:100%;flex:1;object-fit:cover;background:#000}.play-pause-btn[_ngcontent-%COMP%]{position:relative;top:-1vw;width:4vw;min-width:40px;height:4vw;min-height:40px;cursor:pointer;border:2px solid #3f61ad;border-radius:50px;box-shadow:0 8px 20px #3f61ad2e,0 2px 6px #00000040;transition:transform .16s ease,box-shadow .16s ease;background:linear-gradient(180deg,#ffffff05,#00000008)}.play-pause-btn[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 16px 36px #3f61ad38,0 6px 12px #00000047}.play-pause-btn[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 6px 12px #00000038}.bot-answer[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,SF Pro Display,sans-serif!important;font-size:clamp(14px,1vw,18px);line-height:1.6}.micBtn[_ngcontent-%COMP%]{width:44px;height:44px;border:0;border-radius:999px;cursor:pointer;display:inline-flex;align-items:center;justify-content:center;background:#f3f4f6;font-size:30px!important}.micBtn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.micBtn.active[_ngcontent-%COMP%]{background:#111827}.micIcon[_ngcontent-%COMP%]{width:22px;height:22px;fill:#111827}.micBtn.active[_ngcontent-%COMP%]   .micIcon[_ngcontent-%COMP%]{fill:#fff}.actions[_ngcontent-%COMP%]{display:inline-flex;gap:8px;margin-left:8px;align-items:center}.okBtn[_ngcontent-%COMP%], .noBtn[_ngcontent-%COMP%]{font-size:18px;width:38px;height:38px;border-radius:999px;border:0;cursor:pointer;background:#f3f4f6}.okBtn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.okBtn[_ngcontent-%COMP%]:hover, .noBtn[_ngcontent-%COMP%]:hover{background:#e5e7eb}.mediaRow[_ngcontent-%COMP%]{display:flex;gap:1vw;font-size:1vw;padding-top:2vw}.chip[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;min-width:48px;height:clamp(30px,2vw,36px);padding:0 12px;background:linear-gradient(135deg,#00c6ff,#0072ff);color:#fff;font-weight:600;font-size:.9rem;border:none;border-radius:999px;box-shadow:0 6px 20px #0072ff2e,0 2px 6px #00000040;cursor:pointer;transition:transform .15s ease,box-shadow .15s ease,opacity .15s ease;-webkit-user-select:none;user-select:none}.chip[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 14px 30px #0072ff33,0 4px 10px #00000047}.chip[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 6px 14px #00000038;opacity:.98}.chip[_ngcontent-%COMP%]:focus{outline:3px solid rgba(0,114,255,.18);outline-offset:3px}.arrow-btn[_ngcontent-%COMP%]{position:fixed;right:16px;width:51px;height:51px;border-radius:50%;border:none;background:linear-gradient(135deg,#00c6ff,#0072ff);color:#fff;font-size:31px;box-shadow:0 6px 16px #00000040;cursor:pointer;transition:transform .15s ease,box-shadow .2s ease,background .2s ease;z-index:20}.up[_ngcontent-%COMP%]{top:1vw}.down[_ngcontent-%COMP%]{bottom:5vw}.chat-messages[_ngcontent-%COMP%]{overflow-y:auto;scroll-snap-type:y mandatory;-webkit-overflow-scrolling:touch}.pair[_ngcontent-%COMP%]{scroll-snap-align:start;min-height:100%;display:flex;flex-direction:column;justify-content:flex-start;padding:4.5rem 1rem;box-sizing:border-box;gap:2vw}.pair[_ngcontent-%COMP%] + .pair[_ngcontent-%COMP%]{margin-top:8px}.message-row[_ngcontent-%COMP%]{display:flex;align-items:flex-end;gap:.6rem}.bot-row[_ngcontent-%COMP%]{justify-content:flex-start}.user-row[_ngcontent-%COMP%]{justify-content:flex-end}.avatar[_ngcontent-%COMP%]{width:3.2rem;height:3.2rem;border-radius:50%;object-fit:cover}.message-bubble[_ngcontent-%COMP%]{max-width:70%;padding:.6rem .8rem;border-radius:.6rem;position:relative}.bot-message[_ngcontent-%COMP%]{background:#f1f1f1;color:#111}.user-message[_ngcontent-%COMP%]{color:#fff;background:linear-gradient(135deg,#00c6ff,#0072ff)}.message-time[_ngcontent-%COMP%]{font-size:.7rem;color:#000;margin-top:6px;text-align:right}.typing-indicator[_ngcontent-%COMP%]{display:flex;gap:.4rem;padding:.5rem;align-items:center}.typing-indicator[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:50%;background:#bbb;animation:_ngcontent-%COMP%_blink 1.2s infinite}@keyframes _ngcontent-%COMP%_blink{0%{opacity:.2}50%{opacity:1}to{opacity:.2}}"]})}}return e})();var bP=[{path:"",component:lp,pathMatch:"full",data:{title:"Home"}},{path:"home",component:lp,data:{title:"Home"}},{path:"login",component:ub,data:{title:"Sign In"}},{path:"chat/:id",component:Ey,canActivate:[hb],data:{title:"Chat",requiresAuth:!0}},{path:"staticchat",component:_b,data:{title:"Staticchat"}},{path:"**",redirectTo:"",data:{title:"Page Not Found"}}],yb=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=Y({type:e})}static{this.\u0275inj=q({imports:[ms.forRoot(bP,{enableTracing:!1,scrollPositionRestoration:"top",anchorScrolling:"enabled"}),ms]})}}return e})();var wP=["switch"],CP=["*"];function xP(e,n){e&1&&(d(0,"div",10),Xa(),d(1,"svg",12),g(2,"path",13),l(),d(3,"svg",14),g(4,"path",15),l()())}var DP=new k("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1})}),EP={provide:Tr,useExisting:fn(()=>bb),multi:!0},Fl=class{constructor(n,t){this.source=n,this.checked=t}},IP=0,bb=(()=>{class e{_createChangeEvent(t){return new Fl(this,t)}get buttonId(){return`${this.id||this._uniqueId}-button`}focus(){this._switchElement.nativeElement.focus()}get checked(){return this._checked}set checked(t){this._checked=t,this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,i,r,o,s,a){this._elementRef=t,this._focusMonitor=i,this._changeDetectorRef=r,this.defaults=s,this._onChange=c=>{},this._onTouched=()=>{},this._validatorOnChange=()=>{},this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this.change=new oe,this.toggleChange=new oe,this.tabIndex=parseInt(o)||0,this.color=s.color||"accent",this._noopAnimations=a==="NoopAnimations",this.id=this._uniqueId=`mat-mdc-slide-toggle-${++IP}`,this.hideIcon=s.hideIcon??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{t==="keyboard"||t==="program"?(this._focused=!0,this._changeDetectorRef.markForCheck()):t||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(t){t.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}validate(t){return this.required&&t.value!==!0?{required:!0}:null}registerOnValidatorChange(t){this._validatorOnChange=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new Fl(this,this.checked)))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static{this.\u0275fac=function(i){return new(i||e)(C(ae),C(Qr),C(Ue),yr("tabindex"),C(DP),C(In,8))}}static{this.\u0275cmp=_e({type:e,selectors:[["mat-slide-toggle"]],viewQuery:function(i,r){if(i&1&&pt(wP,5),i&2){let o;Qe(o=Ze())&&(r._switchElement=o.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(i,r){i&2&&(Cr("id",r.id),he("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),ih(r.color?"mat-"+r.color:""),ge("mat-mdc-slide-toggle-focused",r._focused)("mat-mdc-slide-toggle-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[G.None,"aria-label","ariaLabel"],ariaLabelledby:[G.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[G.None,"aria-describedby","ariaDescribedby"],required:[G.HasDecoratorInputTransform,"required","required",rt],color:"color",disabled:[G.HasDecoratorInputTransform,"disabled","disabled",rt],disableRipple:[G.HasDecoratorInputTransform,"disableRipple","disableRipple",rt],tabIndex:[G.HasDecoratorInputTransform,"tabIndex","tabIndex",t=>t==null?0:ch(t)],checked:[G.HasDecoratorInputTransform,"checked","checked",rt],hideIcon:[G.HasDecoratorInputTransform,"hideIcon","hideIcon",rt]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],standalone:!0,features:[Pt([EP,{provide:zo,useExisting:e,multi:!0}]),qt,tt,je],ngContentSelectors:CP,decls:13,vars:24,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(i,r){if(i&1){let o=W();Tn(),d(0,"div",1)(1,"button",2,0),M("click",function(){return A(o),O(r._handleClick())}),g(3,"div",3),d(4,"div",4)(5,"div",5)(6,"div",6),g(7,"div",7),l(),d(8,"div",8),g(9,"div",9),l(),L(10,xP,5,0,"div",10),l()()(),d(11,"label",11),M("click",function(a){return A(o),O(a.stopPropagation())}),An(12),l()()}if(i&2){let o=Yt(2);b("labelPosition",r.labelPosition),m(),ge("mdc-switch--selected",r.checked)("mdc-switch--unselected",!r.checked)("mdc-switch--checked",r.checked)("mdc-switch--disabled",r.disabled),b("tabIndex",r.disabled?-1:r.tabIndex)("disabled",r.disabled),he("id",r.buttonId)("name",r.name)("aria-label",r.ariaLabel)("aria-labelledby",r._getAriaLabelledBy())("aria-describedby",r.ariaDescribedby)("aria-required",r.required||null)("aria-checked",r.checked),m(8),b("matRippleTrigger",o)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),m(),rh(10,r.hideIcon?-1:10),m(),b("for",r.buttonId),he("id",r._labelId)}},dependencies:[eb,tb],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color)}.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative}.mdc-switch[hidden]{display:none}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%}@media screen and (forced-colors: active){.mdc-switch__track::before,.mdc-switch__track::after{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(-100%)}[dir=rtl] .mdc-switch__track::after,.mdc-switch__track[dir=rtl]::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track[dir=rtl]::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0)}[dir=rtl] .mdc-switch__handle-track,.mdc-switch__handle-track[dir=rtl]{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track,.mdc-switch--selected .mdc-switch__handle-track[dir=rtl]{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto}[dir=rtl] .mdc-switch__handle,.mdc-switch__handle[dir=rtl]{left:auto;right:0}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media screen and (forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-elevation-overlay{bottom:0;left:0;right:0;top:0}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1}.mdc-switch:disabled .mdc-switch__ripple{display:none}.mdc-switch__icons{height:100%;position:relative;width:100%;z-index:1}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mdc-switch-disabled-label-text-color)}.mdc-switch{width:var(--mdc-switch-track-width)}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color)}.mdc-switch.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color)}.mdc-switch .mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation)}.mdc-switch .mdc-switch__focus-ring-wrapper,.mdc-switch .mdc-switch__handle{height:var(--mdc-switch-handle-height)}.mdc-switch .mdc-switch__handle{border-radius:var(--mdc-switch-handle-shape)}.mdc-switch .mdc-switch__handle{width:var(--mdc-switch-handle-width)}.mdc-switch .mdc-switch__handle-track{width:calc(100% - var(--mdc-switch-handle-width))}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__icon{fill:var(--mdc-switch-selected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__icon{fill:var(--mdc-switch-unselected-icon-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size)}.mdc-switch.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-hover-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-focus-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-pressed-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-hover-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-focus-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-pressed-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-selected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-selected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-unselected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-unselected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch .mdc-switch__ripple{height:var(--mdc-switch-state-layer-size);width:var(--mdc-switch-state-layer-size)}.mdc-switch .mdc-switch__track{height:var(--mdc-switch-track-height)}.mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch:enabled .mdc-switch__track::after{background:var(--mdc-switch-selected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color)}.mdc-switch:enabled .mdc-switch__track::before{background:var(--mdc-switch-unselected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color)}.mdc-switch .mdc-switch__track{border-radius:var(--mdc-switch-track-shape)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle .mdc-switch__ripple::after{content:"";opacity:0}.mat-mdc-slide-toggle .mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:opacity 75ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-elevation-overlay,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mdc-switch__handle{transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-switch-unselected-handle-size);height:var(--mat-switch-unselected-handle-size)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-switch-selected-handle-size);height:var(--mat-switch-selected-handle-size)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-switch-with-icon-handle-size);height:var(--mat-switch-with-icon-handle-size)}.mat-mdc-slide-toggle:active .mdc-switch:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-switch-pressed-handle-size);height:var(--mat-switch-pressed-handle-size)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{margin:var(--mat-switch-selected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-selected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{margin:var(--mat-switch-unselected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-unselected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle:active .mdc-switch--selected:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-selected-pressed-handle-horizontal-margin)}.mat-mdc-slide-toggle:active .mdc-switch--unselected:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-unselected-pressed-handle-horizontal-margin)}.mdc-switch__track::after,.mdc-switch__track::before{border-width:var(--mat-switch-track-outline-width);border-color:var(--mat-switch-track-outline-color)}.mdc-switch--selected .mdc-switch__track::after,.mdc-switch--selected .mdc-switch__track::before{border-width:var(--mat-switch-selected-track-outline-width)}.mdc-switch--disabled .mdc-switch__track::after,.mdc-switch--disabled .mdc-switch__track::before{border-width:var(--mat-switch-disabled-unselected-track-outline-width);border-color:var(--mat-switch-disabled-unselected-track-outline-color)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-selected-handle-opacity)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-unselected-handle-opacity)}'],encapsulation:2,changeDetection:0})}}return e})();var wb=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=Y({type:e})}static{this.\u0275inj=q({imports:[bb,Lt,Lt]})}}return e})();var Cb=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=Y({type:e})}static{this.\u0275inj=q({imports:[Lt,Lt]})}}return e})();var xb=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=Y({type:e})}static{this.\u0275inj=q({imports:[Lt,wt,Lt]})}}return e})();var Db=(()=>{class e{constructor(t,i,r,o){this.authService=t,this.brandService=i,this.titleService=r,this.document=o,this.title="Py-Learn"}ngOnInit(){this.titleService.setTitle(this.brandService.name);let t=this.document.querySelector("link[rel*='icon']");t&&(t.href=this.brandService.name==="Py-Learn"?"assets/favicon.png":"assets/majema-favicon.png"),this.authService.checkSession().subscribe(i=>{i&&this.authService.startAutoRefresh()})}static{this.\u0275fac=function(i){return new(i||e)(C(ui),C(yn),C(Hc),C(Q))}}static{this.\u0275cmp=_e({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(i,r){i&1&&g(0,"router-outlet")},dependencies:[If],styles:["nav[_ngcontent-%COMP%]{margin:20px}button[_ngcontent-%COMP%]{margin-right:10px;padding:10px 20px;font-size:16px;cursor:pointer}"]})}}return e})();var Eb=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=Y({type:e,bootstrap:[Db]})}static{this.\u0275inj=q({imports:[i_,yb,Or,il,Yv,wt,ab,wb,Cb,xb,Rl,xl]})}}return e})();n_().bootstrapModule(Eb).catch(e=>console.error(e));
